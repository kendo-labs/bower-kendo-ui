{"version":3,"file":"kendo.colorpicker.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendocolorpicker","js","this","$","undefined$1","kendo","window","ui","Widget","parseColor","TabKeyTrap","Popup","extend","NS","KEYDOWN_NS","ColorSelector","init","element","options","that","fn","call","is","_initialValue","_preventDefaultLabelClick","_value","value","_tabIndex","attr","_standalone","_triggerSelect","_triggerChange","name","ARIATemplate","data","events","color","_updateInput","_updateUI","opacity","toCssRgba","toCss","enable","arguments","length","wrapper","toggleClass","_onEnable","_attachFocusEvents","on","_navKeydown","bind","_navFocusout","val","_innerTabindex","find","_isInputTypeColor","el","test","tagName","type","setTimeout","contains","document","activeElement","_releaseInnerFocus","e","keyCode","keys","ENTER","preventDefault","_trapInnerFocus","ESC","trigger","_tabKeyTrap","removeTrap","_select","nohooks","prev","equals","_navigation","indexOf","replace","_otOfPicker","_ariaTemplate","template","tabindex","removeAttr","trap","triggerEvent","destroy","off","label","closest","id","add","ev","noop","valueForLabel","formattedValue","a","_selectOnHide","_cancel","colorpicker","jQuery","Color","getContrastFromTwoRGBAs","b","luminance1","getLuminance","getRGBFromRGBA","luminance2","r","g","Math","max","min","rgb","map","v","pow","foregroundColor","backgroundColor","r1","fitIntoBounds","g1","b1","a1","r2","g2","b2","round","contender","isNaN","svgPath","points","command","d","reduce","acc","point","i","format","line","pointA","pointB","lengthX","lengthY","sqrt","angle","atan2","contrastToolUtils","renderSvgCurveLine","gradientRectMetrics","hsva","controlPointCalc","lineCalc","findValue","contrast","saturation","low","high","comparer","mid","currentHsva","s","width","height","currentContrast","hue","h","alpha","fromHSV","getColorFromHSV","toBytes","reversedComparer","getPaths","stepCount","reversed","push","bezierCommandCalc","current","previous","next","reverse","smooth","l","PI","cos","sin","cps","cpe","paths","Observable","encode","htmlEncode","KEYS","WHITE","BLACK","ColorInput","_viewModel","observable","switchMode","keydown","isHEXMode","get","isRGBMode","formats","hex","_changeHandler","change","_render","_template","ref","ns","optionsSize","size","optionsTabIndex","vStackElement","messages","toggleFormat","hexInputElement","rgbaInputElement","red","green","blue","unbind","field","_color","_tryParseColor","set","sender","_preventChangeEvent","textbox","target","_change","reset","model","currentFormat","index","append","guid","parent","error","ColorGradient","deepExtend","previewInput","_wrapper","_sliders","_hsvArea","_gradientInputs","hsvDragARIATemplate","input","contrastTool","contrastRatio","fail","pass","focus","_hsvHandle","setBackgroundColor","isPlainObject","_updateColorContrast","_getHSV","rect","_hsvRect","handlePosition","position","_hueSlider","left","top","_opacitySlider","toHSV","_colorgradientInputs","_colorInput","callback","obj","hsvRect","hsvHandle","_hsvKeydown","apply","update","x","y","resultX","resultY","offset","dx","dy","rw","rh","_svChange","_hsvDragAriaTemplate","_hsvEvents","UserEvents","press","getOffset","location","start","addClass","move","end","removeClass","prop","c","shiftKey","LEFT","ctrlKey","RIGHT","UP","DOWN","F2","select","_reset","_resetHsv","_resetColorContrast","contrastOptions","_contrastTool","_updateHsv","hueSlider","opacitySlider","hueChange","opacityChange","kendoSlider","tickPlacement","showButtons","orientation","slide","contrastRatioTemplate","ratio","toString","icon","labelTemplate","limit","level","output","remove","_updateContrastSvg","newSvg","svgClassName","metrics","applyStylesFromKendoAttributes","css","_hueElements","_updateHsvAria","dontChangeInput","wrap","role","_selectedColor","_colorAsText","plugin","DOT","BACKGROUNDCOLOR","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","TILE_CLASS","FOCUS_NS","CLICK_NS","BLUR_NS","ColorPalette","_selectedID","ariaId","_attachEvents","columns","tileSize","palette","currentTarget","_keydown","_focus","_colors","colors","split","Array","isArray","_current","item","first","newCurrent","items","filter","prototype","parentNode","children","previousSibling","nextSibling","nodeType","cellElements","selected","_tileSize","parseFloat","Error","each","templateElement","html","NO_COLOR","SELECTED","PREVIEW_MASK","ARIA_PRESSED","ARIA_DISABLED","VIEWS","gradient","FlatColorPicker","autoupdate","_changeView","view","_setViewSize","_previousColor","toDisplay","_view","_viewsContainer","empty","buttons","preview","clearButton","views","cancel","noColor","clearColor","_clearColor","viewButton","_updatePreviousColor","mode","selectedColor","hsvColor","selector","_cachedHue","appendTo","dontChangeView","previewWidth","parseInt","previewHeight","previewColumns","style","setProperty","buttonOptions","fillMode","themeColor","rounded","renderButton","ColorPicker","_buttonHtml","content","_inputWrapper","_applyCssClasses","hide","after","accesskey","isDefaultPrevented","toggle","_popup","_selector","arrow","close","toolIcon","iconClass","closeOnSelect","open","_getPopup","selOptions","_closing","handler","visible","_noColorIcon","dontChangeSelector","key","popup","selectorType","selectorWrapper","body","kendoPopup","anchor","adjustSize","event","MouseEvent","parents","activate","cssProperties","registerPrefix","registerValues","values","roundedValues","concat"],"sources":["kendo.colorpicker.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.core.js'), require('kendo.color.js'), require('kendo.popup.js'), require('kendo.slider.js'), require('kendo.userevents.js'), require('kendo.button.js'), require('kendo.binder.js'), require('kendo.textbox.js'), require('kendo.numerictextbox.js'), require('kendo.html.button.js'), require('kendo.icons.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.core', 'kendo.color', 'kendo.popup', 'kendo.slider', 'kendo.userevents', 'kendo.button', 'kendo.binder', 'kendo.textbox', 'kendo.numerictextbox', 'kendo.html.button', 'kendo.icons'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendocolorpicker = global.kendocolorpicker || {}, global.kendocolorpicker.js = factory()));\n})(this, (function () {\n    (function($, undefined$1) {\n        // WARNING: removing the following jshint declaration and turning\n        // == into === to make JSHint happy will break functionality.\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Widget = ui.Widget,\n            parseColor = kendo.parseColor,\n            TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n\n            extend = $.extend,\n\n            NS = \".kendoColorTools\",\n            KEYDOWN_NS = \"keydown\" + NS,\n            DISABLED = \"k-disabled\";\n\n        var ColorSelector = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n\n                if (element.is(\"input\")) {\n                    that._initialValue();\n                    that._preventDefaultLabelClick();\n                } else {\n                    that._value = parseColor(options.value);\n                }\n\n                that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n                if (options._standalone) {\n                    that._triggerSelect = that._triggerChange;\n                }\n            },\n            options: {\n                name: \"ColorSelector\",\n                ARIATemplate: function (data) { return (\"Current selected color is \" + (data || \"none\")); },\n                value: null,\n                _standalone: true\n            },\n            events: [\n                \"change\",\n                \"select\",\n                \"forceSelect\",\n                \"cancel\"\n            ],\n            color: function(value) {\n                if (value !== undefined$1) {\n                    this._value = parseColor(value);\n\n                    if (this.element.is(\"input\")) {\n                        this._updateInput(this._value);\n                    }\n\n                    this._updateUI(this._value);\n                }\n\n                return this._value;\n            },\n            value: function(color) {\n                color = this.color(color);\n\n                if (color) {\n                    if (this.options.opacity) {\n                        color = color.toCssRgba();\n                    } else {\n                        color = color.toCss();\n                    }\n                }\n\n                return color || null;\n            },\n            enable: function(enable) {\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n\n                if (this.element.is(\"input\")) {\n                    this.element.attr(\"disabled\", !enable);\n                }\n\n                this.wrapper.toggleClass(DISABLED, !enable);\n\n                this._onEnable(enable);\n            },\n            _attachFocusEvents: function () {\n                this.wrapper.on(KEYDOWN_NS, this._navKeydown.bind(this))\n                    .on(\"focusout\" + NS, this._navFocusout.bind(this));\n            },\n            _initialValue: function() {\n                var element = this.element,\n                    options = this.options,\n                    value = options.value || element.attr(\"value\");\n\n                if (value) {\n                    this._value = parseColor(value, true);\n                }\n\n                this.element.val(value);\n            },\n            _innerTabindex: function(value) {\n                var wrapper = this.wrapper;\n\n                wrapper.find(\".k-draghandle, .k-button, .k-input-inner\").attr(\"tabindex\", value);\n            },\n            _isInputTypeColor: function() {\n                var el = this.element[0];\n                return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n            },\n            _navFocusout: function() {\n                var that = this,\n                    wrapper = that.wrapper[0];\n\n                setTimeout(function() {\n                    if (!wrapper.contains(document.activeElement)) {\n                        that._releaseInnerFocus();\n                    }\n                });\n            },\n            _navKeydown: function(e) {\n                var wrapper = this.wrapper;\n\n                if (e.keyCode === kendo.keys.ENTER && wrapper.attr(\"tabindex\")) {\n                    e.preventDefault();\n\n                    this._trapInnerFocus();\n                } else if (e.keyCode === kendo.keys.ESC && wrapper.attr(\"tabindex\") === undefined$1) {\n                    this._releaseInnerFocus();\n                    this.wrapper.trigger(\"focus\");\n                }\n            },\n            _releaseInnerFocus: function() {\n                this._tabKeyTrap.removeTrap();\n                this.wrapper.attr(\"tabindex\", this._tabIndex);\n                this._innerTabindex(-1);\n            },\n            _select: function(color, nohooks) {\n                var prev = this._value;\n\n                color = this.color(color);\n\n                if (!nohooks) {\n                    if ((color && (!prev || !color.equals(prev))) || (color === null && color !== prev)) {\n                        if (color === null && this.element.val) {\n                            this.element.val(color);\n                        }\n\n                        this.element.trigger(\"change\");\n                        this.trigger(\"change\", { value: this.value() });\n                    } else if (!this._standalone) {\n                        this.trigger(\"cancel\");\n                    }\n                }\n            },\n            _navigation: function() {\n                var value = this.value();\n\n                if (value && value.indexOf(\"rgba\") > -1) {\n                    value = value.replace(\"rgba\", \"RGBA\");\n                };\n\n                if (this.options._otOfPicker) {\n                    this._innerTabindex(-1);\n                    this._attachFocusEvents();\n                    this._tabKeyTrap = new TabKeyTrap(this.wrapper);\n\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                    this.wrapper.attr({\n                        \"aria-label\": this._ariaTemplate(value || \"\"),\n                        tabindex: this._tabIndex\n                    });\n                } else {\n                    this.wrapper.removeAttr(\"tabindex\");\n                    this.wrapper.removeAttr(\"aria-label\");\n                    this.wrapper.removeAttr(\"role\");\n                    this.wrapper.removeAttr(\"aria-keyshortcuts\");\n                }\n            },\n            _trapInnerFocus: function() {\n                this._innerTabindex(0);\n                this.wrapper.removeAttr(\"tabindex\");\n                this.wrapper.find(\".k-hsv-draghandle\").trigger(\"focus\");\n                this._tabKeyTrap.trap();\n            },\n            _triggerSelect: function(color) {\n                triggerEvent(this, \"select\", color);\n            },\n            _triggerChange: function(color) {\n                triggerEvent(this, \"change\", color);\n            },\n            destroy: function() {\n                if (this.element) {\n                    this.element.off(NS);\n                }\n\n                if (this.wrapper) {\n                    this.wrapper.off(KEYDOWN_NS);\n                    this.wrapper.off(NS).find(\"*\").off(NS);\n                    this.wrapper = null;\n                }\n\n                Widget.fn.destroy.call(this);\n            },\n            _preventDefaultLabelClick: function() {\n                // if there exists a <label> associated with this\n                // input field, we must catch clicks on it to prevent\n                // the built-in color picker from showing up.\n                // https://github.com/telerik/kendo-ui-core/issues/292\n                var element = this.element,\n                    label = element.closest(\"label\"),\n                    id = element.attr(\"id\");\n\n                if (id) {\n                    label = label.add('label[for=\"' + id + '\"]');\n                }\n                label.on(\"click\", function(ev) {\n                    ev.preventDefault();\n                });\n            },\n            _updateUI: $.noop,\n            _updateInput: function(value) {\n                var formattedValue = \"\",\n                    valueForLabel;\n\n                if (value) {\n                    if (this._isInputTypeColor() || value.a == 1) {\n                        // seems that input type=\"color\" doesn't support opacity\n                        // in colors; the only accepted format is hex #RRGGBB\n                        formattedValue = value.toCss();\n                    } else {\n                        formattedValue = value.toCssRgba();\n                    }\n\n                    this.element.val(formattedValue);\n                }\n\n                if (this.options._otOfPicker) {\n                    if (!this._ariaTemplate) {\n                        this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                    }\n\n                    valueForLabel = this.value();\n\n                    if (valueForLabel && valueForLabel.indexOf(\"rgba\") > -1) {\n                        valueForLabel = valueForLabel.replace(\"rgba\", \"RGBA\");\n                    };\n\n                    this.wrapper.attr(\"aria-label\", this._ariaTemplate(valueForLabel || \"\"));\n                }\n            },\n            _selectOnHide: function() {\n                return null;\n            },\n            _cancel: function() {\n                this.trigger(\"cancel\");\n            }\n        });\n\n        function triggerEvent(self, type, color) {\n            color = parseColor(color);\n\n            if ((color && !color.equals(self.color())) || color !== self.color()) {\n                if (type == \"change\") {\n                    // UI is already updated.  setting _value directly\n                    // rather than calling self.color(color) to avoid an\n                    // endless loop.\n                    self._value = color;\n                    self._updateInput(self._value);\n                }\n                if (color && color.a != 1) {\n                    color = color.toCssRgba();\n                } else if (color) {\n                    color = color.toCss();\n                }\n\n                self.trigger(type, { value: color });\n            }\n        }\n\n        extend(ui, {\n            colorpicker: {\n                ColorSelector: ColorSelector\n            }\n        });\n\n\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1){\n        var colorpicker = kendo.ui.colorpicker,\n            extend = $.extend,\n            Color = kendo.Color,\n            parseColor = kendo.parseColor,\n\n            AA_CONTRAST = 4.5,\n            AAA_CONTRAST = 7,\n            STEP_COUNT = 16;\n\n        // Color utils - calc contrast\n\n        function getContrast(luminance1, luminance2) {\n            var brightest = Math.max(luminance1, luminance2);\n            var darkest = Math.min(luminance1, luminance2);\n            return (brightest + 0.05) / (darkest + 0.05);\n        }\n\n        function getContrastFromTwoRGBAs(a, b) {\n            return getContrast(\n                getLuminance(getRGBFromRGBA(a, b)),\n                getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n        }\n\n        function getLuminance (rgb) {\n            var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n                v /= 255;\n                return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n            });\n            return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n        }\n\n        function getRGBFromRGBA(foregroundColor, backgroundColor) {\n            var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n            var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n            var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n            var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n            var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n            var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n            var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n            return {\n                r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n                g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n                b: Math.round(((1 - a1) * b2) + (a1 * b1))\n            };\n        }\n\n        function fitIntoBounds(contender, min, max) {\n            if (!isPresent(contender) || isNaN(contender)) {\n                return min;\n            }\n\n            return contender <= min ? min : contender >= max ? max : contender;\n        }\n\n        function isPresent(value) { return value !== null && value !== undefined$1; }\n\n\n        // Color utils - Contrast tool SVG path\n\n        function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n            var findValue = function (contrast, saturation, low, high, comparer) {\n                var mid = (low + high) / 2;\n                var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n                var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n                if (low + 0.5 > high) {\n                    if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                        return mid;\n                    } else {\n                        return null;\n                    }\n                }\n\n                if (comparer(currentContrast, contrast)) {\n                    return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n                }\n                return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n            };\n\n            var comparer = function (a, b) {\n                return a > b;\n            };\n\n            var reversedComparer = function (a, b) {\n                return a < b;\n            };\n\n            var getPaths = function (contrast, stepCount, reversed) {\n                var points = [];\n                for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n                   var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                    if (value !== null){\n                        points.push([i, value]);\n                    }\n                }\n                return points;\n            };\n\n            var bezierCommandCalc = bezierCommand(controlPoint(line));\n            var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                    svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                    svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                    svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n            return \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" \" + (kendo.attr(\"style-position\")) + \"=\\\"absolute\\\" \" + (kendo.attr(\"style-overflow\")) + \"=\\\"visible\\\" \" + (kendo.attr(\"style-pointer-events\")) + \"=\\\"none\\\" \" +\n                    (kendo.attr(\"style-left\")) + \"=\\\"0px\\\" \" + (kendo.attr(\"style-top\")) + \"=\\\"0px\\\" \" + (kendo.attr(\"style-z-index\")) + \"=\\\"3\\\" >\" +\n                        paths  + '</svg>';\n        }\n\n        function svgPath(points, command) {\n            if (points.length === 0){\n                return '';\n            }\n\n            var reducer = function (acc, point, i, a) {\n                return i === 0 ?\n                    // if first point\n                    kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                    // else\n                    kendo.format(\"{0} {1}\", acc, command(point, i, a));\n            };\n\n            // build the d attributes by looping over the points\n            var d = points.reduce(reducer, \"\");\n\n            return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n        }\n\n        function bezierCommand(controlPointCalc) {\n            return function(point, i, a) {\n                // start control point\n                var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n                // end control point\n                var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n                return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n            };\n        }\n\n        function controlPoint(lineCalc) {\n            return function (current, previous, next, reverse) {\n                // when 'current' is the first or last point of the array\n                // 'previous' and 'next' are undefined\n                // replace with 'current'\n                    var p = previous || current;\n                    var n = next || current;\n                    var smooth = 0.1;\n\n                    // properties of the line between previous and next\n                    var l = lineCalc(p, n);\n\n                    // If is end-control-point, add PI to the angle to go backward\n                    var angle = l.angle + (reverse ? Math.PI : 0);\n                    var length = l.length * smooth;\n\n                    // The control point position is relative to the current point\n                    var x = current[0] + Math.cos(angle) * length;\n                    var y = current[1] + Math.sin(angle) * length;\n\n                    return [x, y];\n            };\n        }\n\n        function line (pointA, pointB) {\n            var lengthX = pointB[0] - pointA[0];\n            var lengthY = pointB[1] - pointA[1];\n\n            return {\n                length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n                angle: Math.atan2(lengthY, lengthX)\n            };\n        }\n\n        function getColorFromHSV (hsva) {\n            var hue = fitIntoBounds(hsva.h, 0, 359.9);\n            var saturation = fitIntoBounds(hsva.s, 0, 1);\n            var value = fitIntoBounds(hsva.v, 0, 1);\n            var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n            return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n        }\n\n        extend(colorpicker, {\n            contrastToolUtils: {\n                getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n                renderSvgCurveLine: renderSvgCurveLine\n            }\n        });\n\n    })(window.kendo.jQuery);\n\n    var __meta__$1 = {\n            id: \"colorgradient\",\n            name: \"ColorGradient\",\n            category: \"web\", // suite\n            description: \"ColorGradient allows selection of a color from an HSV canvas.\",\n            depends: [\"core\", \"popup\", \"textbox\", \"icons\"] // dependencies\n        };\n    (function($, undefined$1) {\n        // WARNING: removing the following jshint declaration and turning\n        // == into === to make JSHint happy will break functionality.\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Observable = kendo.Observable,\n            parseColor = kendo.parseColor,\n            extend = $.extend,\n            encode = kendo.htmlEncode,\n            Color = kendo.Color,\n            KEYS = kendo.keys,\n            BACKGROUNDCOLOR = \"background-color\",\n            WHITE = \"#ffffff\",\n            BLACK = \"#000000\",\n            NS = \".kendoColorTools\",\n            KEYDOWN_NS = \"keydown\" + NS,\n            ColorSelector = ui.colorpicker.ColorSelector,\n\n            contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n        function preventDefault(ev) { ev.preventDefault(); }\n\n        function bind(callback, obj) {\n            return function() {\n                return callback.apply(obj, arguments);\n            };\n        }\n\n        var ColorInput = Observable.extend({\n            init: function(element, options) {\n                var that = this;\n\n                that.element = element;\n                that.options = options;\n\n                that._viewModel = kendo.observable({\n                    switchMode: that.switchMode.bind(that),\n                    keydown: that.keydown.bind(that),\n                    isHEXMode: function () { return this.get(\"format\") === 'hex' },\n                    isRGBMode: function () { return this.get(\"format\") === 'rgb' },\n                    format: options.format,\n                    formats: options.formats,\n                    rgb: null,\n                    hex: function () {\n                        return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                    }\n                });\n\n                that._changeHandler = that.change.bind(that);\n\n                that._viewModel.bind(\"change\", that._changeHandler);\n\n                that._render();\n\n                that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n                Observable.fn.init.call(that);\n            },\n            _template: kendo.template(function (ref) {\n                var options = ref.options;\n                var ns = ref.ns;\n\n                var optionsSize = encode(options.size);\n                var optionsTabIndex = encode(options.tabindex);\n\n                var vStackElement = \"\";\n                if (options.formats && options.formats.length > 1) {\n                    var optionsMessagesToggleFormat = encode(options.messages.toggleFormat);\n\n                    vStackElement =\n                    '<div class=\"k-vstack\">' +\n                        \"<button class=\\\"k-colorgradient-toggle-mode\\\" data-\" + ns + \"role=\\\"button\\\" data-\" + ns + \"icon=\\\"caret-alt-expand\\\" data data-\" + ns + \"bind=\\\"click: switchMode\\\" data-\" + ns + \"fill-mode=\\\"flat\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" title=\\\"\" + optionsMessagesToggleFormat + \"\\\">\" +\n                        '</button>' +\n                    '</div>';\n                }\n\n                // HEX input\n                var hexInputElement = \"\";\n                if (options.formats && options.formats.indexOf(\"hex\") >= 0) {\n                    var optionsMessagesHex = encode(options.messages.hex);\n\n                    hexInputElement =\n                    \"<div class=\\\"k-vstack\\\" data-\" + ns + \"bind=\\\"visible: isHEXMode\\\">\" +\n                        \"<input type=\\\"text\\\" data-\" + ns + \"bind=\\\"value: hex\\\" data-\" + ns + \"role=\\\"textbox\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" tabindex=\\\"\" + optionsTabIndex + \"\\\"  aria-label=\\\"\" + optionsMessagesHex + \"\\\"/>\" +\n                        '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n                    '</div>';\n                }\n\n                // RGBA input\n                var rgbaInputElement = \"\";\n                if (options.formats && options.formats.indexOf(\"rgb\") >= 0) {\n                    var optionsMessagesRed = encode(options.messages.red);\n                    var optionsMessagesGreen = encode(options.messages.green);\n                    var optionsMessagesBlue = encode(options.messages.blue);\n\n                    rgbaInputElement =\n                    \"<div class=\\\"k-vstack\\\" data-\" + ns + \"bind=\\\"visible: isRGBMode\\\">\" +\n                        \"<input tabindex=\\\"\" + optionsTabIndex + \"\\\" data-\" + ns + \"bind=\\\"value: rgb.r\\\" data-\" + ns + \"role=\\\"numerictextbox\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" data-\" + ns + \"max=\\\"255\\\" data-\" + ns + \"min=\\\"0\\\" data-\" + ns + \"decimals=\\\"0\\\" data-\" + ns + \"spinners=\\\"false\\\" data-\" + ns + \"format=\\\"n0\\\" aria-label=\\\"\" + optionsMessagesRed + \"\\\" />\" +\n                        '<label class=\"k-colorgradient-input-label\">R</label>' +\n                    '</div>' +\n                    \"<div class=\\\"k-vstack\\\" data-\" + ns + \"bind=\\\"visible: isRGBMode\\\">\" +\n                        \"<input tabindex=\\\"\" + optionsTabIndex + \"\\\" data-\" + ns + \"bind=\\\"value: rgb.g\\\" data-\" + ns + \"role=\\\"numerictextbox\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" data-\" + ns + \"max=\\\"255\\\" data-\" + ns + \"min=\\\"0\\\" data-\" + ns + \"decimals=\\\"0\\\" data-\" + ns + \"spinners=\\\"false\\\" data-\" + ns + \"format=\\\"n0\\\" aria-label=\\\"\" + optionsMessagesGreen + \"\\\" />\" +\n                        '<label class=\"k-colorgradient-input-label\">G</label>' +\n                    '</div>' +\n                    \"<div class=\\\"k-vstack\\\" data-\" + ns + \"bind=\\\"visible: isRGBMode\\\">\" +\n                        \"<input tabindex=\\\"\" + optionsTabIndex + \"\\\" data-\" + ns + \"bind=\\\"value: rgb.b\\\" data-\" + ns + \"role=\\\"numerictextbox\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" data-\" + ns + \"max=\\\"255\\\" data-\" + ns + \"min=\\\"0\\\" data-\" + ns + \"decimals=\\\"0\\\" data-\" + ns + \"spinners=\\\"false\\\" data-\" + ns + \"format=\\\"n0\\\" aria-label=\\\"\" + optionsMessagesBlue + \"\\\"/>\" +\n                        '<label class=\"k-colorgradient-input-label\">B</label>' +\n                    '</div>';\n\n                    if(options.opacity) {\n                        var optionsMessagesAlpha = options.messages.alpha;\n                        rgbaInputElement +=\n                        \"<div class=\\\"k-vstack\\\" data-\" + ns + \"bind=\\\"visible: isRGBMode\\\">\" +\n                            \"<input tabindex=\\\"\" + optionsTabIndex + \"\\\" data-\" + ns + \"bind=\\\"value: rgb.a\\\" data-\" + ns + \"role=\\\"numerictextbox\\\" data-\" + ns + \"size=\\\"\" + optionsSize + \"\\\" data-\" + ns + \"step=\\\"0.1\\\" data-\" + ns + \"max=\\\"1\\\" data-\" + ns + \"min=\\\"0\\\" data-\" + ns + \"decimals=\\\"1\\\" data-\" + ns + \"spinners=\\\"false\\\" data-\" + ns + \"format=\\\"n1\\\" aria-label=\\\"\" + optionsMessagesAlpha + \"\\\" />\" +\n                            '<label class=\"k-colorgradient-input-label\">A</label>' +\n                        '</div>';\n                    }\n                }\n\n                return vStackElement + hexInputElement + rgbaInputElement;\n            }),\n            destroy: function(){\n                var that = this;\n\n                that._viewModel.unbind(\"change\", that._changeHandler);\n                kendo.unbind(that.element);\n                kendo.destroy(that.element);\n                that.element.off(KEYDOWN_NS);\n                delete that._viewModel;\n                delete that._changeHandler;\n            },\n            change: function (ev) {\n                var that = this;\n\n                if (ev.field.indexOf(\"rgb\") >= 0) {\n                    that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                    that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n                } else if (ev.field === \"hex\") {\n                    that._color = that._tryParseColor(ev.sender[ev.field]);\n                    that._viewModel.set(\"rgb\", that._color);\n                }\n\n                if (!that._preventChangeEvent) {\n                    that.trigger(\"change\", {value: that._color});\n                }\n            },\n            keydown: function (ev) {\n                var that = this,\n                    textbox = $(ev.target).data(\"kendoTextBox\");\n\n                if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                    if(textbox && textbox._change) {\n                        textbox._change();\n                    }\n\n                    that.trigger(\"change\", {value: that._color});\n                    that.trigger(\"select\", {value: that._color});\n                }\n            },\n            reset: function () {\n                var that = this;\n\n                that._preventChangeEvent = true;\n                that._viewModel.set(\"rgb\", parseColor(BLACK));\n                delete that._preventChangeEvent;\n            },\n            switchMode: function() {\n                var that = this,\n                    model = that._viewModel,\n                    currentFormat = model.format,\n                    index = model.formats.indexOf(currentFormat) + 1;\n\n                index = index >= model.formats.length ? 0 : index;\n\n                that._preventChangeEvent = true;\n                that._viewModel.set(\"format\", model.formats[index]);\n                delete that._preventChangeEvent;\n            },\n            value: function (color) {\n                var that = this;\n\n                that._color = (color && color.toBytes()) || parseColor(BLACK);\n                that._preventChangeEvent = true;\n                that._viewModel.set(\"rgb\", that._color);\n                delete that._preventChangeEvent;\n            },\n            _render: function() {\n                var that = this;\n\n                that.element\n                    .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                    .parent();\n\n                kendo.bind(that.element, that._viewModel);\n                that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n            },\n            _tryParseColor: function (color) {\n                var that = this;\n\n                try {\n                    color = parseColor(color) || that._color;\n                } catch (error) {\n                    color = that._color;\n                }\n\n                return color;\n            }\n        });\n\n        var ColorGradient = ColorSelector.extend({\n            init: function (element, options) {\n                var that = this,\n                    value;\n\n                ColorSelector.fn.init.call(that, element, options);\n\n                options = that.options = kendo.deepExtend({}, that.options, options);\n\n                if(options.messages.previewInput) {\n                    options.messages.hex = options.messages.previewInput;\n                }\n\n                options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n                element = that.element;\n\n                that._wrapper();\n                that._sliders();\n                that._hsvArea();\n\n                value = that._value;\n\n                that._gradientInputs();\n                that._updateUI(value);\n                that._navigation();\n            },\n            options: {\n                name : \"ColorGradient\",\n                opacity : false,\n                hsvDragARIATemplate: function (data) { return (\"Color well with two-dimensional slider for selecting saturation and value. Selected color is \" + (data || \"none\")); },\n                input : true,\n                format: \"hex\",\n                formats: [\"rgb\", \"hex\"],\n                contrastTool: false,\n                size: \"medium\",\n                messages: {\n                    contrastRatio: \"Contrast ratio:\",\n                    fail: \"Fail\",\n                    pass: \"Pass\",\n                    hex: \"HEX\",\n                    toggleFormat: \"Toggle format\",\n                    red: \"Red channel\",\n                    green: \"Green channel\",\n                    blue: \"Blue channel\",\n                    alpha: \"Alpha channel\"\n                },\n                _otOfPicker: true\n            },\n            _template: kendo.template(function (options) { return '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                        '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"><div role=\"slider\" aria-orientation=\"undefined\" class=\"k-hsv-draghandle k-draghandle\"></div></div></div>' +\n                        '<div class=\"k-hsv-controls k-hstack\">' +\n                            '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                            (options.opacity ? '<input class=\"k-alpha-slider k-colorgradient-slider\" />' : '') +\n                        '</div>' +\n                    '</div>' +\n                    (options.input ? '<div class=\"k-colorgradient-inputs k-hstack\"></div>' : '') +\n                    (options.contrastTool ? '<div class=\"k-colorgradient-color-contrast k-vbox\"></div>' : ''); }\n            ),\n            focus: function() {\n                this._hsvHandle.focus();\n            },\n            setBackgroundColor: function(color) {\n                var that = this;\n\n                if (that.options.contrastTool) {\n                    that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                        backgroundColor: color\n                    }) : {\n                        backgroundColor: color\n                    };\n\n                    that._updateColorContrast(that.color() || parseColor(WHITE));\n                }\n            },\n            _getHSV: function(h, s, v, a) {\n                var that = this,\n                    rect = that._hsvRect,\n                    width = rect.width(),\n                    height = rect.height(),\n                    handlePosition = this._hsvHandle.position();\n\n                if(!width || !height) {\n                    return that.color() ? that.color().toHSV() : parseColor(BLACK);\n                }\n\n                if (h == null) {\n                    h = that._hueSlider.value();\n                }\n                if (s == null) {\n                    s = handlePosition.left / width;\n                }\n                if (v == null) {\n                    v = 1 - handlePosition.top / height;\n                }\n                if (a == null) {\n                    a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n                }\n                return Color.fromHSV(h, s, v, a);\n            },\n            _gradientInputs: function() {\n                var that = this,\n                    options = that.options;\n\n                if(that._colorgradientInputs.length) {\n                    that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                        tabindex: 0\n                    }));\n\n                    that._colorInput.bind(\"change\", function(ev){\n                        that._updateUI(ev.value, true);\n                    });\n\n                    that._colorInput.bind(\"select\", function(ev){\n                        var color = parseColor(ev.value);\n                        that._select(color);\n                        that.trigger(\"forceSelect\", { value: that.value() });\n                    });\n                }\n            },\n            _hsvArea: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    hsvRect = wrapper.find(\".k-hsv-rectangle\"),\n                    hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._hsvKeydown, that)),\n                    value = this.value();\n\n                if (value && value.indexOf(\"rgba\") > -1) {\n                    value = value.replace(\"rgba\", \"RGBA\");\n                };\n\n                if (!this._hsvDragAriaTemplate) {\n                    this._hsvDragAriaTemplate = kendo.template(this.options.hsvDragARIATemplate);\n                }\n\n                hsvHandle.attr(\"aria-label\", this._hsvDragAriaTemplate(value || ''));\n\n                function update(x, y) {\n                    var offset = this.offset,\n                        dx = x - offset.left, dy = y - offset.top,\n                        rw = this.width, rh = this.height,\n                        resultX, resultY;\n\n                    dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                    dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                    resultX = dx / rw;\n                    resultY = 1 - dy / rh;\n\n                    that._svChange(resultX, resultY);\n                }\n\n                that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                    global: true,\n                    press: function(e) {\n                        this.offset = kendo.getOffset(hsvRect);\n                        this.width = hsvRect.width();\n                        this.height = hsvRect.height();\n                        hsvHandle.focus();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    start: function() {\n                        hsvRect.addClass(\"k-dragging\");\n                        hsvHandle.focus();\n                    },\n                    move: function(e) {\n                        e.preventDefault();\n                        update.call(this, e.x.location, e.y.location);\n                    },\n                    end: function() {\n                        hsvRect.removeClass(\"k-dragging\");\n                    }\n                });\n\n                that._hsvRect = hsvRect;\n                that._hsvHandle = hsvHandle;\n            },\n            _hsvKeydown: function(ev) {\n                var that = this;\n                function move(prop, d) {\n                    var c = that._getHSV();\n                    c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                    if (c[prop] < 0) { c[prop] = 0; }\n                    if (c[prop] > 1) { c[prop] = 1; }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                function hue(d) {\n                    var c = that._getHSV();\n                    c.h += d * (ev.shiftKey ? 1 : 5);\n                    if (c.h < 0) { c.h = 0; }\n                    if (c.h > 359) { c.h = 359; }\n                    that._updateUI(c);\n                    preventDefault(ev);\n                }\n                switch (ev.keyCode) {\n                case KEYS.LEFT:\n                    if (ev.ctrlKey) {\n                        hue(-1);\n                    } else {\n                        move(\"s\", -1);\n                    }\n                    break;\n                case KEYS.RIGHT:\n                    if (ev.ctrlKey) {\n                        hue(1);\n                    } else {\n                        move(\"s\", 1);\n                    }\n                    break;\n                case KEYS.UP:\n                    move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                    break;\n                case KEYS.DOWN:\n                    move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                    break;\n                case KEYS.ENTER:\n                    that._select(that._getHSV());\n                    break;\n                case KEYS.F2:\n                    that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                    break;\n                case KEYS.ESC:\n                    that._cancel();\n                    break;\n                }\n            },\n            _onEnable: function(enable) {\n                var wrapper = this.wrapper;\n\n                this._hueSlider.enable(enable);\n\n                if (this._opacitySlider) {\n                    this._opacitySlider.enable(enable);\n                }\n\n                wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n                if (this.options._standalone) {\n                    if (enable) {\n                        wrapper.removeAttr(\"aria-disabled\");\n                    } else {\n                        wrapper.attr(\"aria-disabled\", true);\n                    }\n                }\n            },\n            _reset: function () {\n                var that = this;\n\n                if (that._colorInput) {\n                    that._colorInput.reset();\n                }\n\n                that._resetHsv();\n                that._resetColorContrast();\n            },\n            _resetColorContrast: function () {\n                var that = this,\n                    contrastOptions = that.options.contrastTool;\n\n                if(that._contrastTool.length) {\n                    that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n                }\n            },\n            _resetHsv: function () {\n                var that = this,\n                    color = parseColor(BLACK);\n\n                that._updateHsv(color);\n            },\n            _sliders: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    hueSlider = wrapper.find(\".k-hue-slider\"),\n                    opacitySlider = wrapper.find(\".k-alpha-slider\");\n\n                function hueChange(e) {\n                    that._updateUI(that._getHSV(e.value, null, null, null));\n                }\n\n                hueSlider.attr(\"aria-label\", \"hue\");\n                that._hueSlider = hueSlider.kendoSlider({\n                    min: 0,\n                    max: 360,\n                    tickPlacement: \"none\",\n                    showButtons: false,\n                    orientation: \"vertical\",\n                    slide: hueChange,\n                    change: hueChange\n                }).data(\"kendoSlider\");\n\n                function opacityChange(e) {\n                    that._updateUI(that._getHSV(null, null, null, e.value / 100));\n                }\n\n                opacitySlider.attr(\"aria-label\", \"opacity\");\n                that._opacitySlider = opacitySlider.kendoSlider({\n                    min: 0,\n                    max: 100,\n                    tickPlacement: \"none\",\n                    showButtons: false,\n                    orientation: \"vertical\",\n                    slide: opacityChange,\n                    change: opacityChange\n                }).data(\"kendoSlider\");\n            },\n            _svChange: function(s, v) {\n                var color = this._getHSV(null, s, v, null);\n                this._updateUI(color);\n            },\n            _updateColorContrast: function (color) {\n                var that = this,\n                    contrastOptions = that.options.contrastTool,\n                    backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                    contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                    contrastRatioTemplate = kendo.template(function (ref) {\n                                                    var messages = ref.messages;\n                                                    var ratio = ref.ratio;\n\n                                                    return '<div class=\"k-contrast-ratio\">' +\n                                                    \"<span class=\\\"k-contrast-ratio-text\\\">\" + (encode(messages.contrastRatio)) + \" \" + (encode(kendo.toString(ratio, \"n2\"))) + \"</span>\" +\n                                                    '<span class=\"k-contrast-validation k-text-success\">' +\n                                                        (ratio > 4.5 ?  kendo.ui.icon(\"check\") : '') +\n                                                        (ratio > 7 ?  kendo.ui.icon(\"check\") : '') +\n                                                '</span></div>';\n                }),\n                    labelTemplate = kendo.template(function (ref) {\n                                                    var messages = ref.messages;\n                                                    var ratio = ref.ratio;\n                                                    var limit = ref.limit;\n                                                    var level = ref.level;\n\n                                                    return '<div>' +\n                                                    \"<span>\" + (encode(level)) + \": \" + (encode(limit)) + \" </span>\" +\n                                                    (ratio > limit ?\n                                                    (\"<span class=\\\"k-contrast-validation k-text-success\\\">\" + (encode(messages.pass)) + \" \" + (kendo.ui.icon(\"check\")) + \"</span>\")\n                                                    :\n                                                    (\"<span class=\\\"k-contrast-validation k-text-error\\\">\" + (encode(messages.fail)) + \" \" + (kendo.ui.icon(\"x\")) + \"</span>\")) +\n                                                '</div>';\n                }),\n                    output = \"\";\n\n                output += contrastRatioTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio,\n                });\n\n                output += labelTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio,\n                    limit: 4.5,\n                    level: \"AA\"\n                });\n\n                output += labelTemplate({\n                    messages: that.options.messages,\n                    ratio: contrastRatio,\n                    limit: 7,\n                    level: \"AAA\"\n                });\n\n                that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n                that._contrastTool.append(output);\n\n                that._updateContrastSvg(backgroundColor);\n            },\n            _updateContrastSvg: function (backgroundColor) {\n                var that = this,\n                    hsvRect = that._hsvRect,\n                    svgClassName = \"k-color-contrast-svg\",\n                    metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                    newSvg;\n\n                if(!metrics.width || !metrics.height) {\n                    return;\n                }\n\n                newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n                kendo.applyStylesFromKendoAttributes(newSvg, [\"position\", \"overflow\", \"pointer-events\", \"left\", \"top\", \"z-index\"]);\n\n                hsvRect.find(\".\" + svgClassName).remove();\n                hsvRect.append(newSvg);\n            },\n            _updateHsv: function (color) {\n                var that = this,\n                    rect = that._hsvRect;\n\n                color = color.toHSV();\n\n                that._hsvHandle.css({\n                    // saturation is 0 on the left side, full (1) on the right\n                    left: color.s * rect.width() + \"px\",\n                    // value is 0 on the bottom, full on the top.\n                    top: (1 - color.v) * rect.height() + \"px\"\n                });\n\n                that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._hueSlider.value(color.h);\n\n                if (that._opacitySlider) {\n                    that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                    that._opacitySlider.value(100 * color.a);\n                }\n\n                that._updateHsvAria(color.s, color.v);\n            },\n            _updateHsvAria: function(x,y) {\n                var value = this.value();\n\n                if (value && value.indexOf(\"rgba\") > -1) {\n                    value = value.replace(\"rgba\", \"RGBA\");\n                }\n\n                this._hsvHandle.attr({\n                    \"aria-label\": this._hsvDragAriaTemplate(value || ''),\n                    \"aria-valuenow\": Math.round(x * 100),\n                    \"aria-valuetext\": \"saturation: \" + Math.round(x * 100) + \"%, value: \" + Math.round(y * 100) + \"%\"\n                });\n            },\n            _updateUI: function(color, dontChangeInput) {\n                var that = this;\n\n                if (!color) {\n                    that._reset();\n                    return;\n                }\n\n                if (!dontChangeInput && that._colorInput) {\n                    that._colorInput.value(color);\n                }\n\n                that._triggerSelect(color);\n                that._updateHsv(color);\n\n                if(that._contrastTool.length) {\n                    that._updateColorContrast(color);\n                }\n            },\n            _wrapper: function() {\n                var options = this.options,\n                    wrapper;\n\n                if (this.element.is(\"input\")) {\n                    wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n                } else {\n                    wrapper = this.element;\n                }\n\n                wrapper.addClass(\"k-colorgradient\")\n                    .attr({\n                        \"role\": \"textbox\",\n                        \"aria-keyshortcuts\": \"Enter\"\n                    })\n                    .append(this._template(options));\n\n                this._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", wrapper);\n                this._colorgradientInputs = $(\".k-colorgradient-inputs\", wrapper);\n                this._contrastTool = $(\".k-colorgradient-color-contrast\", wrapper);\n\n                this.wrapper = wrapper;\n            },\n            destroy: function (){\n                this._hsvEvents.destroy();\n\n                this._hueSlider.destroy();\n                if (this._opacitySlider) {\n                    this._opacitySlider.destroy();\n                }\n\n                if(this._colorInput) {\n                    this._colorInput.destroy();\n                }\n\n                this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                    this._hueElements = this._selectedColor = this._colorAsText =\n                    this._contrastTool = null;\n\n                ColorSelector.fn.destroy.call(this);\n            }\n        });\n\n        ui.plugin(ColorGradient);\n\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1){\n        // WARNING: removing the following jshint declaration and turning\n        // == into === to make JSHint happy will break functionality.\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            parseColor = kendo.parseColor,\n            KEYS = kendo.keys,\n            DOT = \".\",\n            BACKGROUNDCOLOR = \"background-color\",\n            ITEMSELECTEDCLASS = \"k-selected\",\n            ITEMSFOCUSEDCLASS = \"k-focus\",\n            TILE_CLASS = \"k-colorpalette-tile\",\n            SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n            WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n            NS = \".kendoColorTools\",\n            FOCUS_NS = \"focus\" + NS,\n            CLICK_NS = \"click\" + NS,\n            KEYDOWN_NS = \"keydown\" + NS,\n            BLUR_NS = \"blur\" + NS,\n            ColorSelector = ui.colorpicker.ColorSelector;\n\n        function preventDefault(ev) { ev.preventDefault(); }\n\n        function bind(callback, obj) {\n            return function() {\n                return callback.apply(obj, arguments);\n            };\n        }\n\n        function relative(array, element, delta) {\n            array = Array.prototype.slice.call(array);\n            var n = array.length;\n            var pos = array.indexOf(element);\n            if (pos < 0) {\n                return delta < 0 ? array[n - 1] : array[0];\n            }\n            pos += delta;\n            if (pos < 0) {\n                pos += n;\n            } else {\n                pos %= n;\n            }\n            return array[pos];\n        }\n\n        var ColorPalette = ColorSelector.extend({\n            init: function(element, options) {\n                var that = this;\n\n                ColorSelector.fn.init.call(that, element, options);\n\n                that._tabIndex = this.element.attr(\"tabindex\") || 0;\n\n                that._wrapper();\n\n                options = that.options;\n\n                that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n                that._ariaTemplate = kendo.template(that.options.ARIATemplate);\n\n                if (that._value) {\n                    that._updateUI(that._value);\n                    that.wrapper.find(DOT + ITEMSFOCUSEDCLASS).removeClass(ITEMSFOCUSEDCLASS);\n                }\n\n                that.wrapper.attr(\"aria-label\", that._ariaTemplate(that.value() || \"\"));\n\n                that._attachEvents();\n            },\n            focus: function(){\n                if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                    this.wrapper.trigger(\"focus\");\n                }\n            },\n            options: {\n                name: \"ColorPalette\",\n                columns: 10,\n                tileSize: null,\n                palette: \"basic\"\n            },\n            _attachEvents: function() {\n                var that = this;\n\n                that.wrapper.on(CLICK_NS, DOT + TILE_CLASS, function(ev){\n                    that._select(ev.currentTarget);\n                })\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(BLUR_NS, function(){\n                    that.wrapper.find(DOT + TILE_CLASS).removeClass(ITEMSFOCUSEDCLASS);\n                })\n                .on(FOCUS_NS, bind(that._focus, that));\n            },\n            _colors: function() {\n                var options = this.options,\n                    colors = options.palette || \"basic\";\n\n                if (colors == \"websafe\") {\n                    colors = WEBPALETTE;\n                    options.columns = 18;\n                } else if (colors == \"basic\") {\n                    colors = SIMPLEPALETTE;\n                }\n\n                if (typeof colors == \"string\") {\n                    colors = colors.split(\",\");\n                }\n\n                if (Array.isArray(colors)) {\n                    colors = $.map(colors, function(x) { return parseColor(x); });\n                }\n\n                return colors;\n            },\n            _current: function(item) {\n                this.wrapper.find(DOT + TILE_CLASS)\n                    .removeClass(ITEMSFOCUSEDCLASS)\n                    .removeAttr(\"id\");\n\n                $(item)\n                    .addClass(ITEMSFOCUSEDCLASS)\n                    .attr(\"id\", this._selectedID);\n\n                this.wrapper\n                    .removeAttr(\"aria-activedescendant\")\n                    .attr(\"aria-activedescendant\", this._selectedID);\n            },\n            _focus: function() {\n                var wrapper = this.wrapper,\n                    selected = wrapper.find(\"#\" + this._selectedID);\n\n                if (selected.length === 0) {\n                    this._current(wrapper.find(DOT + TILE_CLASS).first());\n                }\n            },\n            _keydown: function(e) {\n                var newCurrent,\n                    wrapper = this.wrapper,\n                    items = wrapper.find(DOT + TILE_CLASS),\n                    current = items.filter(DOT + ITEMSFOCUSEDCLASS).get(0) || items.filter(DOT + ITEMSELECTEDCLASS).get(0),\n                    keyCode = e.keyCode,\n                    index;\n\n                if (current) {\n                    index = Array.prototype.indexOf.call(current.parentNode.children, current);\n                }\n\n                if (keyCode == KEYS.LEFT) {\n                    newCurrent = current ? current.previousSibling : items[items.length - 1];\n                } else if (keyCode == KEYS.RIGHT) {\n                    newCurrent = current ? current.nextSibling : items[0];\n                } else if (keyCode == KEYS.DOWN) {\n                    newCurrent = current ? (current.parentNode.nextSibling ? current.parentNode.nextSibling.children[index] : null) : items[0];\n                } else if (keyCode == KEYS.UP) {\n                    newCurrent = current ? (current.parentNode.previousSibling ? current.parentNode.previousSibling.children[index] : null) : items.get[items.length - 1];\n                } else if (keyCode == KEYS.ENTER) {\n                    preventDefault(e);\n                    if (current) {\n                        this._select(current);\n                        this.trigger(\"forceSelect\", { value: this.value() });\n                        return;\n                    }\n                } else if (keyCode == KEYS.ESC) {\n                    this._cancel();\n                }\n\n                if (newCurrent && newCurrent.nodeType !== 1) {\n                    newCurrent = null;\n                }\n\n                if (newCurrent) {\n                    preventDefault(e);\n\n                    this._current(newCurrent);\n                }\n            },\n            _onEnable: function(enable) {\n                if (this.options._standalone) {\n                    if (enable) {\n                        this.wrapper.attr(\"tabindex\", this._tabIndex);\n                        this.wrapper.removeAttr(\"aria-disabled\");\n                    } else {\n                        this.wrapper.removeAttr(\"tabindex\");\n                        this.wrapper.attr(\"aria-disabled\", true);\n                    }\n                }\n            },\n            _select: function(item) {\n                var that = this,\n                    items = that.wrapper.find(DOT + TILE_CLASS);\n\n                item = $(item);\n\n                ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n                items.removeClass(ITEMSELECTEDCLASS).removeAttr(\"aria-selected\");\n                item.addClass(ITEMSELECTEDCLASS).attr(\"aria-selected\", true);\n            },\n            _template: kendo.template(function (ref) {\n                var colors = ref.colors;\n                var columns = ref.columns;\n                var tileSize = ref.tileSize;\n                var value = ref.value;\n                var id = ref.id;\n\n                var startPart = '<table class=\"k-colorpalette-table\" role=\"presentation\"><tr role=\"row\">';\n\n                var cellElements = \"\";\n                for (var i = 0; i < colors.length; ++i) {\n                    var selected = colors[i].equals(value);\n                    if (i && i % columns == 0) {\n                        cellElements += '</tr><tr role=\"row\">';\n                    }\n\n                    cellElements +=\n                    \"<td role=\\\"gridcell\\\" unselectable=\\\"on\\\" \" + (kendo.attr(\"style-background-color\")) + \"=\\\"\" + (colors[i].toCss()) + \"\\\"\" +\n                        (selected ? \" aria-selected=true\" : \"\") + \" \" +\n                        ((id && i === 0) ? 'id=\\\\\"' + id + '\\\\\" ' : '') + \" \" +\n\n                        \"class=\\\"k-colorpalette-tile\" + (selected ? \" \" + ITEMSELECTEDCLASS : \"\") + \"\\\" \" +\n                        \"aria-label=\\\"\" + (colors[i].toCss()) + \"\\\"></td>\";\n                }\n\n                var endPart = '</tr></table>';\n                return startPart + cellElements + endPart;\n            }),\n            _tileSize: function() {\n                var tileSize = this.options.tileSize,\n                    width, height;\n\n                if (tileSize) {\n                    if (/number|string/.test(typeof tileSize)) {\n                        width = height = parseFloat(tileSize);\n                    } else if (typeof tileSize == \"object\") {\n                        width = parseFloat(tileSize.width);\n                        height = parseFloat(tileSize.height);\n                    } else {\n                        throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                    }\n                    this.wrapper.find(DOT + TILE_CLASS).css({ width: width, height: height });\n                }\n            },\n            _updateUI: function(color) {\n                var item = null,\n                    items = this.wrapper.find(DOT + TILE_CLASS);\n\n                this.wrapper.find(DOT + TILE_CLASS).each(function(){\n                    var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                    if (c && c.equals(color)) {\n                        item = this;\n\n                        return false;\n                    }\n                });\n\n                this._current(item);\n\n                items.removeClass(ITEMSELECTEDCLASS);\n\n                if (item) {\n                    $(item).addClass(ITEMSELECTEDCLASS);\n                    this.wrapper.attr(\"aria-label\", this._ariaTemplate(this.value() || \"\"));\n                }\n            },\n            _wrapper: function() {\n                var options = this.options,\n                    colors = this._colors(),\n                    wrapper,\n                    templateElement;\n\n                if (this.element.is(\"input\")) {\n                    wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n                } else {\n                    wrapper = this.element;\n                }\n\n                templateElement = $(this._template({\n                    colors: colors,\n                    columns: options.columns,\n                    tileSize: options.tileSize,\n                    value: this._value,\n                    id: options.ariaId\n                }));\n\n                kendo.applyStylesFromKendoAttributes(templateElement, [\"background-color\"]);\n                wrapper.addClass(\"k-colorpalette\")\n                    .attr(\"role\", \"grid\")\n                    .append(templateElement)\n                    .attr(\"tabindex\", this._tabIndex);\n\n                this.wrapper = wrapper;\n                this._tileSize();\n            }\n        });\n\n\n        ui.plugin(ColorPalette);\n\n\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1){\n        // WARNING: removing the following jshint declaration and turning\n        // == into === to make JSHint happy will break functionality.\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            html = kendo.html,\n            Color = kendo.Color,\n            extend = $.extend,\n            encode = kendo.htmlEncode,\n            BACKGROUNDCOLOR = \"background-color\",\n            MESSAGES = {\n                apply  : \"Apply\",\n                cancel : \"Cancel\",\n                noColor: \"no color\",\n                clearColor: \"Clear color\",\n                previewInput: null,\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red\",\n                green: \"Green\",\n                blue: \"Blue\",\n                alpha: \"Alpha\",\n                gradient: \"Gradient view\",\n                palette: \"Palette view\"\n            },\n            NS = \".kendoColorTools\",\n            CLICK_NS = \"click\" + NS,\n            KEYDOWN_NS = \"keydown\" + NS,\n            ColorSelector = ui.colorpicker.ColorSelector,\n            KEYS = kendo.keys,\n\n            NO_COLOR = \"k-no-color\",\n            SELECTED = \"k-selected\",\n            PREVIEW_MASK = \".k-color-preview-mask\",\n\n            ARIA_PRESSED = \"aria-pressed\",\n            ARIA_DISABLED = \"aria-disabled\",\n\n            VIEWS = {\n                \"gradient\": ui.ColorGradient,\n                \"palette\": ui.ColorPalette\n            };\n\n        function bind(callback, obj) {\n            return function() {\n                return callback.apply(obj, arguments);\n            };\n        }\n\n        var FlatColorPicker = ColorSelector.extend({\n            init: function(element, options) {\n                var that = this;\n\n                if (options && options.autoupdate === false) {\n                    options._standalone = false;\n                }\n\n                ColorSelector.fn.init.call(that, element, options);\n                options = that.options = kendo.deepExtend({}, that.options, options);\n                element = that.element;\n\n                that._wrapper();\n\n                var value = that.color();\n\n                that._changeView(options.view);\n\n                that._setViewSize();\n\n                if (value) {\n                    that._updateUI(value);\n                    that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                    that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                } else {\n                    that._selectedColor.addClass(NO_COLOR);\n                    that._previousColor.addClass(NO_COLOR);\n                }\n\n                that._attachEvents();\n                that._navigation();\n            },\n            destroy: function() {\n                var that = this;\n\n                ColorSelector.fn.destroy.call(this);\n\n                if (that._view) {\n                    that._view.destroy();\n                    that._viewsContainer.empty();\n                }\n\n                that.element.off(NS);\n\n                that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n            },\n            options: {\n                name: \"FlatColorPicker\",\n                opacity: false,\n                buttons: false,\n                input: true,\n                preview: true,\n                clearButton: false,\n                format: \"hex\",\n                formats: [\"rgb\", \"hex\"],\n                view: \"gradient\",\n                views: [\"gradient\", \"palette\"],\n                palette: null,\n                autoupdate : true,\n                backgroundColor: null,\n                columns: 10,\n                tileSize: 24,\n                messages   : MESSAGES,\n                size: \"medium\", // Fake styling option to accomplish colorpicker's size for textbox and button\n                _otOfPicker: true\n            },\n            setBackgroundColor: function (color) {\n                var that = this;\n\n                if(that._view && that._view.setBackgroundColor) {\n                    that._view.setBackgroundColor(color);\n                }\n            },\n            _attachEvents: function() {\n                var that = this;\n\n                that.wrapper\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                        that._clearColor = true;\n                        that._updateUI(null);\n                        that._view.value(null);\n                    })\n                    .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                        if(that._clearColor) {\n                            that._select(null);\n                        } else {\n                            that._select(that._view.color());\n                        }\n                    })\n                    .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                        delete that._clearColor;\n                        that._updateUI(that.color());\n                        that._cancel();\n                    })\n                    .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                        var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                        if(viewButton.is(\".\" + SELECTED)) {\n                            return;\n                        }\n\n                        that.wrapper.find(\".k-button[data-view]\").removeClass(SELECTED).attr(ARIA_PRESSED, false);\n                        viewButton.addClass(SELECTED).attr(ARIA_PRESSED, true);\n                        that._changeView(viewButton.data(\"view\"));\n                    });\n            },\n            _select: function(value) {\n                var that = this;\n\n                ColorSelector.fn._select.call(that, value);\n\n                that._updatePreviousColor(value);\n            },\n            _updatePreviousColor: function (value) {\n                var that = this;\n\n                if (value) {\n                    that._previousColor.removeClass(NO_COLOR);\n                    that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                } else {\n                    that._previousColor.addClass(NO_COLOR);\n                    that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n                }\n            },\n            _changeView: function (mode) {\n                var that = this,\n                    options = $.extend({}, that.options),\n                    selector =  VIEWS[mode],\n                    selectedColor, hsvColor;\n\n                if(that._view && that._view._colorInput) {\n                    that.options.format = that._view._colorInput._viewModel.format;\n                }\n\n                that.options.view = mode;\n\n                delete options.name;\n                delete options.change;\n                delete options.select;\n                delete options.cancel;\n                delete options._standalone;\n\n                if (that._view) {\n                    selectedColor = that._view.color();\n                    that._view.destroy();\n                    that._viewsContainer.empty();\n                }\n\n                if (selectedColor) {\n                    selectedColor = selectedColor.toHSV();\n                    hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                    that._cachedHue = selectedColor.toHSV().h;\n                    selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                }\n\n                options._otOfPicker = false;\n\n                if (selector) {\n                    that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                    that._view.value(selectedColor);\n\n                    that._view.bind(\"change\", function (ev) {\n                        delete that._clearColor;\n                        that._updateUI(ev.sender.color(), true);\n                    });\n\n                    that._view.bind(\"forceSelect\", function (ev) {\n                        delete that._clearColor;\n                        that._select(ev.sender.color());\n                    });\n                }\n            },\n            _onEnable: function(enable) {\n                var that = this;\n\n                if (that._view) {\n                    that._view._onEnable(enable);\n                }\n\n                if (that.options._standalone) {\n                    if (enable) {\n                        that.wrapper.removeAttr(ARIA_DISABLED);\n                    } else {\n                        that.wrapper.attr(ARIA_DISABLED, true);\n                    }\n                }\n            },\n            focus: function() {\n                var that = this;\n\n                if (that._view) {\n                    that._view.focus();\n                }\n            },\n            _updateUI: function(color, dontChangeView) {\n                var that = this;\n\n                if (color && color.toDisplay) {\n                    that._selectedColor.removeClass(NO_COLOR);\n                    that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n                } else {\n                    that._selectedColor.addClass(NO_COLOR);\n                    that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n                }\n\n                that._triggerSelect(color);\n\n                if (that.options.autoupdate) {\n                    that._updatePreviousColor(color);\n                }\n\n                if(!dontChangeView) {\n                    that._view.value(color);\n                }\n            },\n            _setViewSize: function() {\n                var that = this,\n                    wrapper = that.wrapper[0],\n                    previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                    previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                    previewColumns = that.options.columns;\n\n                wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n                wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n                wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n            },\n            _keydown: function(e) {\n                if (e.keyCode == KEYS.ESC) {\n                    this._cancel();\n                }\n            },\n            _template: function () {\n                var that = this,\n                    options = that.options,\n                    buttonOptions = extend({}, options, {\n                        fillMode: \"flat\",\n                        themeColor: \"base\",\n                        rounded: \"medium\"\n                    });\n\n                return kendo.template(function (options, buttonOptions) { return '<div class=\"k-coloreditor-header k-hstack\">' +\n                            ((options.views && options.views.length > 1) ?\n                            '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                                '<div role=\"group\" class=\"k-button-group k-button-group-flat\">' +\n                                    html.renderButton((\"<button aria-pressed=\\\"false\\\" data-view=\\\"gradient\\\" title=\\\"\" + (encode(options.messages.gradient)) + \"\\\"></button>\"), extend({ icon: \"droplet-slider\" }, buttonOptions)) +\n                                    html.renderButton((\"<button aria-pressed=\\\"false\\\" data-view=\\\"palette\\\" title=\\\"\" + (encode(options.messages.palette)) + \"\\\"></button>\"), extend({ icon: \"palette\" }, buttonOptions)) +\n                                '</div>' +\n                            '</div>'\n                            : '') +\n                            '<div class=\"k-spacer\"></div>' +\n                            '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                                (options.clearButton ?\n                                html.renderButton((\"<button class=\\\"k-coloreditor-reset\\\" title=\\\"\" + (encode(options.messages.clearColor)) + \"\\\"></button>\"), extend({ icon: \"droplet-slash\" }, buttonOptions))\n                                : '') +\n                                (options.preview ?\n                                '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                    '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                        '<span class=\"k-color-preview-mask\"></span>' +\n                                    '</span>' +\n                                    '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                        '<span class=\"k-color-preview-mask\"></span>' +\n                                    '</span>' +\n                                '</div>'\n                                : '') +\n                            '</div>' +\n                        '</div>' +\n                        '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                        (options.buttons ?\n                        '<div class=\"k-coloreditor-footer k-actions k-actions-end k-actions-horizontal\">' +\n                            html.renderButton((\"<button class=\\\"k-coloreditor-cancel\\\" title=\\\"\" + (encode(options.messages.cancel)) + \"\\\">\" + (encode(options.messages.cancel)) + \"</button>\"), extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                            html.renderButton((\"<button class=\\\"k-coloreditor-apply\\\" title=\\\"\" + (encode(options.messages.apply)) + \"\\\">\" + (encode(options.messages.apply)) + \"</button>\"), extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                        '</div>'\n                        : ''); }\n                    )(options, buttonOptions);\n            },\n            _wrapper: function() {\n                var options = this.options,\n                    wrapper;\n\n                if (this.element.is(\"input\")) {\n                    wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n                } else {\n                    wrapper = this.element;\n                }\n\n                wrapper.addClass(\"k-flatcolorpicker k-coloreditor\")\n                    .attr({\n                        \"role\": \"textbox\",\n                        \"aria-keyshortcuts\": \"Enter\"\n                    })\n                    .append(this._template());\n\n                this._selectedColor = $(\".k-coloreditor-preview-color\", wrapper);\n                this._previousColor = $(\".k-coloreditor-current-color\", wrapper);\n                this._viewsContainer = $(\".k-coloreditor-views\", wrapper);\n\n                wrapper.find(\".k-button[data-view=\" + options.view + \"]\").addClass(SELECTED).attr(ARIA_PRESSED, true);\n\n                this.wrapper = wrapper;\n            }\n        });\n\n        ui.plugin(FlatColorPicker);\n    })(window.kendo.jQuery);\n\n    var __meta__ = {\n        id: \"colorpicker\",\n        name: \"Color tools\",\n        category: \"web\",\n        description: \"Color selection widgets\",\n        depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n    };\n\n    (function($, undefined$1) {\n        // WARNING: removing the following jshint declaration and turning\n        // == into === to make JSHint happy will break functionality.\n\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Widget = ui.Widget,\n            Color = kendo.Color,\n            parseColor = kendo.parseColor,\n            KEYS = kendo.keys,\n            BACKGROUNDCOLOR = \"background-color\",\n            MESSAGES = {\n                apply: \"Apply\",\n                cancel: \"Cancel\",\n                noColor: \"no color\",\n                clearColor: \"Clear color\",\n                previewInput: null,\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red\",\n                green: \"Green\",\n                blue: \"Blue\",\n                alpha: \"Alpha\",\n                gradient: \"Gradient view\",\n                palette: \"Palette view\"\n            },\n            NS = \".kendoColorTools\",\n            CLICK_NS = \"click\" + NS,\n            KEYDOWN_NS = \"keydown\" + NS,\n            ColorSelector = ui.colorpicker.ColorSelector,\n            FlatColorPicker = ui.FlatColorPicker;\n\n        /* -----[ The ColorPicker widget ]----- */\n\n        var ColorPicker = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                // Legacy support for the cases where only palette is defined\n                if (options && options.palette && !options.view) {\n                    options.view = \"palette\";\n                }\n\n                Widget.fn.init.call(that, element, options);\n                options = that.options = kendo.deepExtend({}, that.options, options);\n                element = that.element;\n\n                var value = element.attr(\"value\") || element.val();\n                if (value) {\n                    value = parseColor(value, true);\n                } else {\n                    value = parseColor(options.value, true);\n                }\n                that._value = options.value = value;\n\n                var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                    icon: \"caret-alt-down\"\n                }));\n\n                var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                    _buttonHtml: _buttonHtml\n                })));\n\n                that._applyCssClasses();\n                element.hide().after(content);\n\n                if (element.is(\"input\")) {\n                    element.appendTo(content);\n                    that._preventDefaultLabelClick();\n                }\n\n                that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n                that.enable(!element.attr(\"disabled\"));\n\n                var accesskey = element.attr(\"accesskey\");\n                if (accesskey) {\n                    element.attr(\"accesskey\", null);\n                    content.attr(\"accesskey\", accesskey);\n                }\n\n                that.bind(\"activate\", function(ev) {\n                    if (!ev.isDefaultPrevented()) {\n                        that.toggle();\n                    }\n                });\n\n                that._updateUI(value);\n            },\n            destroy: function() {\n                this.wrapper.off(NS).find(\"*\").off(NS);\n                if (this._popup) {\n                    this._selector.destroy();\n                    this._popup.destroy();\n                }\n                this._selector = this._popup = this.wrapper = null;\n                Widget.fn.destroy.call(this);\n            },\n            enable: function(enable) {\n                var that = this,\n                    wrapper = that.wrapper,\n                    arrow = wrapper.find(\".k-input-button\");\n\n                if (arguments.length === 0) {\n                    enable = true;\n                }\n\n                that.element.attr(\"disabled\", !enable);\n                wrapper.attr(\"aria-disabled\", !enable);\n\n                arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n                wrapper.addClass(\"k-disabled\")\n                    .removeAttr(\"tabIndex\")\n                    .add(\"*\", wrapper).off(NS);\n\n                if (enable) {\n                    wrapper.removeClass(\"k-disabled\")\n                        .attr(\"tabIndex\", that._tabIndex)\n                        .on(\"mouseenter\" + NS, function() { wrapper.addClass(\"k-hover\"); })\n                        .on(\"mouseleave\" + NS, function() { wrapper.removeClass(\"k-hover\"); })\n                        .on(\"focus\" + NS, function() { wrapper.addClass(\"k-focus\"); })\n                        .on(\"blur\" + NS, function() { wrapper.removeClass(\"k-focus\"); })\n                        .on(KEYDOWN_NS, bind(that._keydown, that))\n                        .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                        .on(CLICK_NS, \".k-input-inner\", function() {\n                            that.trigger(\"activate\");\n                        });\n                } else {\n                    that.close();\n                }\n            },\n\n            _template: kendo.template(function (ref) {\n                   var toolIcon = ref.toolIcon;\n                   var _buttonHtml = ref._buttonHtml;\n\n                   return '<span role=\"combobox\" aria-haspopup=\"dialog\" aria-expanded=\"false\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                    '<span class=\"k-input-inner\">' +\n                        \"<span class=\\\"k-value-icon k-color-preview \" + (toolIcon ? 'k-icon-color-preview' : '') + \"\\\">\" +\n                            (toolIcon ? kendo.ui.icon({ icon: toolIcon, iconClass: \"k-color-preview-icon\" }) : '') +\n                            '<span class=\"k-color-preview-mask\"></span>' +\n                        '</span>' +\n                    '</span >' +\n                    _buttonHtml +\n                '</span>';\n        }\n            ),\n\n            options: {\n                name: \"ColorPicker\",\n                closeOnSelect: false,\n                contrastTool: false,\n                palette: null,\n                columns: 10,\n                toolIcon: null,\n                value: null,\n                messages: MESSAGES,\n                opacity: false,\n                buttons: true,\n                preview: true,\n                clearButton: false,\n                input: true,\n                format: \"hex\",\n                formats: [\"rgb\", \"hex\"],\n                view: \"gradient\",\n                views: [\"gradient\", \"palette\"],\n                backgroundColor: null,\n                ARIATemplate: function (data) { return (\"Current selected color is \" + (data || \"none\")); },\n                size: \"medium\",\n                rounded: \"medium\",\n                fillMode: \"solid\"\n            },\n\n            events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n            open: function() {\n                if (!this.element.prop(\"disabled\")) {\n                    this._getPopup().open();\n                }\n            },\n            close: function() {\n                var selOptions = (this._selector && this._selector.options) || {};\n                selOptions._closing = true;\n                this._getPopup().close();\n\n                delete selOptions._closing;\n            },\n            toggle: function() {\n                if (!this.element.prop(\"disabled\")) {\n                    this._getPopup().toggle();\n                }\n            },\n            setBackgroundColor: function(color) {\n                var that = this,\n                    handler = function() { that._selector.setBackgroundColor(color); };\n\n                that.options.contrastTool.backgroundColor = color;\n\n                if (that._selector && (that._popup && that._popup.visible())) {\n                    that._selector.setBackgroundColor(color);\n                } else if (that._popup) {\n                    that._popup.unbind(\"activate\", handler);\n                    that._popup.bind(\"activate\", handler);\n                }\n            },\n            _noColorIcon: function() {\n                return this.wrapper.find(\".k-color-preview\");\n            },\n            color: ColorSelector.fn.color,\n            value: ColorSelector.fn.value,\n            _select: ColorSelector.fn._select,\n            _triggerSelect: ColorSelector.fn._triggerSelect,\n            _isInputTypeColor: ColorSelector.fn._isInputTypeColor,\n\n            _preventDefaultLabelClick: function() {\n                // if there exists a <label> associated with this\n                // input field, we must catch clicks on it to prevent\n                // the built-in color picker from showing up.\n                // https://github.com/telerik/kendo-ui-core/issues/292\n                var that = this,\n                    element = that.element,\n                    label = element.closest(\"label\"),\n                    id = element.attr(\"id\");\n\n                if (id) {\n                    label = label.add('label[for=\"' + id + '\"]');\n                }\n                label.on(\"click\", function(ev) {\n                    that.open();\n                    ev.preventDefault();\n                });\n            },\n\n            _updateUI: function(value, dontChangeSelector) {\n                this._updateInput(value);\n                this._triggerSelect(value);\n\n                this.wrapper.find(\".k-color-preview-mask\").css(\n                    BACKGROUNDCOLOR,\n                    value ? value.toDisplay() : \"\"\n                );\n\n                this._noColorIcon().toggleClass(\"k-no-color\", !value);\n\n                if (this._selector && !dontChangeSelector) {\n                    this._selector.value(value);\n                }\n            },\n            _updateInput: function(value) {\n                var formattedValue = \"\";\n\n                if (value) {\n                    if (this._isInputTypeColor() || value.a == 1) {\n                        // seems that input type=\"color\" doesn't support opacity\n                        // in colors; the only accepted format is hex #RRGGBB\n                        formattedValue = value.toCss();\n                    } else {\n                        formattedValue = value.toCssRgba();\n                    }\n\n                    this.element.val(formattedValue);\n                }\n\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n            },\n            _keydown: function(ev) {\n                var key = ev.keyCode;\n                if (this._getPopup().visible()) {\n                    if (key == KEYS.ESC) {\n                        this._selector._cancel();\n                    } else {\n                        this._selector._keydown(ev);\n                    }\n                    preventDefault(ev);\n                }\n                else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                    this.open();\n                    preventDefault(ev);\n                }\n            },\n            _getPopup: function() {\n                var that = this, popup = that._popup;\n\n                if (!popup) {\n                    var options = that.options;\n                    var selectorType;\n\n                    selectorType = FlatColorPicker;\n\n                    options.autoupdate = options.buttons !== true;\n                    delete options.select;\n                    delete options.change;\n                    delete options.cancel;\n\n                    options._otOfPicker = false;\n\n                    var id = kendo.guid();\n\n                    var selectorWrapper = $('<div id=\"' + id + '\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                    var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                    that.wrapper.attr(\"aria-controls\", id);\n\n                    that._popup = popup = selectorWrapper.kendoPopup({\n                        anchor: that.wrapper,\n                        adjustSize: { width: 5, height: 0 }\n                    }).data(\"kendoPopup\");\n\n                    selector.bind({\n                        select: function(ev) {\n                            that._updateUI(parseColor(ev.value), true);\n                        },\n                        change: function(ev) {\n                            if (that.options.buttons) {\n                                that._select(selector.color());\n                            } else {\n                                that._updateUI(parseColor(ev.value), true);\n                            }\n\n                            if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                                that.close();\n                            }\n                        },\n                        cancel: function() {\n                            that.close();\n                        }\n                    });\n                    popup.bind({\n                        close: function(ev) {\n                            if (that.trigger(\"close\")) {\n                                ev.preventDefault();\n                                return;\n                            }\n                            that.wrapper.removeClass(\"k-focus\");\n\n                            var color = selector.color();\n\n                            if (!that.options.buttons) {\n                                that._select(color);\n                            } else {\n                                that._select(that.color());\n                            }\n\n                            color = that.color();\n\n                            if (color && color.h) {\n                                that._cachedHue = color.h;\n                            }\n\n                            var clickedOutside = event &&\n                                event instanceof MouseEvent &&\n                                $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                            if (!clickedOutside) {\n                                setTimeout(function() {\n                                    if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                        that.wrapper.trigger(\"focus\");\n                                    }\n                                }, 0);\n                            }\n\n                            that.wrapper.attr(\"aria-expanded\", false);\n                        },\n                        open: function(ev) {\n                            if (that.trigger(\"open\")) {\n                                ev.preventDefault();\n                            } else {\n                                that.wrapper.addClass(\"k-focus\");\n                                that.wrapper.attr(\"aria-expanded\", true);\n                            }\n                        },\n                        activate: function() {\n                            var hsvColor,\n                                selectedColor = that.color();\n\n                            if (selectedColor) {\n                                selectedColor = selectedColor.toHSV();\n                                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                            }\n\n                            selector.value(selectedColor);\n                            selector.focus();\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    });\n                }\n                return popup;\n            }\n        });\n\n        function preventDefault(ev) { ev.preventDefault(); }\n\n        function bind(callback, obj) {\n            return function() {\n                return callback.apply(obj, arguments);\n            };\n        }\n\n        ui.plugin(ColorPicker);\n\n        kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n        kendo.cssProperties.registerValues(\"ColorPicker\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}