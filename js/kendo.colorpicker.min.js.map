{"version":3,"file":"kendo.colorpicker.min.js","sources":["kendo.colorpicker.js"],"sourcesContent":["(function(f, define){\n    define('colorpicker/colorselector',[ \"kendo.core\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this, ariaId;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n            that._value = options.value = parseColor(options.value);\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            ariaId = that._ariaId = options.ariaId;\n            if (ariaId) {\n                element.attr(\"aria-labelledby\", ariaId);\n            }\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined) {\n                // this.options.value = value;\n                this._value = parseColor(value);\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && !color.equals(prev)) || (color === null && color !== prev)) {\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n            if (this.wrapper) {\n                this.wrapper.off(NS).find(\"*\").off(NS);\n            }\n            this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        _updateUI: $.noop,\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/contrastToolUtils',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;\" >' +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorgradient',[ \"kendo.core\", \"./contrastToolUtils\" ], f);\n})(function(){\n\n(function($, undefined) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                mode: function (mode) {\n                    return mode === this.get(\"format\");\n                },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n\n        _template: kendo.template(\n            '# if (options.formats && options.formats.length > 1) { #' +\n            '<div class=\"k-vstack\">' +\n                '<button class=\"k-colorgradient-toggle-mode\" data-#:ns#role=\"button\" data-#:ns#icon=\"arrows-kpi\" data data-#:ns#bind=\"click: switchMode\" data-#:ns#fill-mode=\"flat\" data-#:ns#size=\"#: options.size #\" title=\"#: options.messages.toggleFormat #\">' +\n               '</button>' +\n            '</div>' +\n            '# } #' +\n\n\n            // HEX input\n            '# if (options.formats && options.formats.indexOf(\"hex\") >= 0) { #' +\n            '<div class=\"k-vstack k-flex-1\" data-#:ns#bind=\"visible: mode(\\'hex\\')\">' +\n                '<input type=\"text\" data-#:ns#bind=\"value: hex\" data-#:ns#role=\"textbox\" data-#:ns#size=\"#: options.size #\" tabindex=\"#:options.tabindex#\"  aria-label=\"#: options.messages.hex #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n            '</div>' +\n            '# } #' +\n\n            // RGBA input\n            '# if (options.formats && options.formats.indexOf(\"rgb\") >= 0) { #' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.r\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.red #\" />' +\n                '<label class=\"k-colorgradient-input-label\">R</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.g\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.green #\" />' +\n                '<label class=\"k-colorgradient-input-label\">G</label>' +\n            '</div>' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.b\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#max=\"255\" data-#:ns#min=\"0\" data-#:ns#decimals=\"0\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n0\"  aria-label=\"#: options.messages.blue #\"/>' +\n                '<label class=\"k-colorgradient-input-label\">B</label>' +\n            '</div>' +\n            '#if(options.opacity){#' +\n            '<div  class=\"k-vstack\" data-#:ns#bind=\"visible: mode(\\'rgb\\')\">' +\n                '<input tabindex=\"#:options.tabindex#\" data-#:ns#bind=\"value: rgb.a\" data-#:ns#role=\"numerictextbox\" data-#:ns#size=\"#: options.size #\" data-#:ns#step=\"0.1\" data-#:ns#max=\"1\" data-#:ns#min=\"0\" data-#:ns#decimals=\"1\" data-#:ns#spinners=\"false\" data-#:ns#format=\"n1\"  aria-label=\"#: options.messages.alpha #\" />' +\n                '<label class=\"k-colorgradient-input-label\">A</label>' +\n            '</div>' +\n            '# } #' +\n            '# } #'),\n        destroy: function(){\n            var that = this;\n\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-colorgradient\")\n                .append(that._template(options));\n\n            that._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", element);\n            that._colorgradientInputs = $(\".k-colorgradient-inputs\", element);\n            that._contrastTool = $(\".k-colorgradient-color-contrast\", element);\n\n            that._sliders();\n\n            that._hsvArea();\n\n            value = that._value;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: this._tabIndex\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n\n            that._updateUI(value);\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red\",\n                green: \"Green\",\n                blue: \"Blue\",\n                alpha: \"Alpha\"\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"></div><div class=\"k-hsv-draghandle k-draghandle\"></div></div>' +\n\n                '<div class=\"k-hsv-controls k-hstack\">' +\n                    '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                    '# if (opacity) { #' +\n                        '<input class=\"k-alpha-slider k-colorgradient-slider\" />' +\n                    '# } #' +\n                '</div>' +\n            '</div>' +\n\n            '# if (input) { #' +\n            '<div class=\"k-colorgradient-inputs k-hstack\">' +\n            '</div>' +\n            '# } #' +\n\n            '# if (contrastTool) { #' +\n                '<div class=\"k-colorgradient-color-contrast k-vbox\">' +\n                '</div>' +\n            '# } #'\n        ),\n        _onEnable: function(enable) {\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            this.wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            var handle = this._hsvRect.find(\".k-draghandle\");\n\n            if (enable) {\n                handle.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                handle.removeAttr(\"tabIndex\");\n            }\n        },\n        _sliders: function() {\n            var that = this,\n                element = that.element,\n                hueSlider = element.find(\".k-hue-slider\"),\n                opacitySlider = element.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue saturation\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _hsvArea: function() {\n            var that = this,\n                element = that.element,\n                hsvRect = element.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._keydown, that));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                that._svChange(dx / rw, 1 - dy / rh);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template('<div class=\"k-contrast-ratio\">' +\n                                            '<span class=\"k-contrast-ratio-text\">#:messages.contrastRatio# #:kendo.toString(ratio, \"n2\")#</span>' +\n                                            '<span class=\"k-contrast-validation k-text-success\">' +\n                                                '#if (ratio > 4.5) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                                '#if (ratio > 7) {#' +\n                                                    '<span class=\"k-icon k-i-check\"></span>' +\n                                                '#}#' +\n                                            '</span></div>'),\n                labelTemplate = kendo.template('<div>' +\n                                            '<span>#:level#: #:limit# </span>' +\n                                            '#if (ratio > limit) {#' +\n                                            '<span class=\"k-contrast-validation k-text-success\">#:messages.pass# <span class=\"k-icon k-i-check\"></span></span>' +\n                                            '#} else {#' +\n                                            '<span class=\"k-contrast-validation k-text-error\">#:messages.fail# <span class=\"k-icon k-i-close\"></span></span>' +\n                                            '#}#' +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _keydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n(function(f, define){\n    define('colorpicker/colorpalette',[\n        \"kendo.core\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-state-selected\",\n        ITEMSFOCUSEDCLASS = \"k-state-focus\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n            ColorSelector.fn.init.call(that, element, options);\n            element = that.wrapper = that.element;\n            options = that.options;\n\n            var colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if (Array.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n\n            element.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .attr(\"aria-readonly\", \"true\")\n                .append($(that._template({\n                    colors   : colors,\n                    columns  : options.columns,\n                    tileSize : options.tileSize,\n                    value    : that._value,\n                    id       : options.ariaId\n                })))\n                .on(CLICK_NS, \".k-colorpalette-tile\", function(ev){\n                    that._select(ev.currentTarget);\n                })\n                .attr(\"tabIndex\", that._tabIndex)\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(BLUR_NS, function(){\n                    that.wrapper.find(\".k-colorpalette-tile\").removeClass(ITEMSFOCUSEDCLASS);\n                });\n\n            var tileSize = options.tileSize, width, height;\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                element.find(\".k-colorpalette-tile\").css({ width: width, height: height });\n            }\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _onEnable: function(enable) {\n            if (enable) {\n                this.wrapper.attr(\"tabIndex\", this._tabIndex);\n            } else {\n                this.wrapper.removeAttr(\"tabIndex\");\n            }\n        },\n        _keydown: function(e) {\n            var selected,\n                wrapper = this.wrapper,\n                items = wrapper.find(\".k-colorpalette-tile\"),\n                current = items.filter(\".\" + ITEMSFOCUSEDCLASS).get(0) || items.filter(\".\" + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode;\n\n            if (keyCode == KEYS.LEFT) {\n                selected = relative(items, current, -1);\n            } else if (keyCode == KEYS.RIGHT) {\n                selected = relative(items, current, 1);\n            } else if (keyCode == KEYS.DOWN) {\n                selected = relative(items, current, this.options.columns);\n            } else if (keyCode == KEYS.UP) {\n                selected = relative(items, current, -this.options.columns);\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (selected) {\n                preventDefault(e);\n\n                this._current(selected);\n\n                try {\n                    var color = parseColor(selected.css(BACKGROUNDCOLOR));\n                    this._triggerSelect(color);\n                } catch(ex) {}\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(\".k-colorpalette-tile\");\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS);\n            item.addClass(ITEMSELECTEDCLASS);\n        },\n        _current: function(item) {\n            this.wrapper.find(\".\" + ITEMSFOCUSEDCLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", false)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"aria-selected\", true)\n                .attr(\"id\", this._selectedID);\n\n            this.element\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(\".k-colorpalette-tile\");\n\n            this.wrapper.find(\".k-colorpalette-tile\").each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if(item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n            }\n        },\n        _template: kendo.template(\n            '<div class=\"k-colorpalette-table-wrap\">' +\n            '<table class=\"k-colorpalette-table k-palette\" role=\"presentation\"><tr role=\"row\">' +\n              '# for (var i = 0; i < colors.length; ++i) { #' +\n                '# var selected = colors[i].equals(value); #' +\n                '# if (i && i % columns == 0) { # </tr><tr role=\"row\"> # } #' +\n                '<td role=\"gridcell\" unselectable=\"on\" style=\"background-color:#= colors[i].toCss() #\"' +\n                    '#= selected ? \" aria-selected=true\" : \"\" # ' +\n                    '#=(id && i === 0) ? \"id=\\\\\"\"+id+\"\\\\\" \" : \"\" # ' +\n                    'class=\"k-colorpalette-tile#= selected ? \" ' + ITEMSELECTEDCLASS + '\" : \"\" #\" ' +\n                    'aria-label=\"#= colors[i].toCss() #\"></td>' +\n              '# } #' +\n            '</tr></table></div>'\n        )\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('colorpicker/flatcolorpicker',[\n        \"./colorgradient\",\n        \"./colorpalette\",\n        \"kendo.html.button\"\n    ], f);\n})(function(){\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that.wrapper = element.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .append(that._template());\n\n            that._selectedColor = $(\".k-coloreditor-preview-color\", element);\n            that._previousColor = $(\".k-coloreditor-current-color\", element);\n            that._viewsContainer = $(\".k-coloreditor-views\", element);\n\n            element.find(\".k-button[data-view=\" + that.options.view + \"]\").addClass(SELECTED);\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            element\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    element.find(\".k-button[data-view]\").removeClass(SELECTED);\n                    viewButton.addClass(SELECTED);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\" // Fake styling option to accomplish colorpicker's size for textbox and button\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template(\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        '# if (views && views.length > 1) { #' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton('<button  data-view=\"gradient\" title=\"#:messages.gradient#\"></button>', extend({ icon: \"color-canvas\" }, buttonOptions)) +\n                                html.renderButton('<button  data-view=\"palette\" title=\"#:messages.palette#\"></button>', extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>' +\n                        '# } #' +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '# if (clearButton) { #' +\n                            html.renderButton('<button class=\"k-coloreditor-reset\" title=\"#:messages.clearColor#\"></button>', extend({ icon: \"reset-color\" }, buttonOptions)) +\n                            '# } #' +\n                            '# if (preview) { #' +\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>' +\n                            '# } #' +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    '# if (buttons) { #' +\n                    '<div class=\"k-coloreditor-footer k-actions k-hstack k-justify-content-end\">' +\n                        html.renderButton('<button class=\"k-coloreditor-cancel\" title=\"#:messages.cancel#\">#: messages.cancel #</button>', extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton('<button class=\"k-coloreditor-apply\" title=\"#:messages.apply#\">#: messages.apply #</button>', extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>' +\n                    '# } #'\n                )(options);\n            }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n(function(f, define){\n    define('kendo.colorpicker',[\n        \"kendo.core\",\n        \"kendo.color\",\n        \"kendo.popup\",\n        \"kendo.slider\",\n        \"kendo.userevents\",\n        \"kendo.button\",\n        \"kendo.binder\",\n        \"kendo.textbox\",\n        \"kendo.numerictextbox\",\n        \"kendo.html.button\",\n\n        \"./colorpicker/colorselector\",\n        \"./colorpicker/flatcolorpicker\"\n    ], f);\n})(function(){\n\nvar __meta__ = { // jshint ignore:line\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n    /*jshint eqnull:true  */\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if(options && options.palette && !options.view){\n                options.view =\"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"arrow-s\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n\n                // if there exists a <label> associated with this\n                // input field, we must catch clicks on it to prevent\n                // the built-in color picker from showing up.\n                // https://github.com/telerik/kendo-ui-core/issues/292\n\n                var label = element.closest(\"label\");\n                var id = element.attr(\"id\");\n                if (id) {\n                    label = label.add('label[for=\"' + id + '\"]');\n                }\n                label.on(\"click\", function(ev){\n                    that.open();\n                    ev.preventDefault();\n                });\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev){\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function () { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function () { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function () { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function () { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function () {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(\n            '<span role=\"textbox\" aria-haspopup=\"true\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span  class=\"k-input-inner\">' +\n                    '<span class=\"k-value-icon k-color-preview #: toolIcon ? \"k-icon-color-preview\" : \"\" #\">' +\n                        '# if (toolIcon) { #' +\n                        '<span class=\"k-color-preview-icon k-icon #= toolIcon #\"></span>' +\n                        '# } #' +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                '#= _buttonHtml #' +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input      : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: 'Current selected color is #=data || \"\"#',\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function () {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function () {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function (color) {\n            var that = this,\n                handler = function () { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if(that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function(){\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n\n            this._triggerSelect(value);\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !formattedValue);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id +'\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-owns\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev){\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev){\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev){\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function () {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                        }\n                    },\n                    activate: function(){\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\n\n"],"names":["define","$","window","kendo","jQuery","undefined","ui","Widget","parseColor","extend","NS","DISABLED","ColorSelector","init","element","options","that","this","ariaId","fn","call","_value","value","_tabIndex","attr","_ariaId","_standalone","_triggerSelect","_triggerChange","name","events","color","_updateUI","opacity","toCssRgba","toCss","enable","arguments","length","wrapper","toggleClass","_onEnable","_select","nohooks","prev","equals","trigger","triggerEvent","destroy","off","find","noop","_selectOnHide","_cancel","self","type","a","colorpicker","amd","a1","a2","a3","Color","AA_CONTRAST","AAA_CONTRAST","STEP_COUNT","getContrast","luminance1","luminance2","brightest","Math","max","darkest","min","getContrastFromTwoRGBAs","b","getLuminance","getRGBFromRGBA","r","g","rgb","map","v","pow","foregroundColor","backgroundColor","r1","fitIntoBounds","g1","b1","r2","g2","b2","round","contender","isPresent","isNaN","renderSvgCurveLine","gradientRectMetrics","hsva","findValue","contrast","saturation","low","high","comparer","mid","currentHsva","s","width","height","currentContrast","getColorFromHSV","toBytes","reversedComparer","getPaths","stepCount","reversed","points","i","push","bezierCommandCalc","bezierCommand","controlPoint","line","paths","svgPath","command","reducer","acc","point","format","d","reduce","controlPointCalc","cps","cpe","lineCalc","current","previous","next","reverse","p","n","smooth","l","angle","PI","x","cos","y","sin","pointA","pointB","lengthX","lengthY","sqrt","atan2","hue","h","alpha","fromHSV","contrastToolUtils","Observable","KEYS","keys","BACKGROUNDCOLOR","WHITE","BLACK","KEYDOWN_NS","preventDefault","ev","bind","callback","obj","apply","ColorInput","_viewModel","observable","switchMode","keydown","mode","get","formats","hex","_changeHandler","change","_render","on","_template","template","unbind","append","ns","guid","parent","_color","_preventChangeEvent","set","reset","model","currentFormat","index","indexOf","field","_tryParseColor","sender","error","textbox","target","data","keyCode","ENTER","is","_change","ColorGradient","deepExtend","messages","previewInput","addClass","_hueElements","_colorgradientInputs","_contrastTool","_sliders","_hsvArea","_colorInput","tabindex","input","contrastTool","size","contrastRatio","fail","pass","toggleFormat","red","green","blue","_hueSlider","_opacitySlider","handle","_hsvRect","removeAttr","hueSlider","opacitySlider","hueChange","e","_getHSV","kendoSlider","tickPlacement","showButtons","orientation","slide","opacityChange","hsvRect","hsvHandle","_keydown","update","offset","dx","left","dy","top","rw","rh","_svChange","_hsvEvents","UserEvents","global","press","getOffset","focus","location","start","move","end","removeClass","_hsvHandle","setBackgroundColor","isPlainObject","_updateColorContrast","dontChangeInput","_reset","_updateHsv","_resetHsv","_resetColorContrast","rect","toHSV","css","contrastOptions","contrastRatioTemplate","labelTemplate","output","ratio","limit","level","remove","_updateContrastSvg","svgClassName","metrics","newSvg","prop","c","shiftKey","LEFT","ctrlKey","RIGHT","UP","DOWN","F2","select","ESC","handlePosition","position","_selectedColor","_colorAsText","plugin","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","SIMPLEPALETTE","WEBPALETTE","CLICK_NS","BLUR_NS","relative","array","delta","Array","prototype","slice","pos","ColorPalette","colors","palette","columns","split","isArray","_selectedID","tileSize","id","currentTarget","test","parseFloat","Error","selected","items","filter","_current","ex","item","each","html","MESSAGES","NO_COLOR","SELECTED","PREVIEW_MASK","VIEWS","gradient","FlatColorPicker","autoupdate","_previousColor","_viewsContainer","view","_changeView","_setViewSize","children","toDisplay","_clearColor","_view","viewButton","closest","empty","buttons","preview","clearButton","views","cancel","noColor","clearColor","_updatePreviousColor","selector","selectedColor","hsvColor","_cachedHue","appendTo","dontChangeView","previewWidth","parseInt","previewHeight","previewColumns","style","setProperty","buttonOptions","fillMode","themeColor","rounded","renderButton","icon","__meta__","category","description","depends","ColorPicker","val","_buttonHtml","content","_inputWrapper","_applyCssClasses","hide","after","label","add","open","accesskey","isDefaultPrevented","toggle","_popup","_selector","arrow","close","closeOnSelect","toolIcon","ARIATemplate","_getPopup","selOptions","_closing","handler","visible","_noColorIcon","_isInputTypeColor","el","tagName","dontChangeSelector","formattedValue","_ariaTemplate","key","popup","selectorType","selectorWrapper","document","body","kendoPopup","anchor","adjustSize","clickedOutside","event","MouseEvent","parents","setTimeout","activate","cssProperties","registerPrefix","registerValues","values","roundedValues","concat"],"mappings":"CAAA,SAAaA,QACTA,OAAO,4BAA4B,CAAE,cACtC,WAEH,IAAUC,EA6IPC,OAAOC,MAAMC,OA7IHC,OAAb,EAIQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXC,EAASD,EAAGC,OACZC,EAAaL,EAAMK,WAEnBC,EAASR,EAAEQ,OAEXC,EAAK,mBACLC,EAAW,aAEXC,EAAgBL,EAAOE,OAAO,CAC9BI,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAAMC,EAEjBX,EAAOY,GAAGN,KAAKO,KAAKJ,EAAMF,EAASC,GACnCD,EAAUE,EAAKF,QACfC,EAAUC,EAAKD,QACfC,EAAKK,OAASN,EAAQO,MAAQd,EAAWO,EAAQO,OACjDN,EAAKO,UAAYT,EAAQU,KAAK,aAAe,EAE7CN,EAASF,EAAKS,QAAUV,EAAQG,OAChC,GAAIA,EACAJ,EAAQU,KAAK,kBAAmBN,GAGpC,GAAIH,EAAQW,YACRV,EAAKW,eAAiBX,EAAKY,gBAGnCb,QAAS,CACLc,KAAM,gBACNP,MAAO,KACPI,YAAa,MAEjBI,OAAQ,CACJ,SACA,SACA,cACA,UAEJC,MAAO,SAAST,GACZ,GAAIA,IAAUjB,EAAW,CAErBY,KAAKI,OAASb,EAAWc,GACzBL,KAAKe,UAAUf,KAAKI,QAGxB,OAAOJ,KAAKI,QAEhBC,MAAO,SAASS,GACZA,EAAQd,KAAKc,MAAMA,GAEnB,GAAIA,EACA,GAAId,KAAKF,QAAQkB,QACbF,EAAQA,EAAMG,iBAEdH,EAAQA,EAAMI,QAItB,OAAOJ,GAAS,MAEpBK,OAAQ,SAASA,GACb,GAAIC,UAAUC,SAAW,EACrBF,EAAS,KAGbnB,KAAKsB,QAAQC,YAAY7B,GAAWyB,GAEpCnB,KAAKwB,UAAUL,IAEnBM,QAAS,SAASX,EAAOY,GACrB,IAAIC,EAAO3B,KAAKI,OAEhBU,EAAQd,KAAKc,MAAMA,GAEnB,IAAKY,EACD,GAAKZ,IAAUA,EAAMc,OAAOD,IAAWb,IAAU,MAAQA,IAAUa,EAAO,CACtE3B,KAAKH,QAAQgC,QAAQ,UACrB7B,KAAK6B,QAAQ,SAAU,CAAExB,MAAOL,KAAKK,eAClC,IAAKL,KAAKS,YACbT,KAAK6B,QAAQ,WAIzBnB,eAAgB,SAASI,GACrBgB,EAAa9B,KAAM,SAAUc,IAEjCH,eAAgB,SAASG,GACrBgB,EAAa9B,KAAM,SAAUc,IAEjCiB,QAAS,WACL,GAAI/B,KAAKH,QACLG,KAAKH,QAAQmC,IAAIvC,GAErB,GAAIO,KAAKsB,QACLtB,KAAKsB,QAAQU,IAAIvC,GAAIwC,KAAK,KAAKD,IAAIvC,GAEvCO,KAAKsB,QAAU,KACfhC,EAAOY,GAAG6B,QAAQ5B,KAAKH,OAE3Be,UAAW/B,EAAEkD,KACbC,cAAe,WACX,OAAO,MAEXC,QAAS,WACLpC,KAAK6B,QAAQ,aAIrB,SAASC,EAAaO,EAAMC,EAAMxB,GAC9BA,EAAQvB,EAAWuB,GAEnB,GAAKA,IAAUA,EAAMc,OAAOS,EAAKvB,UAAaA,IAAUuB,EAAKvB,QAAS,CAClE,GAAIwB,GAAQ,SAIRD,EAAKjC,OAASU,EAElB,GAAIA,GAASA,EAAMyB,GAAK,EACpBzB,EAAQA,EAAMG,iBACX,GAAIH,EACPA,EAAQA,EAAMI,QAGlBmB,EAAKR,QAAQS,EAAM,CAAEjC,MAAOS,KAaxC,OATItB,EAAOH,EAAI,CACPmD,YAAa,CACT7C,cAAeA,KAOpBV,OAAOC,QAnJd,CAqJoB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAa5D,QACTA,OAAO,gCAAgC,CACnC,cAEL,WAEH,IAAUC,EAgMPC,OAAOC,MAAMC,OAhMHC,OAAb,EACQoD,EAActD,MAAMG,GAAGmD,YACvBhD,EAASR,EAAEQ,OACXqD,EAAQ3D,MAAM2D,MACdtD,EAAaL,MAAMK,WAEnBuD,EAAc,IACdC,EAAe,EACfC,EAAa,GAIjB,SAASC,EAAYC,EAAYC,GAC7B,IAAIC,EAAYC,KAAKC,IAAIJ,EAAYC,GACrC,IAAII,EAAUF,KAAKG,IAAIN,EAAYC,GACnC,OAAQC,EAAY,MAASG,EAAU,KAG3C,SAASE,EAAwBlB,EAAGmB,GAChC,OAAOT,EACHU,EAAaC,EAAerB,EAAGmB,IAC/BC,EAAaC,EAAeF,EAAG,CAAEG,EAAG,EAAGC,EAAG,EAAGJ,EAAG,EAAGnB,EAAG,MAG9D,SAASoB,EAAcI,GACnB,IAAIxB,EAAI,CAACwB,EAAIF,EAAGE,EAAID,EAAGC,EAAIL,GAAGM,IAAI,SAAUC,GACxCA,GAAK,IACL,OAAOA,GAAK,OAAUA,EAAI,MAAQZ,KAAKa,KAAKD,EAAI,MAAS,MAAO,OAEpE,OAAO1B,EAAE,GAAK,MAASA,EAAE,GAAK,MAASA,EAAE,GAAK,MAGlD,SAASqB,EAAeO,EAAiBC,GACrC,IAAIC,EAAKC,EAAcH,EAAgBN,EAAG,EAAG,KAC7C,IAAIU,EAAKD,EAAcH,EAAgBL,EAAG,EAAG,KAC7C,IAAIU,EAAKF,EAAcH,EAAgBT,EAAG,EAAG,KAC7C,IAAIhB,EAAK4B,EAAcH,EAAgB5B,EAAG,EAAG,GAE7C,IAAIkC,EAAKH,EAAcF,EAAgBP,EAAG,EAAG,KAC7C,IAAIa,EAAKJ,EAAcF,EAAgBN,EAAG,EAAG,KAC7C,IAAIa,EAAKL,EAAcF,EAAgBV,EAAG,EAAG,KAE7C,MAAO,CACHG,EAAGR,KAAKuB,OAAQ,EAAIlC,GAAM+B,EAAO/B,EAAK2B,GACtCP,EAAGT,KAAKuB,OAAQ,EAAIlC,GAAMgC,EAAOhC,EAAK6B,GACtCb,EAAGL,KAAKuB,OAAQ,EAAIlC,GAAMiC,EAAOjC,EAAK8B,IAI9C,SAASF,EAAcO,EAAWrB,EAAKF,GACnC,IAAKwB,EAAUD,IAAcE,MAAMF,GAC/B,OAAOrB,EAGX,OAAOqB,GAAarB,EAAMA,EAAMqB,GAAavB,EAAMA,EAAMuB,EAG7D,SAASC,EAAUzE,GAAS,OAAOA,IAAU,MAAQA,IAAUjB,EAK/D,SAAS4F,EAAmBC,EAAqBC,EAAMd,GACnD,IAAIe,EAAY,SAAUC,EAAUC,EAAYC,EAAKC,EAAMC,GACvD,IAAIC,GAAOH,EAAMC,GAAQ,EACzB,IAAIG,EAAclG,EAAO,GAAI0F,EAAM,CAAES,EAAGN,EAAaJ,EAAoBW,MAAO3B,EAAG,EAAIwB,EAAMR,EAAoBY,SACjH,IAAIC,EAAkBrC,EAAwBlE,EAAWwG,EAAgBL,IAAcM,UAAWzG,EAAW6E,GAAiB4B,WAE9H,GAAIV,EAAM,GAAMC,EACZ,GAAIO,EAAkBV,EAAW,GAAKU,EAAkBV,EAAW,EAC/D,OAAOK,OAEP,OAAO,KAIf,GAAID,EAASM,EAAiBV,GAC1B,OAAOD,EAAUC,EAAUC,EAAYC,EAAKC,GAAQA,EAAOD,GAAO,EAAGE,GAEzE,OAAOL,EAAUC,EAAUC,EAAYC,GAAOC,EAAOD,GAAO,EAAGC,EAAMC,IAGzE,IAAIA,EAAW,SAAUjD,EAAGmB,GACxB,OAAOnB,EAAImB,GAGf,IAAIuC,EAAmB,SAAU1D,EAAGmB,GAChC,OAAOnB,EAAImB,GAGf,IAAIwC,EAAW,SAAUd,EAAUe,EAAWC,GAC1C,IAAIC,EAAS,GACb,IAAK,IAAIC,EAAI,EAAGA,GAAKrB,EAAoBW,MAAOU,GAAKrB,EAAoBW,MAAMO,EAAW,CACvF,IAAI9F,EAAQ8E,EAAUC,EAAUkB,EAAG,EAAGrB,EAAoBY,OAAQO,EAAWH,EAAmBT,GAC/F,GAAInF,IAAU,KACVgG,EAAOE,KAAK,CAACD,EAAGjG,IAGxB,OAAOgG,GAGX,IAAIG,EAAoBC,EAAcC,EAAaC,IACnD,IAAIC,EAAQC,EAAQX,EAASpD,EAAaE,EAAY,OAAQwD,GACtDK,EAAQX,EAASpD,EAAaE,EAAY,MAAOwD,GACjDK,EAAQX,EAASnD,EAAcC,EAAY,OAAQwD,GACnDK,EAAQX,EAASnD,EAAcC,EAAY,MAAOwD,GAE1D,MAAO,kJACKI,EAAS,SAGzB,SAASC,EAAQR,EAAQS,GACrB,GAAIT,EAAOhF,SAAW,EAClB,MAAO,GAGX,IAAI0F,EAAU,SAAUC,EAAKC,EAAOX,EAAG/D,GACnC,OAAO+D,IAAM,EAETpH,MAAMgI,OAAO,YAAaD,EAAM,GAAIA,EAAM,IAE1C/H,MAAMgI,OAAO,UAAWF,EAAKF,EAAQG,EAAOX,EAAG/D,KAIvD,IAAI4E,EAAId,EAAOe,OAAOL,EAAS,IAE/B,OAAO7H,MAAMgI,OAAO,8DAA+DC,GAGvF,SAASV,EAAcY,GACnB,OAAO,SAASJ,EAAOX,EAAG/D,GAEtB,IAAI+E,EAAMD,EAAiB9E,EAAE+D,EAAI,GAAI/D,EAAE+D,EAAI,GAAIW,GAG/C,IAAIM,EAAMF,EAAiBJ,EAAO1E,EAAE+D,EAAI,GAAI/D,EAAE+D,EAAI,GAAI,MAEtD,OAAOpH,MAAMgI,OAAO,4BAA6BI,EAAI,GAAIA,EAAI,GAAIC,EAAI,GAAIA,EAAI,GAAIN,EAAM,GAAIA,EAAM,KAIzG,SAASP,EAAac,GAClB,OAAO,SAAUC,EAASC,EAAUC,EAAMC,GAIlC,IAAIC,EAAIH,GAAYD,EACpB,IAAIK,EAAIH,GAAQF,EAChB,IAAIM,EAAS,GAGb,IAAIC,EAAIR,EAASK,EAAGC,GAGpB,IAAIG,EAAQD,EAAEC,OAASL,EAAUvE,KAAK6E,GAAK,GAC3C,IAAI7G,EAAS2G,EAAE3G,OAAS0G,EAGxB,IAAII,EAAIV,EAAQ,GAAKpE,KAAK+E,IAAIH,GAAS5G,EACvC,IAAIgH,EAAIZ,EAAQ,GAAKpE,KAAKiF,IAAIL,GAAS5G,EAEvC,MAAO,CAAC8G,EAAGE,IAIvB,SAAS1B,EAAM4B,EAAQC,GACnB,IAAIC,EAAUD,EAAO,GAAKD,EAAO,GACjC,IAAIG,EAAUF,EAAO,GAAKD,EAAO,GAEjC,MAAO,CACHlH,OAAQgC,KAAKsF,KAAKtF,KAAKa,IAAIuE,EAAS,GAAKpF,KAAKa,IAAIwE,EAAS,IAC3DT,MAAO5E,KAAKuF,MAAMF,EAASD,IAInC,SAAS1C,EAAiBb,GACtB,IAAI2D,EAAMvE,EAAcY,EAAK4D,EAAG,EAAG,OACnC,IAAIzD,EAAaf,EAAcY,EAAKS,EAAG,EAAG,GAC1C,IAAItF,EAAQiE,EAAcY,EAAKjB,EAAG,EAAG,GACrC,IAAI8E,EAAQzE,EAAcY,EAAK3C,EAAG,EAAG,GAErC,OAAOM,EAAMmG,QAAQH,EAAKxD,EAAYhF,EAAO0I,GAAO9H,YAY5D,OATIzB,EAAOgD,EAAa,CAChByG,kBAAmB,CACfxF,wBAAyBA,EACzBuB,mBAAoBA,KAMzB/F,OAAOC,QAxMd,CA0MoB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAa5D,QACTA,OAAO,4BAA4B,CAAE,aAAc,uBACpD,WAEH,IAAUC,EAwmBPC,OAAOC,MAAMC,OAxmBHC,OAAb,EAIQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACX6J,EAAahK,EAAMgK,WACnB3J,EAAaL,EAAMK,WACnBC,EAASR,EAAEQ,OACXqD,EAAQ3D,EAAM2D,MACdsG,EAAOjK,EAAMkK,KACbC,EAAkB,mBAClBC,EAAQ,UACRC,EAAQ,UACR9J,EACA+J,EAAa,UADR,mBAEL7J,EAAgBN,EAAGmD,YAAY7C,cAE/BsJ,EAAoB5J,EAAGmD,YAAYyG,kBAEvC,SAASQ,EAAeC,GAAMA,EAAGD,iBAEjC,SAASE,EAAKC,EAAUC,GACpB,OAAO,WACH,OAAOD,EAASE,MAAMD,EAAKzI,YAInC,IAAI2I,EAAab,EAAW1J,OAAO,CAC/BI,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAEXD,EAAKF,QAAUA,EACfE,EAAKD,QAAUA,EAEfC,EAAKiK,WAAa9K,EAAM+K,WAAW,CAC/BC,WAAYnK,EAAKmK,WAAWP,KAAK5J,GACjCoK,QAASpK,EAAKoK,QAAQR,KAAK5J,GAC3BqK,KAAM,SAAUA,GACZ,OAAOA,IAASpK,KAAKqK,IAAI,WAE7BnD,OAAQpH,EAAQoH,OAChBoD,QAASxK,EAAQwK,QACjBvG,IAAK,KACLwG,IAAK,WACD,OAAOvK,KAAKqK,IAAI,SAAW,MAAQrK,KAAKqK,IAAI,OAAOnJ,MAAM,CAAC6H,MAAOjJ,EAAQkB,aAIjFjB,EAAKyK,eAAiBzK,EAAK0K,OAAOd,KAAK5J,GAEvCA,EAAKiK,WAAWL,KAAK,SAAU5J,EAAKyK,gBAEpCzK,EAAK2K,UAEL3K,EAAKF,QAAQ8K,GAAGnB,EAAYzJ,EAAKoK,QAAQR,KAAK5J,IAE9CmJ,EAAWhJ,GAAGN,KAAKO,KAAKJ,IAG5B6K,UAAW1L,EAAM2L,SACb,2DACA,yBACI,oPACD,YACH,SACA,QAIA,oEACA,0EACI,sLACA,yDACJ,SACA,QAGA,oEACA,kEACI,kSACA,uDACJ,SACA,kEACI,oSACA,uDACJ,SACA,kEACI,kSACA,uDACJ,SACA,yBACA,kEACI,uTACA,uDACJ,SACA,QACA,SACJ9I,QAAS,WACL,IAAIhC,EAAOC,KAGXD,EAAKiK,WAAWc,OAAO,SAAU/K,EAAKyK,gBACtCtL,EAAM4L,OAAO/K,EAAKF,SAClBX,EAAM6C,QAAQhC,EAAKF,SACnBE,EAAKF,QAAQmC,IAAIwH,UACVzJ,EAAKiK,kBACLjK,EAAKyK,gBAEhBE,QAAS,WACL,IAAI3K,EAAOC,KAEXD,EAAKF,QACAkL,OAAOhL,EAAK6K,UAAU,CAAEI,GAAI9L,EAAM8L,GAAIC,KAAM/L,EAAM+L,OAAQnL,QAASC,EAAKD,WACxEoL,SAELhM,EAAMyK,KAAK5J,EAAKF,QAASE,EAAKiK,YAC9BjK,EAAKF,QAAQU,KAAK,QAAUrB,EAAM8L,GAAK,OAAQ,SAEnD3K,MAAO,SAAUS,GACb,IAAIf,EAAOC,KAEXD,EAAKoL,OAAUrK,GAASA,EAAMkF,WAAczG,EAAWgK,GACvDxJ,EAAKqL,oBAAsB,KAC3BrL,EAAKiK,WAAWqB,IAAI,MAAOtL,EAAKoL,eACzBpL,EAAKqL,qBAEhBE,MAAO,WACH,IAAIvL,EAAOC,KAEXD,EAAKqL,oBAAsB,KAC3BrL,EAAKiK,WAAWqB,IAAI,MAAO9L,EAAWgK,WAC/BxJ,EAAKqL,qBAEhBlB,WAAY,WACR,IAAInK,EAAOC,KACPuL,EAAQxL,EAAKiK,WACbwB,EAAgBD,EAAMrE,OACtBuE,EAAQF,EAAMjB,QAAQoB,QAAQF,GAAiB,EAEnDC,EAAQA,GAASF,EAAMjB,QAAQjJ,OAAS,EAAIoK,EAE5C1L,EAAKqL,oBAAsB,KAC3BrL,EAAKiK,WAAWqB,IAAI,SAAUE,EAAMjB,QAAQmB,WACrC1L,EAAKqL,qBAEhBX,OAAQ,SAAUf,GACd,IAAI3J,EAAOC,KAEX,GAAI0J,EAAGiC,MAAMD,QAAQ,QAAU,EAAG,CAC9B3L,EAAKoL,OAASpL,EAAK6L,eAAe7L,EAAKiK,WAAWjG,IAAI9C,aACtDlB,EAAKiK,WAAWqB,IAAI,MAAOtL,EAAKoL,OAAOjK,MAAM,CAAE6H,MAAOhJ,EAAKD,QAAQkB,gBAChE,GAAI0I,EAAGiC,QAAU,MAAO,CAC3B5L,EAAKoL,OAASpL,EAAK6L,eAAelC,EAAGmC,OAAOnC,EAAGiC,QAC/C5L,EAAKiK,WAAWqB,IAAI,MAAOtL,EAAKoL,QAGpC,IAAKpL,EAAKqL,oBACNrL,EAAK8B,QAAQ,SAAU,CAACxB,MAAON,EAAKoL,UAG5CS,eAAgB,SAAU9K,GACtB,IAAIf,EAAOC,KAEX,IACIc,EAAQvB,EAAWuB,IAAUf,EAAKoL,OACpC,MAAOW,GACLhL,EAAQf,EAAKoL,OAGjB,OAAOrK,GAEXqJ,QAAS,SAAUT,GACf,IAAI3J,EAAOC,KACP+L,EAAU/M,EAAE0K,EAAGsC,QAAQC,KAAK,gBAEhC,GAAIvC,EAAGwC,UAAY/C,EAAKgD,OAASnN,EAAE0K,EAAGsC,QAAQI,GAAG,SAAU,CACvD,GAAGL,GAAWA,EAAQM,QAClBN,EAAQM,UAGZtM,EAAK8B,QAAQ,SAAU,CAACxB,MAAON,EAAKoL,SACpCpL,EAAK8B,QAAQ,SAAU,CAACxB,MAAON,EAAKoL,aAK5CmB,EAAgB3M,EAAcH,OAAO,CACrCI,KAAM,SAAUC,EAASC,GACrB,IAAIC,EAAOC,KACPK,EAEJV,EAAcO,GAAGN,KAAKO,KAAKJ,EAAMF,EAASC,GAE1CA,EAAUC,EAAKD,QAAUZ,EAAMqN,WAAW,GAAIxM,EAAKD,QAASA,GAE5D,GAAGA,EAAQ0M,SAASC,aAChB3M,EAAQ0M,SAASjC,IAAMzK,EAAQ0M,SAASC,aAG5C3M,EAAQ0M,SAAW1M,EAAQ0M,SAAWxN,EAAEQ,OAAOO,EAAKD,QAAQ0M,SAAU1M,EAAQ0M,UAAYzM,EAAKD,QAAQ0M,SACvG3M,EAAUE,EAAKF,QAEfE,EAAKuB,QAAUzB,EAAQ6M,SAAS,mBAC3B3B,OAAOhL,EAAK6K,UAAU9K,IAE3BC,EAAK4M,aAAe3N,EAAE,oDAAqDa,GAC3EE,EAAK6M,qBAAuB5N,EAAE,0BAA2Ba,GACzDE,EAAK8M,cAAgB7N,EAAE,kCAAmCa,GAE1DE,EAAK+M,WAEL/M,EAAKgN,WAEL1M,EAAQN,EAAKK,OAEb,GAAGL,EAAK6M,qBAAqBvL,OAAQ,CACjCtB,EAAKiN,YAAc,IAAIjD,EAAWhK,EAAK6M,qBAAsBpN,EAAO,GAAIM,EAAS,CAC7EmN,SAAUjN,KAAKM,aAGnBP,EAAKiN,YAAYrD,KAAK,SAAU,SAASD,GACrC3J,EAAKgB,UAAU2I,EAAGrJ,MAAO,QAG7BN,EAAKiN,YAAYrD,KAAK,SAAU,SAASD,GACrC,IAAI5I,EAAQvB,EAAWmK,EAAGrJ,OAC1BN,EAAK0B,QAAQX,GACbf,EAAK8B,QAAQ,cAAe,CAAExB,MAAON,EAAKM,YAIlDN,EAAKgB,UAAUV,IAEnBP,QAAS,CACLc,KAAO,gBACPI,QAAU,MACVkM,MAAQ,KACRhG,OAAQ,MACRoD,QAAS,CAAC,MAAO,OACjB6C,aAAc,MACdC,KAAM,SACNZ,SAAU,CACNa,cAAe,kBACfC,KAAM,OACNC,KAAM,OACNhD,IAAK,MACLiD,aAAc,gBACdC,IAAK,MACLC,MAAO,QACPC,KAAM,OACN5E,MAAO,UAGf6B,UAAW1L,EAAM2L,SACb,gDACI,yHAEA,wCACI,wDACA,qBACI,0DACJ,QACJ,SACJ,SAEA,mBACA,gDACA,SACA,QAEA,0BACI,sDACA,SACJ,SAEJrJ,UAAW,SAASL,GAChBnB,KAAK4N,WAAWzM,OAAOA,GAEvB,GAAInB,KAAK6N,eACL7N,KAAK6N,eAAe1M,OAAOA,GAG/BnB,KAAKsB,QAAQW,KAAK,SAAS1B,KAAK,YAAaY,GAE7C,IAAI2M,EAAS9N,KAAK+N,SAAS9L,KAAK,iBAEhC,GAAId,EACA2M,EAAOvN,KAAK,WAAYP,KAAKM,gBAE7BwN,EAAOE,WAAW,aAG1BlB,SAAU,WACN,IAAI/M,EAAOC,KACPH,EAAUE,EAAKF,QACfoO,EAAYpO,EAAQoC,KAAK,iBACzBiM,EAAgBrO,EAAQoC,KAAK,mBAEjC,SAASkM,EAAUC,GACfrO,EAAKgB,UAAUhB,EAAKsO,QAAQD,EAAE/N,MAAO,KAAM,KAAM,OAGrD4N,EAAU1N,KAAK,aAAc,kBAC7BR,EAAK6N,WAAaK,EAAUK,YAAY,CACpC9K,IAAK,EACLF,IAAK,IACLiL,cAAe,OACfC,YAAa,MACbC,YAAa,WACbC,MAAOP,EACP1D,OAAQ0D,IACTlC,KAAK,eAER,SAAS0C,EAAcP,GACnBrO,EAAKgB,UAAUhB,EAAKsO,QAAQ,KAAM,KAAM,KAAMD,EAAE/N,MAAQ,MAG5D6N,EAAc3N,KAAK,aAAc,WACjCR,EAAK8N,eAAiBK,EAAcI,YAAY,CAC5C9K,IAAK,EACLF,IAAK,IACLiL,cAAe,OACfC,YAAa,MACbC,YAAa,WACbC,MAAOC,EACPlE,OAAQkE,IACT1C,KAAK,gBAEZc,SAAU,WACN,IAAIhN,EAAOC,KACPH,EAAUE,EAAKF,QACf+O,EAAU/O,EAAQoC,KAAK,oBACvB4M,EAAYD,EAAQ3M,KAAK,iBAAiB1B,KAAK,WAAY,GAAGoK,GAAGnB,EAAYG,EAAK5J,EAAK+O,SAAU/O,IAErG,SAASgP,EAAO5G,EAAGE,GACf,IAAI2G,EAAShP,KAAKgP,OACdC,EAAK9G,EAAI6G,EAAOE,KAAMC,EAAK9G,EAAI2G,EAAOI,IACtCC,EAAKrP,KAAK4F,MAAO0J,EAAKtP,KAAK6F,OAE/BoJ,EAAKA,EAAK,EAAI,EAAIA,EAAKI,EAAKA,EAAKJ,EACjCE,EAAKA,EAAK,EAAI,EAAIA,EAAKG,EAAKA,EAAKH,EACjCpP,EAAKwP,UAAUN,EAAKI,EAAI,EAAIF,EAAKG,GAGrCvP,EAAKyP,WAAa,IAAItQ,EAAMuQ,WAAWb,EAAS,CAC5Cc,OAAQ,KACRC,MAAO,SAASvB,GACZpO,KAAKgP,OAAS9P,EAAM0Q,UAAUhB,GAC9B5O,KAAK4F,MAAQgJ,EAAQhJ,QACrB5F,KAAK6F,OAAS+I,EAAQ/I,SACtBgJ,EAAUgB,QACVd,EAAO5O,KAAKH,KAAMoO,EAAEjG,EAAE2H,SAAU1B,EAAE/F,EAAEyH,WAExCC,MAAO,WACHnB,EAAQlC,SAAS,cACjBmC,EAAUgB,SAEdG,KAAM,SAAS5B,GACXA,EAAE3E,iBACFsF,EAAO5O,KAAKH,KAAMoO,EAAEjG,EAAE2H,SAAU1B,EAAE/F,EAAEyH,WAExCG,IAAK,WACDrB,EAAQsB,YAAY,iBAI5BnQ,EAAKgO,SAAWa,EAChB7O,EAAKoQ,WAAatB,GAEtBuB,mBAAoB,SAAUtP,GAC1B,IAAIf,EAAOC,KAEX,GAAID,EAAKD,QAAQqN,aAAc,CAC3BpN,EAAKD,QAAQqN,aAAenO,EAAEqR,cAActQ,EAAKD,QAAQqN,cAAgB3N,EAAO,GAAIO,EAAKD,QAAQqN,aAAc,CAC3G/I,gBAAiBtD,IAChB,CACDsD,gBAAiBtD,GAGrBf,EAAKuQ,qBAAqBvQ,EAAKe,SAAWvB,EAAW+J,MAG7DvI,UAAW,SAASD,EAAOyP,GACvB,IAAIxQ,EAAOC,KAEX,IAAKc,EAAO,CACRf,EAAKyQ,SACL,OAGJ,IAAKD,GAAmBxQ,EAAKiN,YACzBjN,EAAKiN,YAAY3M,MAAMS,GAG3Bf,EAAKW,eAAeI,GACpBf,EAAK0Q,WAAW3P,GAEhB,GAAGf,EAAK8M,cAAcxL,OAClBtB,EAAKuQ,qBAAqBxP,IAGlC0P,OAAQ,WACJ,IAAIzQ,EAAOC,KAEX,GAAID,EAAKiN,YACLjN,EAAKiN,YAAY1B,QAGrBvL,EAAK2Q,YACL3Q,EAAK4Q,uBAETD,UAAW,WACP,IAAI3Q,EAAOC,KACPc,EAAQvB,EAAWgK,GAEvBxJ,EAAK0Q,WAAW3P,IAEpB2P,WAAY,SAAU3P,GAClB,IAAIf,EAAOC,KACP4Q,EAAO7Q,EAAKgO,SAEhBjN,EAAQA,EAAM+P,QAEd9Q,EAAKoQ,WAAWW,IAAI,CAEhB5B,KAAMpO,EAAM6E,EAAIiL,EAAKhL,QAAU,KAE/BwJ,KAAM,EAAItO,EAAMmD,GAAK2M,EAAK/K,SAAW,OAGzC9F,EAAK4M,aAAamE,IAAIzH,EAAiBxG,EAAMmG,QAAQlI,EAAMgI,EAAG,EAAG,EAAG,GAAG5H,SACvEnB,EAAK6N,WAAWvN,MAAMS,EAAMgI,GAE5B,GAAI/I,EAAK8N,eAAgB,CACrB9N,EAAK8N,eAAevM,QAAQW,KAAK,mBAAmB6O,IAAI,aAAc,wCAA0CjO,EAAMmG,QAAQlI,EAAMgI,EAAG,EAAG,EAAG,GAAG5H,SAChJnB,EAAK8N,eAAexN,MAAM,IAAMS,EAAMyB,KAG9CoO,oBAAqB,WACjB,IAAI5Q,EAAOC,KACP+Q,EAAkBhR,EAAKD,QAAQqN,aAEnC,GAAGpN,EAAK8M,cAAcxL,OAClBtB,EAAKuQ,qBAAqBS,EAAgB3M,gBAAkB7E,EAAWwR,EAAgB3M,iBAAmB7E,EAAW+J,KAG7HgH,qBAAsB,SAAUxP,GAC5B,IAAIf,EAAOC,KACP+Q,EAAkBhR,EAAKD,QAAQqN,aAC/B/I,EAAkB2M,EAAgB3M,gBAAkB7E,EAAWwR,EAAgB3M,iBAAmB7E,EAAW+J,GAC7G+D,EAAgBpE,EAAkBxF,wBAAwBlE,EAAWuB,EAAMG,aAAcmD,GACzF4M,EAAwB9R,EAAM2L,SAAS,iCACX,sGACA,sDACI,uBACI,yCACJ,MACA,qBACI,yCACJ,MACJ,iBAC5BoG,EAAgB/R,EAAM2L,SAAS,QACH,mCACA,yBACA,oHACA,aACA,kHACA,MACA,UAC5BqG,EAAS,GAEbA,GAAUF,EAAsB,CAC5BxE,SAAUzM,EAAKD,QAAQ0M,SACvB2E,MAAO9D,IAGX6D,GAAUD,EAAc,CACpBzE,SAAUzM,EAAKD,QAAQ0M,SACvB2E,MAAO9D,EACP+D,MAAO,IACPC,MAAO,OAGXH,GAAUD,EAAc,CACpBzE,SAAUzM,EAAKD,QAAQ0M,SACvB2E,MAAO9D,EACP+D,MAAO,EACPC,MAAO,QAGXtR,EAAK8M,cAAc5K,KAAK,0BAA0BqP,SAClDvR,EAAK8M,cAAc9B,OAAOmG,GAE1BnR,EAAKwR,mBAAmBnN,IAE5BmN,mBAAoB,SAAUnN,GAC1B,IAAIrE,EAAOC,KACP4O,EAAU7O,EAAKgO,SACfyD,EAAe,uBACfC,EAAU,CAAE7L,MAAOgJ,EAAQhJ,QAASC,OAAQ+I,EAAQ/I,UACpD6L,EAEJ,IAAID,EAAQ7L,QAAU6L,EAAQ5L,OAC1B,OAGJ6L,EAAS1S,EAAEiK,EAAkBjE,mBAAmByM,EAAS1R,EAAKsO,UAAWjK,IAAkBsI,SAAS8E,GAEpG5C,EAAQ3M,KAAK,IAAMuP,GAAcF,SACjC1C,EAAQ7D,OAAO2G,IAEnB5C,SAAU,SAASpF,GACf,IAAI3J,EAAOC,KACX,SAASgQ,EAAK2B,EAAMxK,GAChB,IAAIyK,EAAI7R,EAAKsO,UACbuD,EAAED,IAASxK,GAAKuC,EAAGmI,SAAW,IAAO,KACrC,GAAID,EAAED,GAAQ,EAAKC,EAAED,GAAQ,EAC7B,GAAIC,EAAED,GAAQ,EAAKC,EAAED,GAAQ,EAC7B5R,EAAKgB,UAAU6Q,GACfnI,EAAeC,GAEnB,SAASb,EAAI1B,GACT,IAAIyK,EAAI7R,EAAKsO,UACbuD,EAAE9I,GAAK3B,GAAKuC,EAAGmI,SAAW,EAAI,GAC9B,GAAID,EAAE9I,EAAI,EAAK8I,EAAE9I,EAAI,EACrB,GAAI8I,EAAE9I,EAAI,IAAO8I,EAAE9I,EAAI,IACvB/I,EAAKgB,UAAU6Q,GACfnI,EAAeC,GAEnB,OAAQA,EAAGwC,SACX,KAAK/C,EAAK2I,KACN,GAAIpI,EAAGqI,QACHlJ,GAAK,QAELmH,EAAK,KAAM,GAEf,MACJ,KAAK7G,EAAK6I,MACN,GAAItI,EAAGqI,QACHlJ,EAAI,QAEJmH,EAAK,IAAK,GAEd,MACJ,KAAK7G,EAAK8I,GACNjC,EAAKtG,EAAGqI,SAAWhS,EAAK8N,eAAiB,IAAM,IAAK,GACpD,MACJ,KAAK1E,EAAK+I,KACNlC,EAAKtG,EAAGqI,SAAWhS,EAAK8N,eAAiB,IAAM,KAAM,GACrD,MACJ,KAAK1E,EAAKgD,MACNpM,EAAK0B,QAAQ1B,EAAKsO,WAClB,MACJ,KAAKlF,EAAKgJ,GACNpS,EAAKiN,YAAYnN,QAAQoC,KAAK,SAASJ,QAAQ,SAASuQ,SACxD,MACJ,KAAKjJ,EAAKkJ,IACNtS,EAAKqC,UACL,QAGRyN,MAAO,WACH7P,KAAKmQ,WAAWN,SAEpBxB,QAAS,SAASvF,EAAGnD,EAAG1B,EAAG1B,GACvB,IAAIxC,EAAOC,KACP4Q,EAAO7Q,EAAKgO,SACZnI,EAAQgL,EAAKhL,QACbC,EAAS+K,EAAK/K,SACdyM,EAAiBtS,KAAKmQ,WAAWoC,WAErC,IAAI3M,IAAUC,EACV,OAAO9F,EAAKe,QAAUf,EAAKe,QAAQ+P,QAAUtR,EAAWgK,GAG5D,GAAIT,GAAK,KACLA,EAAI/I,EAAK6N,WAAWvN,QAExB,GAAIsF,GAAK,KACLA,EAAI2M,EAAepD,KAAOtJ,EAE9B,GAAI3B,GAAK,KACLA,EAAI,EAAIqO,EAAelD,IAAMvJ,EAEjC,GAAItD,GAAK,KACLA,EAAIxC,EAAK8N,eAAiB9N,EAAK8N,eAAexN,QAAU,IAAM,EAElE,OAAOwC,EAAMmG,QAAQF,EAAGnD,EAAG1B,EAAG1B,IAElCgN,UAAW,SAAS5J,EAAG1B,GACnB,IAAInD,EAAQd,KAAKqO,QAAQ,KAAM1I,EAAG1B,EAAG,MACrCjE,KAAKe,UAAUD,IAEnBiB,QAAS,WACL/B,KAAKwP,WAAWzN,UAEhB/B,KAAK4N,WAAW7L,UAChB,GAAI/B,KAAK6N,eACL7N,KAAK6N,eAAe9L,UAGxB,GAAG/B,KAAKgN,YACJhN,KAAKgN,YAAYjL,UAGrB/B,KAAK4N,WAAa5N,KAAK6N,eAAiB7N,KAAK+N,SAAW/N,KAAKmQ,WACzDnQ,KAAK2M,aAAe3M,KAAKwS,eAAiBxS,KAAKyS,aAC/CzS,KAAK6M,cAAgB,KAEzBlN,EAAcO,GAAG6B,QAAQ5B,KAAKH,SAQ1C,OAJIX,EAAGqT,OAAOpG,GAIPrN,OAAOC,QA9mBd,CAgnBoB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD,OACrF,SAAa5D,QACTA,OAAO,2BAA2B,CAC9B,cAEL,WAEH,IAAUC,EAgOPC,OAAOC,MAAMC,OAhOHC,OAAb,EAIQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXE,EAAaL,EAAMK,WACnB4J,EAAOjK,EAAMkK,KACbC,EAAkB,mBAClBsJ,EAAoB,mBACpBC,EAAoB,gBACpBC,EAAgB,8IAChBC,EAAa,0+CACbrT,EAAK,mBACLsT,EAAW,QAAUtT,EACrB+J,EAAa,UAAY/J,EACzBuT,EAAU,OAASvT,EACnBE,EAAgBN,EAAGmD,YAAY7C,cAEnC,SAAS8J,EAAeC,GAAMA,EAAGD,iBAEjC,SAASE,EAAKC,EAAUC,GACpB,OAAO,WACH,OAAOD,EAASE,MAAMD,EAAKzI,YAInC,SAAS6R,EAASC,EAAOrT,EAASsT,GAC9BD,EAAQE,MAAMC,UAAUC,MAAMnT,KAAK+S,GACnC,IAAIpL,EAAIoL,EAAM7R,OACd,IAAIkS,EAAML,EAAMxH,QAAQ7L,GACxB,GAAI0T,EAAM,EACN,OAAOJ,EAAQ,EAAID,EAAMpL,EAAI,GAAKoL,EAAM,GAE5CK,GAAOJ,EACP,GAAII,EAAM,EACNA,GAAOzL,OAEPyL,GAAOzL,EAEX,OAAOoL,EAAMK,GAGjB,IAAIC,EAAe7T,EAAcH,OAAO,CACpCI,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KACXL,EAAcO,GAAGN,KAAKO,KAAKJ,EAAMF,EAASC,GAC1CD,EAAUE,EAAKuB,QAAUvB,EAAKF,QAC9BC,EAAUC,EAAKD,QAEf,IAAI2T,EAAS3T,EAAQ4T,SAAW,QAEhC,GAAID,GAAU,UAAW,CACrBA,EAASX,EACThT,EAAQ6T,QAAU,QACf,GAAIF,GAAU,QACjBA,EAASZ,EAGb,UAAWY,GAAU,SACjBA,EAASA,EAAOG,MAAM,KAG1B,GAAIR,MAAMS,QAAQJ,GACdA,EAASzU,EAAEgF,IAAIyP,EAAQ,SAAStL,GAAK,OAAO5I,EAAW4I,KAG3DpI,EAAK+T,aAAehU,EAAQG,QAAUf,EAAM+L,QAAU,YAEtDpL,EAAQ6M,SAAS,kBACZnM,KAAK,OAAQ,QACbA,KAAK,gBAAiB,QACtBwK,OAAO/L,EAAEe,EAAK6K,UAAU,CACrB6I,OAAWA,EACXE,QAAW7T,EAAQ6T,QACnBI,SAAWjU,EAAQiU,SACnB1T,MAAWN,EAAKK,OAChB4T,GAAWlU,EAAQG,WAEtB0K,GAAGoI,EAAU,uBAAwB,SAASrJ,GAC3C3J,EAAK0B,QAAQiI,EAAGuK,iBAEnB1T,KAAK,WAAYR,EAAKO,WACtBqK,GAAGnB,EAAYG,EAAK5J,EAAK+O,SAAU/O,IACnC4K,GAAGqI,EAAS,WACTjT,EAAKuB,QAAQW,KAAK,wBAAwBiO,YAAY0C,KAG9D,IAAImB,EAAWjU,EAAQiU,SAAUnO,EAAOC,EACxC,GAAIkO,EAAU,CACV,GAAI,gBAAgBG,YAAYH,GAC5BnO,EAAQC,EAASsO,WAAWJ,QACzB,UAAWA,GAAY,SAAU,CACpCnO,EAAQuO,WAAWJ,EAASnO,OAC5BC,EAASsO,WAAWJ,EAASlO,aAE7B,MAAM,IAAIuO,MAAM,iDAEpBvU,EAAQoC,KAAK,wBAAwB6O,IAAI,CAAElL,MAAOA,EAAOC,OAAQA,MAGzEgK,MAAO,WACH,GAAI7P,KAAKsB,UAAYtB,KAAKsB,QAAQ8K,GAAG,uBACjCpM,KAAKsB,QAAQO,QAAQ,UAG7B/B,QAAS,CACLc,KAAM,eACN+S,QAAS,GACTI,SAAU,KACVL,QAAS,SAEblS,UAAW,SAASL,GAChB,GAAIA,EACAnB,KAAKsB,QAAQf,KAAK,WAAYP,KAAKM,gBAEnCN,KAAKsB,QAAQ0M,WAAW,aAGhCc,SAAU,SAASV,GACf,IAAIiG,EACA/S,EAAUtB,KAAKsB,QACfgT,EAAQhT,EAAQW,KAAK,wBACrBwF,EAAU6M,EAAMC,OAAO,IAAM3B,GAAmBvI,IAAI,IAAMiK,EAAMC,OAAO,IAAM5B,GAAmBtI,IAAI,GACpG6B,EAAUkC,EAAElC,QAEhB,GAAIA,GAAW/C,EAAK2I,KAChBuC,EAAWpB,EAASqB,EAAO7M,GAAU,QAClC,GAAIyE,GAAW/C,EAAK6I,MACvBqC,EAAWpB,EAASqB,EAAO7M,EAAS,QACjC,GAAIyE,GAAW/C,EAAK+I,KACvBmC,EAAWpB,EAASqB,EAAO7M,EAASzH,KAAKF,QAAQ6T,cAC9C,GAAIzH,GAAW/C,EAAK8I,GACvBoC,EAAWpB,EAASqB,EAAO7M,GAAUzH,KAAKF,QAAQ6T,cAC/C,GAAIzH,GAAW/C,EAAKgD,MAAO,CAC9B1C,EAAe2E,GACf,GAAI3G,EAAS,CACTzH,KAAKyB,QAAQgG,GACbzH,KAAK6B,QAAQ,cAAe,CAAExB,MAAOL,KAAKK,UAC1C,aAED,GAAI6L,GAAW/C,EAAKkJ,IACvBrS,KAAKoC,UAGT,GAAIiS,EAAU,CACV5K,EAAe2E,GAEfpO,KAAKwU,SAASH,GAEd,IACI,IAAIvT,EAAQvB,EAAW8U,EAASvD,IAAIzH,IACpCrJ,KAAKU,eAAeI,GACtB,MAAM2T,OAGhBhT,QAAS,SAASiT,GACd,IAAI3U,EAAOC,KACPsU,EAAQvU,EAAKuB,QAAQW,KAAK,wBAE9ByS,EAAO1V,EAAE0V,GAET/U,EAAcO,GAAGuB,QAAQtB,KAAKJ,EAAM2U,EAAK5D,IAAIzH,IAE7CiL,EAAMpE,YAAYyC,GAClB+B,EAAKhI,SAASiG,IAElB6B,SAAU,SAASE,GACf1U,KAAKsB,QAAQW,KAAK,IAAM2Q,GACnB1C,YAAY0C,GACZrS,KAAK,gBAAiB,OACtByN,WAAW,MAEhBhP,EAAE0V,GACGhI,SAASkG,GACTrS,KAAK,gBAAiB,MACtBA,KAAK,KAAMP,KAAK8T,aAErB9T,KAAKH,QACAmO,WAAW,yBACXzN,KAAK,wBAAyBP,KAAK8T,cAE5C/S,UAAW,SAASD,GAChB,IAAI4T,EAAO,KACPJ,EAAQtU,KAAKsB,QAAQW,KAAK,wBAE9BjC,KAAKsB,QAAQW,KAAK,wBAAwB0S,KAAK,WAC3C,IAAI/C,EAAIrS,EAAWP,EAAEgB,MAAM8Q,IAAIzH,IAE/B,GAAIuI,GAAKA,EAAEhQ,OAAOd,GAAQ,CACtB4T,EAAO1U,KAEP,OAAO,SAIfA,KAAKwU,SAASE,GAEdJ,EAAMpE,YAAYyC,GAElB,GAAG+B,EACC1V,EAAE0V,GAAMhI,SAASiG,IAGzB/H,UAAW1L,EAAM2L,SACb,0CACA,oFACE,gDACE,8CACA,8DACA,wFACI,8CACA,iDACA,6CAA+C8H,EAAoB,aACnE,4CACN,QACF,yBAUZ,OALItT,EAAGqT,OAAOc,GAKPvU,OAAOC,QAxOd,CA0OoB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAa5D,QACTA,OAAO,8BAA8B,CACjC,kBACA,iBACA,qBAEL,WAEH,IAAUC,EAgUPC,OAAOC,MAAMC,OAhUHC,OAAb,EAIQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXuV,EAAO1V,EAAM0V,KACb/R,EAAQ3D,EAAM2D,MACdrD,EAASR,EAAEQ,OACX6J,EAAkB,mBAClBwL,EAkBApV,EAAK,mBACLsT,EAAW,QAAUtT,EACrB+J,EAAa,UAAY/J,EACzBE,EAAgBN,EAAGmD,YAAY7C,cAC/BwJ,EAAOjK,EAAMkK,KAEb0L,EAAW,aACXC,EAAW,aACXC,EAAe,wBAEfC,EAAQ,CACJC,SAAY7V,EAAGiN,cACfoH,QAAWrU,EAAGmU,cAGtB,SAAS7J,EAAKC,EAAUC,GACpB,OAAO,WACH,OAAOD,EAASE,MAAMD,EAAKzI,YAInC,IAAI+T,EAAkBxV,EAAcH,OAAO,CACvCI,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAEX,GAAIF,GAAWA,EAAQsV,aAAe,MAClCtV,EAAQW,YAAc,MAG1Bd,EAAcO,GAAGN,KAAKO,KAAKJ,EAAMF,EAASC,GAC1CA,EAAUC,EAAKD,QAAUZ,EAAMqN,WAAW,GAAIxM,EAAKD,QAASA,GAC5DD,EAAUE,EAAKF,QAEfE,EAAKuB,QAAUzB,EAAQ6M,SAAS,mCAC3B3B,OAAOhL,EAAK6K,aAEjB7K,EAAKyS,eAAiBxT,EAAE,+BAAgCa,GACxDE,EAAKsV,eAAiBrW,EAAE,+BAAgCa,GACxDE,EAAKuV,gBAAkBtW,EAAE,uBAAwBa,GAEjDA,EAAQoC,KAAK,uBAAyBlC,EAAKD,QAAQyV,KAAO,KAAK7I,SAASqI,GAExE,IAAI1U,EAAQN,EAAKe,QAEjBf,EAAKyV,YAAY1V,EAAQyV,MAEzBxV,EAAK0V,eAEL,GAAIpV,EAAO,CACPN,EAAKgB,UAAUV,GACfN,EAAKsV,eAAeK,SAASV,GAAclE,IAAIzH,EAAiBhJ,EAAMsV,aACtE5V,EAAKyS,eAAekD,SAASV,GAAclE,IAAIzH,EAAiBhJ,EAAMsV,iBACnE,CACH5V,EAAKyS,eAAe9F,SAASoI,GAC7B/U,EAAKsV,eAAe3I,SAASoI,GAGjCjV,EACK8K,GAAGnB,EAAYG,EAAK5J,EAAK+O,SAAU/O,IACnC4K,GAAGoI,EAAU,uBAAwB,WAClChT,EAAK6V,YAAc,KACnB7V,EAAKgB,UAAU,MACfhB,EAAK8V,MAAMxV,MAAM,QAEpBsK,GAAGoI,EAAU,uBAAwB,WAClC,GAAGhT,EAAK6V,YACJ7V,EAAK0B,QAAQ,WAEb1B,EAAK0B,QAAQ1B,EAAK8V,MAAM/U,WAG/B6J,GAAGoI,EAAU,wBAAyB,kBAC5BhT,EAAK6V,YACZ7V,EAAKgB,UAAUhB,EAAKe,SACpBf,EAAKqC,YAERuI,GAAGoI,EAAU,uBAAwB,SAASrJ,GAC3C,IAAIoM,EAAc9W,EAAE0K,EAAGsC,QAAQ+J,QAAQ,eAEvC,GAAGD,EAAW1J,GAAG,IAAM2I,GACnB,OAGJlV,EAAQoC,KAAK,wBAAwBiO,YAAY6E,GACjDe,EAAWpJ,SAASqI,GACpBhV,EAAKyV,YAAYM,EAAW7J,KAAK,YAG7ClK,QAAS,WACL,IAAIhC,EAAOC,KAEXL,EAAcO,GAAG6B,QAAQ5B,KAAKH,MAE9B,GAAID,EAAK8V,MAAO,CACZ9V,EAAK8V,MAAM9T,UACXhC,EAAKuV,gBAAgBU,QAGzBjW,EAAKF,QAAQmC,IAAIvC,GAEjBM,EAAKyS,eAAiBzS,EAAKsV,eAAiBtV,EAAKuV,gBAAkBvV,EAAK8V,MAAQ,MAEpF/V,QAAS,CACLc,KAAM,kBACNI,QAAS,MACTiV,QAAS,MACT/I,MAAO,KACPgJ,QAAS,KACTC,YAAa,MACbjP,OAAQ,MACRoD,QAAS,CAAC,MAAO,OACjBiL,KAAM,WACNa,MAAO,CAAC,WAAY,WACpB1C,QAAS,KACT0B,WAAa,KACbhR,gBAAiB,KACjBuP,QAAS,GACTI,SAAU,GACVvH,SAxIO,CACP1C,MAAS,QACTuM,OAAS,SACTC,QAAS,WACTC,WAAY,cACZ9J,aAAc,KACdY,cAAe,kBACfC,KAAM,OACNC,KAAM,OACNhD,IAAK,MACLiD,aAAc,gBACdC,IAAK,MACLC,MAAO,QACPC,KAAM,OACN5E,MAAO,QACPmM,SAAU,gBACVxB,QAAS,gBAyHTtG,KAAM,UAEVgD,mBAAoB,SAAUtP,GAC1B,IAAIf,EAAOC,KAEX,GAAGD,EAAK8V,OAAS9V,EAAK8V,MAAMzF,mBACxBrQ,EAAK8V,MAAMzF,mBAAmBtP,IAGtCW,QAAS,SAASpB,GACd,IAAIN,EAAOC,KAEXL,EAAcO,GAAGuB,QAAQtB,KAAKJ,EAAMM,GAEpCN,EAAKyW,qBAAqBnW,IAE9BmW,qBAAsB,SAAUnW,GAC5B,IAAIN,EAAOC,KAEX,GAAIK,EAAO,CACPN,EAAKsV,eAAenF,YAAY4E,GAChC/U,EAAKsV,eAAeK,SAASV,GAAclE,IAAIzH,EAAiBhJ,EAAMsV,iBACnE,CACH5V,EAAKsV,eAAe3I,SAASoI,GAC7B/U,EAAKsV,eAAeK,SAASV,GAAclE,IAAIzH,EAAiB,MAGxEmM,YAAa,SAAUpL,GACnB,IAAIrK,EAAOC,KACPF,EAAUd,EAAEQ,OAAO,GAAIO,EAAKD,SAC5B2W,EAAYxB,EAAM7K,GAClBsM,EAAeC,EAEnB,GAAG5W,EAAK8V,OAAS9V,EAAK8V,MAAM7I,YACxBjN,EAAKD,QAAQoH,OAASnH,EAAK8V,MAAM7I,YAAYhD,WAAW9C,OAG5DnH,EAAKD,QAAQyV,KAAOnL,SAEbtK,EAAQc,YACRd,EAAQ2K,cACR3K,EAAQsS,cACRtS,EAAQuW,cACRvW,EAAQW,YAEf,GAAIV,EAAK8V,MAAO,CACZa,EAAgB3W,EAAK8V,MAAM/U,QAC3Bf,EAAK8V,MAAM9T,UACXhC,EAAKuV,gBAAgBU,QAGzB,GAAIU,EAAe,CACfA,EAAgBA,EAAc7F,QAC9B8F,EAAW9T,EAAMmG,QAAQjJ,EAAK6W,YAAc,EAAGF,EAAc/Q,EAAG+Q,EAAczS,EAAGyS,EAAcnU,GAC/FxC,EAAK6W,WAAaF,EAAc7F,QAAQ/H,EACxC4N,EAAgBA,EAAc9U,OAAO+U,GAAYA,EAAWD,EAGhE,GAAID,EAAU,CACV1W,EAAK8V,MAAQ,IAAIZ,EAAM7K,GAAMpL,EAAE,eAAe6X,SAAS9W,EAAKuV,iBAAkBxV,GAC9EC,EAAK8V,MAAMxV,MAAMqW,GAEjB3W,EAAK8V,MAAMlM,KAAK,SAAU,SAAUD,UACzB3J,EAAK6V,YACZ7V,EAAKgB,UAAU2I,EAAGmC,OAAO/K,QAAS,QAGtCf,EAAK8V,MAAMlM,KAAK,cAAe,SAAUD,UAC9B3J,EAAK6V,YACZ7V,EAAK0B,QAAQiI,EAAGmC,OAAO/K,aAInCU,UAAW,SAASL,GAChB,IAAIpB,EAAOC,KAEX,GAAID,EAAK8V,MACL9V,EAAK8V,MAAMrU,UAAUL,IAG7B0O,MAAO,WACH,IAAI9P,EAAOC,KAEX,GAAID,EAAK8V,MACL9V,EAAK8V,MAAMhG,SAGnB9O,UAAW,SAASD,EAAOgW,GACvB,IAAI/W,EAAOC,KAEX,GAAIc,GAASA,EAAM6U,UAAW,CAC1B5V,EAAKyS,eAAetC,YAAY4E,GAChC/U,EAAKyS,eAAekD,SAASV,GAAclE,IAAIzH,EAAiBvI,EAAM6U,iBACnE,CACH5V,EAAKyS,eAAe9F,SAASoI,GAC7B/U,EAAKyS,eAAekD,SAASV,GAAclE,IAAIzH,EAAiB,IAGpEtJ,EAAKW,eAAeI,GAEpB,GAAIf,EAAKD,QAAQsV,WACbrV,EAAKyW,qBAAqB1V,GAG9B,IAAIgW,EACA/W,EAAK8V,MAAMxV,MAAMS,IAGzB2U,aAAc,WACV,IAAI1V,EAAOC,KACPsB,EAAUvB,EAAKuB,QAAQ,GACvByV,EAAeC,SAAUjX,EAAKD,QAAQiU,SAASnO,OAAS7F,EAAKD,QAAQiU,SAAW,IAChFkD,EAAgBD,SAAUjX,EAAKD,QAAQiU,SAASnO,OAAS7F,EAAKD,QAAQiU,SAAW,IACjFmD,EAAiBnX,EAAKD,QAAQ6T,QAElCrS,EAAQ6V,MAAMC,YAAY,gCAAiCF,GAC3D5V,EAAQ6V,MAAMC,YAAY,8BAA+BL,EAAe,MACxEzV,EAAQ6V,MAAMC,YAAY,+BAAgCH,EAAgB,OAE9EnI,SAAU,SAASV,GAEf,GAAIA,EAAElC,SAAW/C,EAAKkJ,IAClBrS,KAAKoC,WAGbwI,UAAW,WACP,IAAI7K,EAAOC,KACPF,EAAUC,EAAKD,QACfuX,EAAgB7X,EAAO,GAAIM,EAAS,CAChCwX,SAAU,OACVC,WAAY,OACZC,QAAS,WAGjB,OAAOtY,EAAM2L,SACL,8CACI,uCACA,sDACI,mDACI+J,EAAK6C,aAAa,uEAAwEjY,EAAO,CAAEkY,KAAM,gBAAkBL,IAC3HzC,EAAK6C,aAAa,qEAAsEjY,EAAO,CAAEkY,KAAM,WAAaL,IACxH,SACJ,SACA,QACA,+BACA,sDACI,yBACAzC,EAAK6C,aAAa,+EAAgFjY,EAAO,CAAEkY,KAAM,eAAiBL,IAClI,QACA,qBACA,+CACI,6DACI,6CACJ,UACA,6DACI,6CACJ,UACJ,SACA,QACJ,SACJ,SACA,mDACA,qBACA,8EACIzC,EAAK6C,aAAa,gGAAiGjY,EAAO,GAAI6X,EAAe,CAAEC,SAAU,WACzJ1C,EAAK6C,aAAa,6FAA8FjY,EAAO,GAAI6X,EAAe,CAAEC,SAAU,QAASC,WAAY,aAC/K,SACA,QAjCDrY,CAkCDY,MAOlB,OAHIT,EAAGqT,OAAOyC,GAGPlW,OAAOC,QA1Ud,CA4UoB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD,OAErF,SAAa5D,QACTA,OAAO,oBAAoB,CACvB,aACA,cACA,cACA,eACA,mBACA,eACA,eACA,gBACA,uBACA,oBAEA,8BACA,iCAEL,WAEH,IAAI4Y,EAAW,CACX3D,GAAI,cACJpT,KAAM,cACNgX,SAAU,MACVC,YAAa,0BACbC,QAAS,CAAE,OAAQ,QAAS,QAAS,SAAU,aAAc,SAAU,SAAU,UAAW,iBAAkB,gBAGxG9Y,EAoZPC,OAAOC,MAAMC,OApZHC,OAAb,EAIQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMG,GACXC,EAASD,EAAGC,OACZuD,EAAQ3D,EAAM2D,MACdtD,EAAaL,EAAMK,WACnB4J,EAAOjK,EAAMkK,KACbC,EAAkB,mBAClBwL,EAAW,CACP/K,MAAS,QACTuM,OAAS,SACTC,QAAS,WACTC,WAAY,cACZ9J,aAAc,KACdY,cAAe,kBACfC,KAAM,OACNC,KAAM,OACNhD,IAAK,MACLiD,aAAc,gBACdC,IAAK,MACLC,MAAO,QACPC,KAAM,OACN5E,MAAO,QACPmM,SAAU,gBACVxB,QAAS,gBAEbjU,EAAK,mBACLsT,EAAW,QAAUtT,EACrB+J,EAAa,UAAY/J,EACzBE,EAAgBN,EAAGmD,YAAY7C,cAC/BwV,EAAkB9V,EAAG8V,gBAIrB4C,EAAczY,EAAOE,OAAO,CAC5BI,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KAGX,GAAGF,GAAWA,EAAQ4T,UAAY5T,EAAQyV,KACtCzV,EAAQyV,KAAM,UAGlBjW,EAAOY,GAAGN,KAAKO,KAAKJ,EAAMF,EAASC,GACnCA,EAAUC,EAAKD,QAAUZ,EAAMqN,WAAW,GAAIxM,EAAKD,QAASA,GAC5DD,EAAUE,EAAKF,QAEf,IAAIQ,EAAQR,EAAQU,KAAK,UAAYV,EAAQmY,MAC7C,GAAI3X,EACAA,EAAQd,EAAWc,EAAO,WAE1BA,EAAQd,EAAWO,EAAQO,MAAO,MAEtCN,EAAKK,OAASN,EAAQO,MAAQA,EAE9B,IAAI4X,EAAc/Y,EAAM0V,KAAK6C,aAAa,+FAAgGzY,EAAEQ,OAAO,GAAIO,EAAKD,QAAS,CACjK4X,KAAM,aAGV,IAAIQ,EAAUnY,EAAKoY,cAAgBpY,EAAKuB,QAAUtC,EAAEe,EAAK6K,UAAU5L,EAAEQ,OAAO,GAAIO,EAAKD,QAAS,CAC1FmY,YAAaA,MAGjBlY,EAAKqY,mBACLvY,EAAQwY,OAAOC,MAAMJ,GAErB,GAAIrY,EAAQuM,GAAG,SAAU,CACrBvM,EAAQgX,SAASqB,GAOjB,IAAIK,EAAQ1Y,EAAQkW,QAAQ,SAC5B,IAAI/B,EAAKnU,EAAQU,KAAK,MACtB,GAAIyT,EACAuE,EAAQA,EAAMC,IAAI,cAAgBxE,EAAK,MAE3CuE,EAAM5N,GAAG,QAAS,SAASjB,GACvB3J,EAAK0Y,OACL/O,EAAGD,mBAIX1J,EAAKO,UAAYT,EAAQU,KAAK,aAAe,EAE7CR,EAAKoB,QAAQtB,EAAQU,KAAK,aAE1B,IAAImY,EAAY7Y,EAAQU,KAAK,aAC7B,GAAImY,EAAW,CACX7Y,EAAQU,KAAK,YAAa,MAC1B2X,EAAQ3X,KAAK,YAAamY,GAG9B3Y,EAAK4J,KAAK,WAAY,SAASD,GAC3B,IAAKA,EAAGiP,qBACJ5Y,EAAK6Y,WAIb7Y,EAAKgB,UAAUV,IAEnB0B,QAAS,WACL/B,KAAKsB,QAAQU,IAAIvC,GAAIwC,KAAK,KAAKD,IAAIvC,GACnC,GAAIO,KAAK6Y,OAAQ,CACb7Y,KAAK8Y,UAAU/W,UACf/B,KAAK6Y,OAAO9W,UAEhB/B,KAAK8Y,UAAY9Y,KAAK6Y,OAAS7Y,KAAKsB,QAAU,KAC9ChC,EAAOY,GAAG6B,QAAQ5B,KAAKH,OAE3BmB,OAAQ,SAASA,GACb,IAAIpB,EAAOC,KACPsB,EAAUvB,EAAKuB,QACfyX,EAAQzX,EAAQW,KAAK,mBAEzB,GAAIb,UAAUC,SAAW,EACrBF,EAAS,KAGbpB,EAAKF,QAAQU,KAAK,YAAaY,GAC/BG,EAAQf,KAAK,iBAAkBY,GAE/B4X,EAAM/W,IAAIvC,GAAIkL,GAAG,YAAclL,EAAIgK,GAEnCnI,EAAQoL,SAAS,cACZsB,WAAW,YACXwK,IAAI,IAAKlX,GAASU,IAAIvC,GAE3B,GAAI0B,EACAG,EAAQ4O,YAAY,cACf3P,KAAK,WAAYR,EAAKO,WACtBqK,GAAG,aAAelL,EAAI,WAAc6B,EAAQoL,SAAS,aACrD/B,GAAG,aAAelL,EAAI,WAAc6B,EAAQ4O,YAAY,aACxDvF,GAAG,QAAUlL,EAAI,WAAc6B,EAAQoL,SAAS,aAChD/B,GAAG,OAASlL,EAAI,WAAc6B,EAAQ4O,YAAY,aAClDvF,GAAGnB,EAAYG,EAAK5J,EAAK+O,SAAU/O,IACnC4K,GAAGoI,EAAU,kBAAmBpJ,EAAK5J,EAAK6Y,OAAQ7Y,IAClD4K,GAAGoI,EAAU,iBAAkB,WAC5BhT,EAAK8B,QAAQ,mBAGrB9B,EAAKiZ,SAIbpO,UAAW1L,EAAM2L,SACb,0FACI,gCACI,0FACI,sBACA,kEACA,QACA,6CACJ,UACJ,WACA,mBACJ,WAGJ/K,QAAS,CACLc,KAAM,cACNqY,cAAe,MACf9L,aAAc,MACduG,QAAS,KACTC,QAAS,GACTuF,SAAU,KACV7Y,MAAO,KACPmM,SAAUqI,EACV7T,QAAS,MACTiV,QAAS,KACTC,QAAS,KACTC,YAAa,MACbjJ,MAAa,KACbhG,OAAQ,MACRoD,QAAS,CAAC,MAAO,OACjBiL,KAAM,WACNa,MAAO,CAAC,WAAY,WACpBhS,gBAAiB,KACjB+U,aAAc,0CACd/L,KAAM,SACNoK,QAAS,SACTF,SAAU,SAGdzW,OAAQ,CAAE,WAAY,SAAU,SAAU,OAAQ,SAElD4X,KAAM,WACF,IAAKzY,KAAKH,QAAQ8R,KAAK,YACnB3R,KAAKoZ,YAAYX,QAGzBO,MAAO,WACH,IAAIK,EAAcrZ,KAAK8Y,WAAa9Y,KAAK8Y,UAAUhZ,SAAY,GAC/DuZ,EAAWC,SAAW,KACtBtZ,KAAKoZ,YAAYJ,eAEVK,EAAWC,UAEtBV,OAAQ,WACJ,IAAK5Y,KAAKH,QAAQ8R,KAAK,YACnB3R,KAAKoZ,YAAYR,UAGzBxI,mBAAoB,SAAUtP,GAC1B,IAAIf,EAAOC,KACPuZ,EAAU,WAAcxZ,EAAK+Y,UAAU1I,mBAAmBtP,IAE9Df,EAAKD,QAAQqN,aAAa/I,gBAAkBtD,EAE5C,GAAGf,EAAK+Y,YAAc/Y,EAAK8Y,QAAU9Y,EAAK8Y,OAAOW,WAC7CzZ,EAAK+Y,UAAU1I,mBAAmBtP,QAC/B,GAAIf,EAAK8Y,OAAQ,CACpB9Y,EAAK8Y,OAAO/N,OAAO,WAAYyO,GAC/BxZ,EAAK8Y,OAAOlP,KAAK,WAAY4P,KAGrCE,aAAc,WACV,OAAOzZ,KAAKsB,QAAQW,KAAK,qBAE7BnB,MAAOnB,EAAcO,GAAGY,MACxBT,MAAOV,EAAcO,GAAGG,MACxBoB,QAAS9B,EAAcO,GAAGuB,QAC1Bf,eAAgBf,EAAcO,GAAGQ,eACjCgZ,kBAAmB,WACf,IAAIC,EAAK3Z,KAAKH,QAAQ,GACtB,MAAO,WAAaqU,KAAKyF,EAAGC,UAAY,WAAa1F,KAAKyF,EAAGrX,OAGjEvB,UAAW,SAASV,EAAOwZ,GACvB,IAAIC,EAAiB,GAErB,GAAIzZ,EAAO,CACP,GAAIL,KAAK0Z,qBAAuBrZ,EAAMkC,GAAK,EAGvCuX,EAAiBzZ,EAAMa,aAEvB4Y,EAAiBzZ,EAAMY,YAG3BjB,KAAKH,QAAQmY,IAAI8B,GAGrB,IAAK9Z,KAAK+Z,cACN/Z,KAAK+Z,cAAgB7a,EAAM2L,SAAS7K,KAAKF,QAAQqZ,cAGrDnZ,KAAKsB,QAAQf,KAAK,aAAcP,KAAK+Z,cAAcD,IAEnD9Z,KAAKU,eAAeL,GACpBL,KAAKsB,QAAQW,KAAK,yBAAyB6O,IACvCzH,EACAhJ,EAAQA,EAAMsV,YAAc,IAGhC3V,KAAKyZ,eAAelY,YAAY,cAAeuY,GAE/C,GAAI9Z,KAAK8Y,YAAce,EACnB7Z,KAAK8Y,UAAUzY,MAAMA,IAG7ByO,SAAU,SAASpF,GACf,IAAIsQ,EAAMtQ,EAAGwC,QACb,GAAIlM,KAAKoZ,YAAYI,UAAW,CAC5B,GAAIQ,GAAO7Q,EAAKkJ,IACZrS,KAAK8Y,UAAU1W,eAEfpC,KAAK8Y,UAAUhK,SAASpF,GAE5BD,EAAeC,QAEd,GAAIsQ,GAAO7Q,EAAKgD,OAAS6N,GAAO7Q,EAAK+I,KAAM,CAC5ClS,KAAKyY,OACLhP,EAAeC,KAGvB0P,UAAW,WACP,IAAIrZ,EAAOC,KAAMia,EAAQla,EAAK8Y,OAE9B,IAAKoB,EAAO,CACR,IAAIna,EAAUC,EAAKD,QACnB,IAAIoa,EAEJA,EAAe/E,EAEfrV,EAAQsV,WAAatV,EAAQmW,UAAY,YAClCnW,EAAQsS,cACRtS,EAAQ2K,cACR3K,EAAQuW,OAEf,IAAIrC,EAAK9U,EAAM+L,OAEf,IAAIkP,EAAkBnb,EAAE,YAAcgV,EAAI,wCAAwC6C,SAASuD,SAASC,MACpG,IAAI5D,EAAW1W,EAAK+Y,UAAY,IAAIoB,EAAalb,EAAE,eAAe6X,SAASsD,GAAkBra,GAE7FC,EAAKuB,QAAQf,KAAK,YAAayT,GAE/BjU,EAAK8Y,OAASoB,EAAQE,EAAgBG,WAAW,CAC7CC,OAAQxa,EAAKuB,QACbkZ,WAAY,CAAE5U,MAAO,EAAGC,OAAQ,KACjCoG,KAAK,cAERwK,EAAS9M,KAAK,CACVyI,OAAQ,SAAS1I,GACb3J,EAAKgB,UAAUxB,EAAWmK,EAAGrJ,OAAQ,OAEzCoK,OAAQ,SAASf,GACb,GAAI3J,EAAKD,QAAQmW,QACblW,EAAK0B,QAAQgV,EAAS3V,cAEtBf,EAAKgB,UAAUxB,EAAWmK,EAAGrJ,OAAQ,MAGzC,GAAIN,EAAKD,QAAQmW,SAAYlW,EAAK+Y,UAAUhZ,QAAQyV,OAAS,WAAaxV,EAAKD,QAAQmZ,cACnFlZ,EAAKiZ,SAGb3C,OAAQ,WACJtW,EAAKiZ,WAGbiB,EAAMtQ,KAAK,CACPqP,MAAO,SAAStP,GACZ,GAAI3J,EAAK8B,QAAQ,SAAU,CACvB6H,EAAGD,iBACH,OAEJ1J,EAAKuB,QAAQ4O,YAAY,WAEzB,IAAIpP,EAAQ2V,EAAS3V,QAErB,IAAKf,EAAKD,QAAQmW,QACdlW,EAAK0B,QAAQX,QAEbf,EAAK0B,QAAQ1B,EAAKe,SAGtBA,EAAQf,EAAKe,QAEb,GAAIA,GAASA,EAAMgI,EACf/I,EAAK6W,WAAa9V,EAAMgI,EAG5B,IAAI2R,EAAiBC,OACjBA,iBAAiBC,YACjB3b,EAAE0b,MAAM1O,QAAQ4O,QAAQ,wBAAwBvZ,SAAW,EAE/D,IAAKoZ,EACDI,WAAW,WACP,GAAI9a,EAAKuB,UAAYvB,EAAKuB,QAAQ8K,GAAG,uBACjCrM,EAAKuB,QAAQO,QAAQ,UAE1B,IAGX4W,KAAM,SAAS/O,GACX,GAAI3J,EAAK8B,QAAQ,QACb6H,EAAGD,sBAEH1J,EAAKuB,QAAQoL,SAAS,YAG9BoO,SAAU,WACN,IAAInE,EACAD,EAAgB3W,EAAKe,QAEzB,GAAI4V,EAAe,CACfA,EAAgBA,EAAc7F,QAC9B8F,EAAW9T,EAAMmG,QAAQjJ,EAAK6W,YAAc,EAAGF,EAAc/Q,EAAG+Q,EAAczS,EAAGyS,EAAcnU,GAC/FmU,EAAgBA,EAAc9U,OAAO+U,GAAYA,EAAWD,EAGhED,EAASpW,MAAMqW,GACfD,EAAS5G,QACT9P,EAAKuB,QAAQoL,SAAS,cAIlC,OAAOuN,KAIf,SAASxQ,EAAeC,GAAMA,EAAGD,iBAEjC,SAASE,EAAKC,EAAUC,GACpB,OAAO,WACH,OAAOD,EAASE,MAAMD,EAAKzI,YAevC,OAXI/B,EAAGqT,OAAOqF,GAEV7Y,EAAM6b,cAAcC,eAAe,cAAe,aAElD9b,EAAM6b,cAAcE,eAAe,cAAe,CAAC,CAC/CtJ,KAAM,UACNuJ,OAAQhc,EAAM6b,cAAcI,cAAcC,OAAO,CAAC,CAAC,OAAQ,aAK5Dnc,OAAOC,QAhbd,CAkboB,mBAAVH,QAAwBA,OAAO0D,IAAM1D,OAAS,SAAS2D,EAAIC,EAAIC,IAAMA,GAAMD"}