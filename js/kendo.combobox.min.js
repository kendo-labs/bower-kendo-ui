/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.list.js"),require("kendo.mobile.scroller.js"),require("kendo.virtuallist.js"),require("kendo.html.button.js"),require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.button.min","kendo.core.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendocombobox=e.kendocombobox||{},e.kendocombobox.js={}))}(this,(function(e){let t=kendo.jQuery;function i({widget:e,wrapper:i,options:n,prefixInsertBefore:o,suffixInsertAfter:a}){var s,l,r=n.prefixOptions,u=n.suffixOptions,p=r.template||r.icon,c=u.template||u.icon,d=(a=a||o,n.layoutFlow),_=d?"vertical"==d?"horizontal":"vertical":"horizontal",f=`<span class="k-input-separator k-input-separator-${"vertical"==d?"horizontal":"vertical"}"></span>`;r&&p&&((s=i.children(".k-input-prefix"))[0]||(n._isInInlineAIPrompt&&(_=d||"horizontal"),s=t(`<span class="k-input-prefix k-input-prefix-${_}" />`),o?s.insertBefore(o):s.prependTo(i)),r.icon&&s.html(kendo.html.renderIcon({icon:r.icon})),r.template&&s.html(kendo.template(r.template)({})),r.separator&&t(f).insertAfter(s)),u&&c&&((l=i.children(".k-input-suffix"))[0]||(l=t(`<span class="k-input-suffix k-input-suffix-${_}" />`).appendTo(i),a?l.insertAfter(a):l.appendTo(i)),u.icon&&l.html(kendo.html.renderIcon({icon:u.icon})),u.template&&l.html(kendo.template(u.template)({})),u.separator&&t(f).insertBefore(l)),e._prefixContainer=s,e._suffixContainer=l}!function(e,t){var n=window.kendo,o=n.htmlEncode,a=n.ui,s=n.html,l=a.List,r=a.Select,u=n.caret,p=n.support,c=p.placeholder,d=n._activeElement,_=n.keys,f=".kendoComboBox",h=f+"FocusEvent",v="click"+f,g="mousedown"+f,m="disabled",x="readonly",b="change",y="k-focus",I="k-disabled",w="aria-disabled",V="aria-readonly",T="filter",C="accept",k="rebind",F="mouseenter"+f+" mouseleave"+f,B=/(\r\n|\n|\r)/gm,S=[16,17,18,19,20,33,34,37,39,45,91,92,144,145];var L=r.extend({init:function(t,o){var a,s=this;s.ns=f,o=Array.isArray(o)?{dataSource:o}:o,r.fn.init.call(s,t,o),o=s.options,t=s.element.on("focus"+f,s._focusHandler.bind(s)),!n.isPresent(o.readonly)&&t.attr("readonly")?o.readonly=!0:n.isPresent(o.readonly)||(o.readonly=!1),o.placeholder=o.placeholder||t.attr("placeholder"),o.inputMode=o.inputMode||t.attr("inputmode")||"text",s._reset(),s._wrapper(),s._input(),s._clearButton(),s._tabindex(s.input),s._popup(),s._dataSource(),s._ignoreCase(),s._enable(),s._attachFocusEvents(),s._oldIndex=s.selectedIndex=-1,s._initialIndex=o.index,s.requireValueMapper(s.options),s._initList(),s._cascade(),o.autoBind?s._filterSource():(!(a=o.text)&&s._isSelect&&(a=t.children(":selected").text()),a&&s._setText(a)),a||s._placeholder(),e(s.element).parents("fieldset").is(":disabled")&&s.enable(!1),i({widget:s,wrapper:s.wrapper,options:s.options,prefixInsertBefore:s.input,suffixInsertAfter:s._clear.parent().length?s._clear:s.input}),n.notify(s),s._toggleCloseVisibility(),s._applyCssClasses(),o.label&&s._label(),s._aria()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",readonly:null,minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",cascadeOnCustomValue:!1,ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:e=>o(e),fixedGroupTemplate:e=>o(e),prefixOptions:{separator:!0},suffixOptions:{separator:!0},clearButton:!0,syncValueAndText:!0,autoWidth:!1,popup:null,size:"medium",fillMode:"solid",rounded:"medium",label:null,adaptiveTitle:null,adaptiveSubtitle:null,clearOnEscape:!0,_removeDataItems:!0,_shouldRefresh:!0},events:["open","close",b,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);r.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},destroy:function(){var e=this;e.input.off(f),e.input.off(h),e.element.off(f),e.wrapper.off(f),clearTimeout(e._pasteTimeout),e.filterInput&&e.filterInput.off(f),e._arrow.off(v+" "+g),e._clear.off(v+" "+g),r.fn.destroy.call(e)},_isEnabled:function(){const e=this;const t=e.element;const i=t.prop(x)||Boolean(e.element.attr("readonly"));return!(t.prop(m)||Boolean(e.element.attr("disabled")))&&!i},_popup:function(){r.fn._popup.call(this),this.popup.element.addClass("k-combobox-popup")},_onActionSheetCreate:function(){var e=this;e._unboundClick=!0,e.input.on("click",e._arrowClick.bind(e)),e.filterInput&&(e.filterInput.on("keydown"+f,e._keydown.bind(e)).on("input"+f,e._search.bind(e)).on("paste"+f,e._inputPaste.bind(e)).attr({role:"combobox","aria-expanded":!1}),e.popup.bind("activate",(()=>{e.filterInput.val(e.input.val()),e.filterInput.trigger("focus")})),e.popup.bind("deactivate",(()=>{e.input.trigger("focus")})))},_onCloseButtonPressed:function(){var e=this;var t=e.options.dataTextField||"text";if(!e.listView.focus()){if((e._syncValueAndText()||e._isSelect)&&(!e.dataItem()||e.dataItem()[t]!==e.input.val())){var i=e.filterInput&&d()===e.filterInput[0]?e.filterInput:e.input;e._accessor(i.val())}e.options.highlightFirst?(e.listView.value(e.input.val()),e._blur()):e._oldText=e.text()}},_isValueChanged:function(e){return e!==l.unifyType(this._old,typeof e)&&e!==l.unifyType(this._oldText,typeof e)},_change:function(){var e=this;var t=e.text();var i=t&&t!==e._oldText&&t!==e.options.placeholder;var n=e.selectedIndex;var o=-1===n;if(e.filterInput&&d()===e.filterInput[0]&&o&&i&&e.input.val(e.filterInput.val()),!e.options.syncValueAndText&&!e.value()&&o&&i)return e._old="",e._oldIndex=n,e._oldText=t,e._typing||e.element.trigger(b),e.trigger(b),void(e._typing=!1);r.fn._change.call(e),e._oldText=e.text&&e.text(),e._toggleCloseVisibility()},_attachFocusEvents:function(){var e=this;e.input.on("focus"+h,e._inputFocus.bind(e)).on("focusout"+h,e._inputFocusout.bind(e))},_focusHandler:function(e){e.target===this.element[0]&&this.input.trigger("focus")},_arrowClick:function(){const e=this;e._isEnabled()?e._toggle():e._toggle(!1)},_inputFocus:function(){this.wrapper.addClass(y),this._placeholder(!1)},_inputFocusout:function(t){var i=this;var n=i.value();const o=!e(t.relatedTarget).closest(".k-clear-value").length||!e(t.relatedTarget).is(i._clear)&&e(t.relatedTarget).hasClass("k-clear-value");if(!i.filterInput||t.relatedTarget!==i.filterInput[0]){i._userTriggered=!0,i.wrapper.removeClass(y),clearTimeout(i._typingTimeout),i._typingTimeout=null,o&&i.text(i.text());var a=i._focus();var s=this.listView.dataItemByIndex(this.listView.getElementIndex(a));var l=i.select();n!==i.value()&&-1!==l&&i.trigger("select",{dataItem:s,item:a})?i.value(n):(i._placeholder(),i._valueBeforeCascade=i._old,o&&(i._blur(),i.element.trigger("blur")))}},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout),e._pasteTimeout=null,e._pasteTimeout=setTimeout((function(){e.search()}))},_editable:function(e){var t=this,i=e.disable,n=e.readonly,o=t.wrapper.off(f),a=t.element.add(t.input.off(f)),s=t._arrow.off(v+" "+g),l=t._clear;n||i?(o.addClass(i?I:"").removeClass(i?"":I),a.attr(m,i).attr(x,n).attr(w,i).attr(V,n)):(o.removeClass(I).on(F,t._toggleHover),a.prop(m,!1).prop(x,!1).attr(w,!1).attr(V,!1),s.on(v,t._arrowClick.bind(t)).on(g,(function(e){e.preventDefault()})),l.on(v+" touchend"+f,t._clearValue.bind(t)),t.input.on("keydown"+f,t._keydown.bind(t)).on("input"+f,t._search.bind(t)).on("paste"+f,t._inputPaste.bind(t)),t.wrapper.on(v+f,t._focusHandler.bind(t))),t._toggleCloseVisibility()},open:function(){var e=this;var t=e._state;var i=!!e.dataSource.filter()&&e.dataSource.filter().filters.length>0;var n=!e.ul.find(e.listView.focus()).length;e.popup.visible()||(!e.listView.bound()&&t!==T||t===C?(e._open=!0,e._state=k,1!==e.options.minLength&&!i||i&&e.value()&&-1===e.selectedIndex?(e.refresh(),e._openPopup(),this.options.virtual||e.listView.bound(!1)):e._filterSource()):e._allowOpening()&&(e.popup._hovered=!0,e._openPopup(),e.options.virtual?e._focusItem():n&&e.options.highlightFirst&&e.listView.focus(0)))},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",this._scrollToFocusedItem.bind(this)),this.popup.open()},_updateSelectionState:function(){var e=this;var i=e.options.text;var n=e.options.value;e.listView.isFiltered()||(-1===e.selectedIndex?(i!==t&&null!==i||(i=n),e._accessor(n),e.input.val(i||e.input.val()),e._placeholder()):-1===e._oldIndex&&(e._oldIndex=e.selectedIndex))},_buildOptions:function(e){var i=this;if(i._isSelect){var n=i._customOption;i._state===k&&(i._state=""),i._customOption=t,i._options(e,"",i.value()),n&&n[0].selected&&!i.listView._emptySearch&&i._custom(n.val())}},_updateSelection:function(){var t=this;var i=t.listView;var n=t._initialIndex;var o=null!==n&&n>-1;if(t._state===T)e(i.focus()).removeClass("k-selected");else if(!t._fetch){i.value().length||(o?t.select(n):t._accessor()&&i.value(t._accessor())),t._initialIndex=null;var a=i.selectedDataItems()[0];a&&(t._value(a)!==t.value()?t._custom(t._value(a)):t._value(a)!==t.element[0].value&&t._accessor(t._value(a)),t.text()&&t.text()!==t._text(a)&&t._selectValue(a))}},_updateItemFocus:function(){var e=this.listView;this.options.highlightFirst?e.focus()||e.focusIndex()||e.focus(0):e.focus(-1)},_listBound:function(){var e=this;var i=e.input[0]===d()||e.filterInput&&e.filterInput[0]===d();var n=e.dataSource.flatView();var o=e.listView.skip();var a=n.length;var s=e.dataSource._group?e.dataSource._group.length:0;var l=o===t||0===o;e._presetValue=!1,e._renderFooter(),e._renderNoData(),e._toggleNoData(!a),e._toggleHeader(!!s&&!!a),e._resizePopup(),e.popup.position(),e._buildOptions(n),e._updateSelection(),n.length&&l&&(e._updateItemFocus(),e.options.suggest&&i&&e.input.val()&&e.suggest(n[0])),e._open&&(e._open=!1,e._typingTimeout&&!i?e.popup.close():e.toggle(e._allowOpening()),e._typingTimeout=null),e._hideBusy(),e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(e){var t,i,n;if("function"==typeof e){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return this.dataSource.total()||e||(e=-1),e},_select:function(e,t){var i=this;return-1===(e=i._get(e))&&(i.input[0].value="",i._accessor("")),i.listView.select(e).done((function(){t||i._state!==T||(i._state=C),i._toggleCloseVisibility()}))},_selectValue:function(e){var i=this.listView.select();var n="";var o="";(i=i[i.length-1])===t&&(i=-1),this.selectedIndex=i,this.listView.isFiltered()&&-1!==i&&(this._valueBeforeCascade=this._old),-1!==i||e?((e||0===e)&&(n=this._dataValue(e),o=this._text(e)),null===n&&(n="")):(this.options.syncValueAndText?n=o=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:o=this.text(),this.listView.focus(-1)),this._setDomInputValue(o),this._accessor(n!==t?n:o,i),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(e){var t=this;var i=u(this.input);var n;if(i&&i.length&&(n=i[0]),this._prev=this.input[0].value=e,n&&-1===this.selectedIndex){var o=p.mobileOS;o.wp||o.android?setTimeout((function(){t.input[0].setSelectionRange(n,n)}),0):this.input[0].setSelectionRange(n,n)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!e?this._showClear():this._hideClear()},suggest:function(e){var i=this;var n=i.input[0];var o=i.text();var a=u(n)[0];var s=i._last;var r;var p=i.dataSource.options.accentFoldingFiltering;s!=_.BACKSPACE&&s!=_.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=i.dataSource.view()[l.inArray(e[0],i.ul[0])]),e=e?i._text(e):""),a<=0&&(a=(p?o.toLocaleLowerCase(p):o.toLowerCase()).indexOf(p?e.toLocaleLowerCase(p):e.toLowerCase())+1),e?(e=e.toString(),(r=(p?e.toLocaleLowerCase(p):e.toLowerCase()).indexOf(p?o.toLocaleLowerCase(p):o.toLowerCase()))>-1&&(o+=e.substring(r+o.length))):o=o.substring(0,a),o.length===a&&e||(n.value=o,n===d()&&u(n,a,o.length))):i._last=t},text:function(e){e=null===e?"":e;var i=this;var n=i.filterInput&&i.filterInput[0]===d()?i.filterInput[0]:i.input[0];var o=i.options.ignoreCase;var a=e;var s;var r;if(e===t)return n.value;!1!==i.options.autoBind||i.listView.bound()?(s=i.dataItem())&&i._text(s).replace&&i._text(s).replace(B,"")===e&&(r=i._value(s))===l.unifyType(i._old,typeof r)?i._triggerCascade():(o&&(a=a.toLowerCase()),i.dataItem()&&i._text(i.dataItem())===e||(i._select((function(e){return e=i._text(e),o&&(e=(e+"").toLowerCase()),e===a})).done((function(){i.selectedIndex<0&&(n.value=e,i.options.syncValueAndText&&i._accessor(e),i._isValueChanged(e)&&(i._cascadeTriggered=!0,i._triggerCascade()),i._refreshFloatingLabel()),i._prev=n.value})),i._toggleCloseVisibility())):i._setText(e)},toggle:function(e){this._toggle(e,!0)},value:function(e){var i=this;var n=i.options;var o=i.listView;if(e===t)return(e=i._accessor()||i.listView.value()[0])===t||null===e?"":e;i.requireValueMapper(i.options,e),i.trigger("set",{value:e}),(e!==n.value||i.input.val()!==n.text||i.options.cascadeFrom)&&(i._accessor(e),i._isFilterEnabled()&&o.bound()&&o.isFiltered()?i._clearFilter():i._fetchData(),o.value(e).done((function(){-1!==i.selectedIndex||o._selectedDataItems&&o._selectedDataItems.length||(i._accessor(e),i.input.val(e),i._placeholder(!0)),i._userTriggered?i._old=i._accessor():i._old=i._valueBeforeCascade=i._accessor(),i._oldIndex=i.selectedIndex,i._prev=i._oldText=i.input.val(),i._state===T&&(i._state=C),i._toggleCloseVisibility(),i._refreshFloatingLabel()})))},_click:function(e){var t=this;var i=e.item;var n=t.listView.dataItemByIndex(t.listView.getElementIndex(i));var o=!0;e.preventDefault(),n&&((o=t._value(n)!==l.unifyType(t.value(),typeof t._value(n)))||t.input.val(t._text(n))),o&&t.trigger("select",{dataItem:n,item:i})?t.close():(t._userTriggered=!0,t._select(i).done((function(){t._blur()})))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(e){var i=this;var n=i.options;var o=i.dataSource;var a=n.ignoreCase;if(a&&(e=e.toLowerCase()),i.ul[0].firstChild){this.listView.focus(this._get((function(n){var o=i._text(n);if(o!==t)return(""==(o+="")||""!==e)&&(a&&(o=o.toLowerCase()),0===o.indexOf(e))})));var s=this.listView.focus();s&&(n.suggest&&i.suggest(s),this.open()),this.options.highlightFirst&&!e&&this.listView.focusFirst()}else o.one(b,(function(){o.view()[0]&&i.search(e)})).fetch()},_input:function(){var e,t,i,o=this,a=o.element.removeClass("k-input-inner")[0],l=a.accessKey,r=o.wrapper,u="input.k-input-inner",p=a.name||"",d=o.options;p&&(p='name="'+p+'_input" '),(e=r.find(u))[0]||(i=s.renderButton('<button type="button" class="k-input-button" aria-label="expand combobox"></button>',{icon:"caret-alt-down",size:d.size,fillMode:d.fillMode,shape:"none",rounded:"none"}),r.append("<input "+p+'class="k-input-inner" type="text" autocomplete="off"/>').append(i).append(o.element),e=r.find(u)),e[0].style.cssText=a.style.cssText,e[0].title=a.title,(t=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))>-1&&(n.isPresent(L._isServerRendered)&&L._isServerRendered||(e[0].maxLength=t)),e.addClass(a.className).css({width:"",height:a.style.height,position:""}).attr({role:"combobox","aria-expanded":!1,inputmode:d.inputMode}).show(),e.attr(n.attr("skip"),!0),c&&e.attr("placeholder",o.options.placeholder),l&&(a.accessKey="",e[0].accessKey=l),o._focused=o.input=e,o._arrow=r.find(".k-input-button").attr({role:"button",tabIndex:-1}),o._arrowIcon=o._arrow.find(".k-icon, .k-svg-icon")},_clearButton:function(){l.fn._clearButton.call(this),this.options.clearButton&&this._clear.insertAfter(this.input)},_keydown:function(e){var t=this,i=e.keyCode,n=t.options.dataTextField||"text",o=i>=112&&i<=135,a=S.indexOf(i)>-1;if(t._last=i,clearTimeout(t._typingTimeout),t._typingTimeout=null,i===_.HOME)t._firstItem();else if(i===_.END)t._lastItem();else if(i===_.ENTER||i===_.TAB&&t.popup.visible()){var s=t.listView.focus();var r=t.dataItem();var u=!0;if(t.popup.visible()||r&&t.text()===t._text(r)||(s=null),s){if(t.popup.visible()&&e.preventDefault(),(r=t.listView.dataItemByIndex(t.listView.getElementIndex(s)))&&(u=t._value(r)!==l.unifyType(t.value(),typeof t._value(r))),u&&t.trigger("select",{dataItem:r,item:s}))return;t._userTriggered=!0,t._select(s).done((function(){t._blur(),t._valueBeforeCascade=t._old=t.value()}))}else{if((t._syncValueAndText()||t._isSelect)&&(!t.dataItem()||t.dataItem()[n]!==t.input.val())){var p=t.filterInput&&d()===t.filterInput[0]?t.filterInput:t.input;t._accessor(p.val())}t.options.highlightFirst?(t.listView.value(t.input.val()),t._blur()):t._oldText=t.text()}}else i==_.TAB||t._move(e)||a||o||e.ctrlKey?t.options.clearOnEscape&&i===_.ESC&&!t.popup.visible()&&t.text()&&t._clearValue():t._search()},_placeholder:function(e){if(!c){var i,n=this,o=n.input,a=n.options.placeholder;if(a){if(i=n.value(),e===t&&(e=!i),o.toggleClass("k-readonly",e),!e){if(i)return;a=""}o.val(a),a||o[0]!==d()||u(o[0],0,0)}}},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var i=e.text();""!==i&&e._prev!==i?(e._prev=i,"none"===e.options.filter&&e.options.virtual&&e.listView.select(-1),e.search(i),e._toggleCloseVisibility()):""===i&&""!==e._prev&&e._prev!==t&&(e._clearValue(),e._open=!0,e._state=k),e._typingTimeout=null}),e.options.delay)},_setText:function(e){this.input.val(e),this._prev=e},_wrapper:function(){var e=this.element,t=e.parent();t.is("span.k-input")||((t=e.hide().wrap("<span />").parent())[0].style.cssText=e[0].style.cssText),this.wrapper=t.addClass("k-input k-combobox").addClass(e[0].className).removeClass("input-validation-error").css("display","")},_clearSelection:function(e,t){var i=e.value();var n=i&&-1===e.selectedIndex;-1==this.selectedIndex&&this.value()||(t||!i||n)&&(this.options.value="",this.value(""))},_preselect:function(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()},_clearText:function(){this._old=this.value(),this.text("")},_clearValue:function(){var e=this;var t=e.filterInput&&e.filterInput[0]===d()?e.filterInput:e.input;r.fn._clearValue.call(this),t.trigger("focus")}});a.plugin(L),n.cssProperties.registerPrefix("ComboBox","k-input-"),n.cssProperties.registerValues("ComboBox",[{prop:"rounded",values:n.cssProperties.roundedValues.concat([["full","full"]])}])}(window.kendo.jQuery);var n=kendo;e.__meta__={id:"combobox",name:"ComboBox",category:"web",description:"The ComboBox widget allows the selection from pre-defined values or entering a new value.",depends:["list","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},e.default=n,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.combobox.min.js.map
