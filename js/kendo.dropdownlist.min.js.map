{"version":3,"file":"kendo.dropdownlist.min.js","names":["factory","define","amd","$","undefined$1","kendo","window","encode","htmlEncode","ui","html","List","Select","support","activeElement","_activeElement","ObservableObject","data","keys","ns","nsFocusEvent","DISABLED","READONLY","CHANGE","FOCUSED","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","HOVEREVENTS","TABINDEX","STATE_FILTER","STATE_ACCEPT","DropDownList","extend","init","element","options","optionLabel","text","that","this","index","Array","isArray","dataSource","fn","call","on","_focusHandler","bind","_focusInputHandler","_focusInput","_optionLabel","_inputTemplate","_reset","_prev","_word","_wrapper","_tabindex","wrapper","attr","_span","_popup","_mobile","_dataSource","_ignoreCase","_filterHeader","label","_label","_aria","_enable","_attachFocusHandlers","_oldIndex","selectedIndex","_initialIndex","requireValueMapper","_initList","listView","one","_attachAriaActiveDescendant","_cascade","e","sender","bound","hasOptionLabel","_textAccessor","_optionLabelText","autoBind","fetch","_isSelect","children","parents","is","enable","preventDefault","notify","_applyCssClasses","name","enabled","value","delay","height","dataTextField","dataValueField","cascadeFrom","cascadeFromField","cascadeFromParentField","ignoreCase","animation","filter","minLength","enforceMinLength","virtual","template","valueTemplate","optionLabelTemplate","groupTemplate","fixedGroupTemplate","autoWidth","popup","filterTitle","size","fillMode","rounded","events","setOptions","_listOptions","_accessors","select","destroy","off","_arrow","_arrowIcon","filterInput","open","isFiltered","filters","length","visible","_state","_allowOpening","_focusFilter","_hovered","_optionID","_resizeFilterInput","_focusItem","_open","val","refresh","_filterSource","close","inputId","find","_focusElement","originalPrevent","_prevent","isInputActive","caret","addClass","closest","css","width","removeClass","trigger","toggle","_toggle","current","candidate","focus","_focus","dataItem","selectedDataItems","getByUid","hasClass","items","flatView","_optionLabelDataItem","loweredText","toLowerCase","_select","_text","done","_refreshFloatingLabel","_clearFilter","_accessor","_request","_valueSetter","unbind","_isFilterEnabled","_fetchData","_old","_valueBeforeCascade","remove","getter","prependTo","list","_click","_toggleHover","angular","elements","isPlainObject","_assignInstance","_buildOptions","optionLabelValue","_value","_options","unifyType","_customOption","_custom","_listBound","initialIndex","filtered","_presetValue","_renderFooter","_renderNoData","_toggleNoData","_resizePopup","position","_fetch","_selectValue","_hideBusy","_listChange","_filterPaste","_search","_focusinHandler","_focusoutHandler","isIFrame","self","top","clearTimeout","_typingTimeout","mobileOS","ios","_change","_blur","_wrapperMousedown","_wrapperClick","_focused","_editable","disable","readonly","add","dropDownWrapper","removeAttr","prop","_keydown","mousedown","_keypress","handled","key","keyCode","altKey","isPopupVisible","LEFT","UP","RIGHT","DOWN","ESC","ENTER","SPACEBAR","_move","HOME","_firstItem","END","_lastItem","_getElementDataItem","item","_matchText","word","indexOf","_shuffleData","splitIndex","optionDataItem","concat","slice","_selectNext","oldFocusedItem","dataLength","isInLoop","character","idx","charAt","sameCharsOnly","_last","startIndex","normalizeIndex","toJSON","which","String","fromCharCode","charCode","_popupOpen","isDefaultPrevented","wrap","dataItemByIndex","getElementIndex","currentTarget","_userTriggered","active","compareElement","touchEnabled","touch","MSPointers","pointers","_searchByWord","_inputValue","setTimeout","search","_get","found","isFunction","jQueryCandidate","focusFirst","_resetOptionLabel","focusLast","_nextItem","focusIndex","focusNext","_prevItem","focusPrev","focusedItem","highlightFirst","mapValueTo","scrollToIndex","content","scrollTop","additionalClass","keepState","_dataValue","_triggerCascade","eq","effects","android","meego","wp","filterTemplate","icon","iconClass","placeholder","title","role","parent","prepend","append","span","arrowBtn","SELECTOR","id","guid","renderButton","shape","DOMelement","style","cssText","className","accesskey","unselectable","hide","_clearSelection","_openHandler","_adjustListWidth","ul","_closeHandler","Error","optionLabelText","getElements","get","_preselect","setValue","assign","split","instance","fields","field","lastIndex","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","jQuery"],"sources":["kendo.dropdownlist.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.list', 'kendo.mobile.scroller', 'kendo.virtuallist', 'kendo.html.button', 'kendo.icons'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"dropdownlist\",\n        name: \"DropDownList\",\n        category: \"web\",\n        description: \"The DropDownList widget displays a list of values and allows the selection of a single value from the list.\",\n        depends: [ \"list\", \"html.button\", \"icons\" ],\n        features: [ {\n            id: \"mobile-scroller\",\n            name: \"Mobile scroller\",\n            description: \"Support for kinetic scrolling in mobile device\",\n            depends: [ \"mobile.scroller\" ]\n        }, {\n            id: \"virtualization\",\n            name: \"VirtualList\",\n            description: \"Support for virtualization\",\n            depends: [ \"virtuallist\" ]\n        } ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            encode = kendo.htmlEncode,\n            ui = kendo.ui,\n            html = kendo.html,\n            List = ui.List,\n            Select = ui.Select,\n            support = kendo.support,\n            activeElement = kendo._activeElement,\n            ObservableObject = kendo.data.ObservableObject,\n            keys = kendo.keys,\n            ns = \".kendoDropDownList\",\n            nsFocusEvent = ns + \"FocusEvent\",\n            DISABLED = \"disabled\",\n            READONLY = \"readonly\",\n            CHANGE = \"change\",\n            FOCUSED = \"k-focus\",\n            STATEDISABLED = \"k-disabled\",\n            ARIA_DISABLED = \"aria-disabled\",\n            ARIA_READONLY = \"aria-readonly\",\n            CLICKEVENTS = \"click\" + ns + \" touchend\" + ns,\n            HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n            TABINDEX = \"tabindex\",\n            STATE_FILTER = \"filter\",\n            STATE_ACCEPT = \"accept\",\n            MSG_INVALID_OPTION_LABEL = \"The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel\",\n            OPEN = \"open\",\n            CLOSE = \"close\";\n\n        var DropDownList = Select.extend( {\n            init: function(element, options) {\n                var that = this;\n                var index = options && options.index;\n                var optionLabel, text, disabled;\n\n                that.ns = ns;\n                options = Array.isArray(options) ? { dataSource: options } : options;\n\n                Select.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n                that._focusInputHandler = that._focusInput.bind(that);\n\n                that.optionLabel = $();\n                that._optionLabel();\n\n                that._inputTemplate();\n\n                that._reset();\n\n                that._prev = \"\";\n                that._word = \"\";\n\n                that._wrapper();\n\n                that._tabindex();\n                that.wrapper.data(TABINDEX, that.wrapper.attr(TABINDEX));\n\n                that._span();\n\n                that._popup();\n\n                that._mobile();\n\n                that._dataSource();\n\n                that._ignoreCase();\n\n                that._filterHeader();\n\n                if (options.label) {\n                    this._label();\n                }\n\n                that._aria();\n\n                that._enable();\n\n                that._attachFocusHandlers();\n\n                that._oldIndex = that.selectedIndex = -1;\n\n                if (index !== undefined$1) {\n                    options.index = index;\n                }\n\n                that._initialIndex = options.index;\n\n                that.requireValueMapper(that.options);\n                that._initList();\n                that.listView.one(\"dataBound\", that._attachAriaActiveDescendant.bind(that));\n\n                that._cascade();\n\n                that.one(\"set\", function(e) {\n                    if (!e.sender.listView.bound() && that.hasOptionLabel()) {\n                        that._textAccessor(that._optionLabelText());\n                    }\n                });\n\n                if (options.autoBind) {\n                    that.dataSource.fetch();\n                } else if (that.selectedIndex === -1) { //selectedIndex !== -1 when cascade functionality happens instantly\n                    text = options.text || \"\";\n                    if (!text) {\n                        optionLabel = options.optionLabel;\n\n                        if (optionLabel && options.index === 0) {\n                            text = optionLabel;\n                        } else if (that._isSelect) {\n                            text = element.children(\":selected\").text();\n                        }\n                    }\n\n                    that._textAccessor(text);\n                }\n\n                disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n                if (disabled) {\n                    that.enable(false);\n                }\n\n                that.listView.bind(\"click\", function(e) { e.preventDefault(); });\n\n                kendo.notify(that);\n                that._applyCssClasses();\n            },\n\n            options: {\n                name: \"DropDownList\",\n                enabled: true,\n                autoBind: true,\n                index: 0,\n                text: null,\n                value: null,\n                delay: 500,\n                height: 200,\n                dataTextField: \"\",\n                dataValueField: \"\",\n                optionLabel: \"\",\n                cascadeFrom: \"\",\n                cascadeFromField: \"\",\n                cascadeFromParentField: \"\",\n                ignoreCase: true,\n                animation: {},\n                filter: \"none\",\n                minLength: 1,\n                enforceMinLength: false,\n                virtual: false,\n                template: null,\n                valueTemplate: null,\n                optionLabelTemplate: null,\n                groupTemplate: function (data) { return encode(data); },\n                fixedGroupTemplate: function (data) { return encode(data); },\n                autoWidth: false,\n                popup: null,\n                filterTitle: null,\n                size: \"medium\",\n                fillMode: \"solid\",\n                rounded: \"medium\",\n                label: null\n            },\n\n            events: [\n                \"open\",\n                \"close\",\n                CHANGE,\n                \"select\",\n                \"filtering\",\n                \"dataBinding\",\n                \"dataBound\",\n                \"cascade\",\n                \"set\",\n                \"kendoKeydown\"\n            ],\n\n            setOptions: function(options) {\n                Select.fn.setOptions.call(this, options);\n\n                this.listView.setOptions(this._listOptions(options));\n\n                this._optionLabel();\n                this._inputTemplate();\n                this._accessors();\n                this._filterHeader();\n                this._enable();\n                this._aria();\n\n                if (!this.value() && this.hasOptionLabel()) {\n                    this.select(0);\n                }\n            },\n\n            destroy: function() {\n                var that = this;\n\n                Select.fn.destroy.call(that);\n\n                that.wrapper.off(ns);\n                that.wrapper.off(nsFocusEvent);\n                that.element.off(ns);\n\n                that._arrow.off();\n                that._arrow = null;\n                that._arrowIcon = null;\n\n                that.optionLabel.off();\n\n                if (that.filterInput) {\n                    that.filterInput.off(nsFocusEvent);\n                }\n            },\n\n            open: function() {\n                var that = this;\n                var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n                var listView = this.listView;\n\n                if (that.popup.visible()) {\n                    return;\n                }\n\n                if (!that.listView.bound() || that._state === STATE_ACCEPT) {\n                    that._open = true;\n                    that._state = \"rebind\";\n\n                    if (that.filterInput) {\n                        that.filterInput.val(\"\");\n                        that._prev = \"\";\n                    }\n\n                    if (that.filterInput && that.options.minLength !== 1 && !isFiltered) {\n                        that.refresh();\n                        that.popup.one(\"activate\", that._focusInputHandler);\n                        that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                        that.popup.open();\n                        that._resizeFilterInput();\n                    } else {\n                        that._filterSource();\n                    }\n                } else if (that._allowOpening()) {\n                    that._focusFilter = true;\n                    that.popup.one(\"activate\", that._focusInputHandler);\n                    // In some cases when the popup is opened resize is triggered which will cause it to close\n                    // Setting the below flag will prevent this from happening\n                    that.popup._hovered = true;\n                    that.wrapper.attr(\"aria-activedescendant\", listView._optionID);\n                    that.popup.open();\n                    that._resizeFilterInput();\n                    that._focusItem();\n                }\n            },\n\n            close: function() {\n                this._attachAriaActiveDescendant();\n                this.popup.close();\n            },\n\n            _attachAriaActiveDescendant: function() {\n                var wrapper = this.wrapper,\n                    inputId = wrapper.find(\".k-input-inner\").attr('id');\n\n                wrapper.attr(\"aria-describedby\", inputId);\n            },\n\n            _focusInput: function() {\n                this._focusElement(this.filterInput);\n            },\n\n            _resizeFilterInput: function() {\n                var filterInput = this.filterInput;\n                var originalPrevent = this._prevent;\n\n                if (!filterInput) {\n                    return;\n                }\n\n                var isInputActive = this.filterInput[0] === activeElement();\n                var caret = kendo.caret(this.filterInput[0])[0];\n\n                this._prevent = true;\n\n                filterInput.addClass(\"k-hidden\");\n                filterInput.closest(\".k-list-filter\").css(\"width\", this.popup.element.width());\n                filterInput.removeClass(\"k-hidden\");\n\n                if (isInputActive) {\n                    filterInput.trigger(\"focus\");\n                    kendo.caret(filterInput[0], caret);\n                }\n\n                this._prevent = originalPrevent;\n            },\n\n            _allowOpening: function() {\n                return this.hasOptionLabel() || this.filterInput || Select.fn._allowOpening.call(this);\n            },\n\n            toggle: function(toggle) {\n                this._toggle(toggle, true);\n            },\n\n            current: function(candidate) {\n                var current;\n\n                if (candidate === undefined$1) {\n                    current = this.listView.focus();\n\n                    if (!current && this.selectedIndex === 0 && this.hasOptionLabel()) {\n                        return this.optionLabel;\n                    }\n\n                    return current;\n                }\n\n                this._focus(candidate);\n            },\n\n            dataItem: function(index) {\n                var that = this;\n                var dataItem = null;\n\n                if (index === null) { return index; }\n\n                if (index === undefined$1) {\n                    dataItem = that.listView.selectedDataItems()[0];\n                } else {\n                    if (typeof index !== \"number\") {\n                        if (that.options.virtual) {\n                            return that.dataSource.getByUid($(index).data(\"uid\"));\n                        }\n                        if (index.hasClass(\"k-list-optionlabel\")) {\n                            index = -1;\n                        } else {\n                            index = $(that.items()).index(index);\n                        }\n                    } else if (that.hasOptionLabel()) {\n                        index -= 1;\n                    }\n\n                    dataItem = that.dataSource.flatView()[index];\n                }\n\n                if (!dataItem) {\n                    dataItem = that._optionLabelDataItem();\n                }\n\n                return dataItem;\n            },\n\n            refresh: function() {\n                this.listView.refresh();\n            },\n\n            text: function(text) {\n                var that = this;\n                var loweredText;\n                var ignoreCase = that.options.ignoreCase;\n\n                text = text === null ? \"\" : text;\n\n                if (text !== undefined$1) {\n                    if (typeof text !== \"string\") {\n                        that._textAccessor(text);\n                        return;\n                    }\n\n                    loweredText = ignoreCase ? text.toLowerCase() : text;\n\n                    that._select(function(data) {\n                        data = that._text(data);\n\n                        if (ignoreCase) {\n                            data = (data + \"\").toLowerCase();\n                        }\n\n                        return data === loweredText;\n                    }).done(function() {\n                        that._textAccessor(that.dataItem() || text);\n                        that._refreshFloatingLabel();\n                    });\n\n                } else {\n                    return that._textAccessor();\n                }\n            },\n\n            _clearFilter: function() {\n                $(this.filterInput).val(\"\");\n                Select.fn._clearFilter.call(this);\n            },\n\n            value: function(value) {\n                var that = this;\n                var listView = that.listView;\n                var dataSource = that.dataSource;\n                var valueFn = function() { that.value(value); };\n\n                if (value === undefined$1) {\n                    value = that._accessor() || that.listView.value()[0];\n                    return value === undefined$1 || value === null ? \"\" : value;\n                }\n\n                that.requireValueMapper(that.options, value);\n\n                if (value || !that.hasOptionLabel()) {\n                    that._initialIndex = null;\n                }\n\n                this.trigger(\"set\", { value: value });\n\n                if (that._request && that.options.cascadeFrom && that.listView.bound()) {\n                    if (that._valueSetter) {\n                        dataSource.unbind(CHANGE, that._valueSetter);\n                    }\n\n                    that._valueSetter = valueFn.bind(that);\n\n                    dataSource.one(CHANGE, that._valueSetter);\n                    return;\n                }\n\n                if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                    that._clearFilter();\n                } else {\n                    that._fetchData();\n                }\n\n                listView.value(value).done(function() {\n                    that._old = that._valueBeforeCascade = that._accessor();\n                    that._oldIndex = that.selectedIndex;\n                    that._refreshFloatingLabel();\n                });\n            },\n\n            hasOptionLabel: function() {\n                return this.optionLabel && !!this.optionLabel[0];\n            },\n\n            _optionLabel: function() {\n                var that = this;\n                var options = that.options;\n                var optionLabel = options.optionLabel;\n                var template = options.optionLabelTemplate;\n\n                if (!optionLabel) {\n                    that.optionLabel.off().remove();\n                    that.optionLabel = $();\n                    return;\n                }\n\n                if (!template) {\n                    template = function (data) { return (typeof optionLabel === \"string\" ?\n                        encode(data) :\n                        encode(kendo.getter(options.dataTextField)(data))); };\n                }\n\n                if (typeof template !== \"function\") {\n                    template = kendo.template(template);\n                }\n\n                that.optionLabelTemplate = template;\n\n                if (!that.hasOptionLabel()) {\n                    that.optionLabel = $('<div role=\"option\" class=\"k-list-optionlabel\"></div>').prependTo(that.list);\n                }\n\n                that.optionLabel.html(template(optionLabel))\n                                .off()\n                                .on(CLICKEVENTS, that._click.bind(that))\n                                .on(HOVEREVENTS, that._toggleHover);\n\n                that.angular(\"compile\", function() {\n                    return { elements: that.optionLabel, data: [{ dataItem: that._optionLabelDataItem() }] };\n                });\n            },\n\n            _optionLabelText: function() {\n                var optionLabel = this.options.optionLabel;\n                return (typeof optionLabel === \"string\") ? optionLabel : this._text(optionLabel);\n            },\n\n            _optionLabelDataItem: function() {\n                var that = this;\n                var optionLabel = that.options.optionLabel;\n\n                if (that.hasOptionLabel()) {\n                    return $.isPlainObject(optionLabel) ? new ObservableObject(optionLabel) : that._assignInstance(that._optionLabelText(), \"\");\n                }\n\n                return undefined$1;\n            },\n\n            _buildOptions: function(data) {\n                var that = this;\n                if (!that._isSelect) {\n                    return;\n                }\n\n                var value = that.listView.value()[0];\n                var optionLabel = that._optionLabelDataItem();\n                var optionLabelValue = optionLabel && that._value(optionLabel);\n\n                if (value === undefined$1 || value === null) {\n                    value = \"\";\n                }\n\n                if (optionLabel) {\n                    if (optionLabelValue === undefined$1 || optionLabelValue === null) {\n                        optionLabelValue = \"\";\n                    }\n\n                    optionLabel = '<option value=\"' + optionLabelValue + '\">' + that._text(optionLabel) + \"</option>\";\n                }\n\n                that._options(data, optionLabel, value);\n\n                if (value !== List.unifyType(that._accessor(), typeof value)) {\n                    that._customOption = null;\n                    that._custom(value);\n                }\n            },\n\n            _listBound: function() {\n\n                var that = this;\n                var initialIndex = that._initialIndex;\n                var filtered = that._state === STATE_FILTER;\n\n                var data = that.dataSource.flatView();\n                var dataItem;\n\n                that._presetValue = false;\n\n                that._renderFooter();\n                that._renderNoData();\n                that._toggleNoData(!data.length);\n\n                that._resizePopup(true);\n\n                that.popup.position();\n\n                that._buildOptions(data);\n\n                if (!filtered) {\n                    if (that._open) {\n                        that.toggle(that._allowOpening());\n                    }\n\n                    that._open = false;\n\n                    if (!that._fetch) {\n                        if (data.length) {\n                            if (!that.listView.value().length && initialIndex > -1 && initialIndex !== null) {\n                                that.select(initialIndex);\n                            }\n\n                            that._initialIndex = null;\n                            dataItem = that.listView.selectedDataItems()[0];\n                            if (dataItem && that.text() !== that._text(dataItem)) {\n                                that._selectValue(dataItem);\n                            }\n                        } else if (that._textAccessor() !== that._optionLabelText()) {\n                            that.listView.value(\"\");\n                            that._selectValue(null);\n                            that._oldIndex = that.selectedIndex;\n                        }\n                    }\n                }\n\n                that._hideBusy();\n                that.trigger(\"dataBound\");\n            },\n\n            _listChange: function() {\n                this._selectValue(this.listView.selectedDataItems()[0]);\n\n                if (this._presetValue || (this._old && this._oldIndex === -1)) {\n                    this._oldIndex = this.selectedIndex;\n                }\n            },\n\n            _filterPaste: function() {\n                this._search();\n            },\n\n            _attachFocusHandlers: function() {\n                var that = this;\n                var wrapper = that.wrapper;\n\n                wrapper.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                       .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n                if (that.filterInput) {\n                    that.filterInput.on(\"focusin\" + nsFocusEvent, that._focusinHandler.bind(that))\n                       .on(\"focusout\" + nsFocusEvent, that._focusoutHandler.bind(that));\n                }\n            },\n\n            _focusHandler: function() {\n                this.wrapper.trigger(\"focus\");\n            },\n\n            _focusinHandler: function() {\n                this.wrapper.addClass(FOCUSED);\n                this._prevent = false;\n            },\n\n            _focusoutHandler: function() {\n                var that = this;\n                var isIFrame = window.self !== window.top;\n\n                if (!that._prevent) {\n                    clearTimeout(that._typingTimeout);\n\n                    if (support.mobileOS.ios && isIFrame) {\n                        that._change();\n                    } else {\n                        that._blur();\n                    }\n\n                    that.wrapper.removeClass(FOCUSED);\n                    that._prevent = true;\n                    that._open = false;\n                    that.element.trigger(\"blur\");\n                }\n            },\n\n            _wrapperMousedown: function() {\n                this._prevent = !!this.filterInput;\n            },\n\n            _wrapperClick: function(e) {\n                e.preventDefault();\n                this.popup.unbind(\"activate\", this._focusInputHandler);\n                this._focused = this.wrapper;\n                this._prevent = false;\n                this._toggle();\n            },\n\n            _editable: function(options) {\n                var that = this;\n                var element = that.element;\n                var disable = options.disable;\n                var readonly = options.readonly;\n                var wrapper = that.wrapper.add(that.filterInput).off(ns);\n                var dropDownWrapper = that.wrapper.off(HOVEREVENTS);\n\n                if (!readonly && !disable) {\n                    element.prop(DISABLED, false).prop(READONLY, false);\n\n                    dropDownWrapper\n                        .removeClass(STATEDISABLED)\n                        .on(HOVEREVENTS, that._toggleHover);\n\n                    wrapper\n                        .attr(TABINDEX, wrapper.data(TABINDEX))\n                        .attr(ARIA_DISABLED, false)\n                        .attr(ARIA_READONLY, false)\n                        .on(\"keydown\" + ns, that, that._keydown.bind(that))\n                        .on(kendo.support.mousedown + ns, that._wrapperMousedown.bind(that))\n                        .on(\"paste\" + ns, that._filterPaste.bind(that));\n\n                    that.wrapper.on(\"click\" + ns, that._wrapperClick.bind(that));\n\n                    if (!that.filterInput) {\n                        wrapper.on(\"keypress\" + ns, that._keypress.bind(that));\n                    } else {\n                        wrapper.on(\"input\" + ns, that._search.bind(that));\n                    }\n\n                } else if (disable) {\n                    wrapper.removeAttr(TABINDEX);\n                    dropDownWrapper.addClass(STATEDISABLED);\n                } else {\n                    dropDownWrapper.removeClass(STATEDISABLED);\n                }\n\n                element.attr(DISABLED, disable)\n                       .attr(READONLY, readonly);\n\n                wrapper.attr(ARIA_DISABLED, disable)\n                        .attr(ARIA_READONLY, readonly);\n            },\n\n            _keydown: function(e) {\n                var that = this;\n                var key = e.keyCode;\n                var altKey = e.altKey;\n                var isInputActive;\n                var handled;\n\n                var isPopupVisible = that.popup.visible();\n\n                if (that.filterInput) {\n                    isInputActive = that.filterInput[0] === activeElement();\n                }\n\n                if (key === keys.LEFT) {\n                    key = keys.UP;\n                    handled = true;\n                } else if (key === keys.RIGHT) {\n                    key = keys.DOWN;\n                    handled = true;\n                }\n\n                if (handled && isInputActive) {\n                    return;\n                }\n\n                e.keyCode = key;\n\n                if ((altKey && key === keys.UP) || key === keys.ESC) {\n                    that._focusElement(that.wrapper);\n                }\n\n                if (that._state === STATE_FILTER && key === keys.ESC) {\n                    that._clearFilter();\n                    that._open = false;\n                    that._state = STATE_ACCEPT;\n                }\n\n                if (key === keys.ENTER && that._typingTimeout && that.filterInput && isPopupVisible) {\n                    e.preventDefault();\n                    return;\n                }\n\n                if (key === keys.SPACEBAR && !isInputActive) {\n                    that.toggle(!isPopupVisible);\n                    e.preventDefault();\n                }\n\n                handled = that._move(e);\n\n                if (handled) {\n                    return;\n                }\n\n                if (!isPopupVisible || !that.filterInput) {\n                    var current = that._focus();\n\n                    if (key === keys.HOME) {\n                        handled = true;\n                        that._firstItem();\n                    } else if (key === keys.END) {\n                        handled = true;\n                        that._lastItem();\n                    }\n\n                    if (handled) {\n                        if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                            that._focus(current);\n                            return;\n                        }\n\n                        that._select(that._focus(), true).done(function() {\n                            if (!isPopupVisible) {\n                                that._blur();\n                            }\n                        });\n                        e.preventDefault();\n                    }\n                }\n\n                if (!altKey && !handled && that.filterInput) {\n                    that._search();\n                }\n            },\n\n            _matchText: function(text, word) {\n                var ignoreCase = this.options.ignoreCase;\n\n                if (text === undefined$1 || text === null) {\n                    return false;\n                }\n\n                text = text + \"\";\n\n                if (ignoreCase) {\n                    text = text.toLowerCase();\n                }\n\n                return text.indexOf(word) === 0;\n            },\n\n            _shuffleData: function(data, splitIndex) {\n                var optionDataItem = this._optionLabelDataItem();\n\n                if (optionDataItem) {\n                    data = [optionDataItem].concat(data);\n                }\n\n                return data.slice(splitIndex).concat(data.slice(0, splitIndex));\n            },\n\n            _selectNext: function() {\n                var that = this;\n                var data = that.dataSource.flatView();\n                var dataLength = data.length + (that.hasOptionLabel() ? 1 : 0);\n                var isInLoop = sameCharsOnly(that._word, that._last);\n                var startIndex = that.selectedIndex;\n                var oldFocusedItem;\n                var text;\n\n                if (startIndex === -1) {\n                    startIndex = 0;\n                } else {\n                    startIndex += isInLoop ? 1 : 0;\n                    startIndex = normalizeIndex(startIndex, dataLength);\n                }\n\n                data = data.toJSON ? data.toJSON() : data.slice();\n                data = that._shuffleData(data, startIndex);\n\n                for (var idx = 0; idx < dataLength; idx++) {\n                    text = that._text(data[idx]);\n\n                    if (isInLoop && that._matchText(text, that._last)) {\n                        break;\n                    } else if (that._matchText(text, that._word)) {\n                        break;\n                    }\n                }\n\n                if (idx !== dataLength) {\n                    oldFocusedItem = that._focus();\n\n                    that._select(normalizeIndex(startIndex + idx, dataLength)).done(function() {\n                        var done = function() {\n                            if (!that.popup.visible()) {\n                                that._change();\n                            }\n                        };\n\n                        if (that.trigger(\"select\", { dataItem: that._getElementDataItem(that._focus()), item: that._focus() })) {\n                            that._select(oldFocusedItem).done(done);\n                        } else {\n                            done();\n                        }\n                    });\n                }\n            },\n\n            _keypress: function(e) {\n                var that = this;\n\n                if (e.which === 0 || e.keyCode === kendo.keys.ENTER) {\n                    return;\n                }\n\n                var character = String.fromCharCode(e.charCode || e.keyCode);\n\n                if (that.options.ignoreCase) {\n                    character = character.toLowerCase();\n                }\n\n                if (character === \" \") {\n                    e.preventDefault();\n                }\n\n                that._word += character;\n                that._last = character;\n\n                that._search();\n            },\n\n            _popupOpen: function(e) {\n                var popup = this.popup;\n\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                popup.wrapper = kendo.wrap(popup.element);\n\n                if (popup.element.closest(\".km-root\")[0]) {\n                    popup.wrapper.addClass(\"km-popup km-widget\");\n                    this.wrapper.addClass(\"km-widget\");\n                }\n            },\n\n            _popup: function() {\n                Select.fn._popup.call(this);\n                this.popup.one(\"open\", this._popupOpen.bind(this));\n            },\n\n            _getElementDataItem: function(element) {\n                if (!element || !element[0]) {\n                    return null;\n                }\n\n                if (element[0] === this.optionLabel[0]) {\n                    return this._optionLabelDataItem();\n                }\n\n                return this.listView.dataItemByIndex(this.listView.getElementIndex(element));\n            },\n\n            _click: function(e) {\n                var that = this;\n                var item = e.item || $(e.currentTarget);\n\n                e.preventDefault();\n\n                if (that.trigger(\"select\", { dataItem: that._getElementDataItem(item), item: item })) {\n                    that.close();\n                    return;\n                }\n\n                that._userTriggered = true;\n\n                that._select(item).done(function() {\n                    that._blur();\n                    that._focusElement(that.wrapper);\n                });\n            },\n\n            _focusElement: function(element) {\n                var active = activeElement();\n                var wrapper = this.wrapper;\n                var filterInput = this.filterInput;\n                var compareElement = element === filterInput ? wrapper : filterInput;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n                if (filterInput && filterInput[0] === element[0] && touchEnabled) {\n                    return;\n                }\n\n                if (filterInput && (compareElement[0] === active || this._focusFilter)) {\n                    this._focusFilter = false;\n                    this._prevent = true;\n                    this._focused = element.trigger(\"focus\");\n                }\n            },\n\n            _searchByWord: function(word) {\n                if (!word) {\n                    return;\n                }\n\n                var that = this;\n                var ignoreCase = that.options.ignoreCase;\n\n                if (ignoreCase) {\n                    word = word.toLowerCase();\n                }\n\n                that._select(function(dataItem) {\n                    return that._matchText(that._text(dataItem), word);\n                });\n            },\n\n            _inputValue: function() {\n                return this.text();\n            },\n\n            _search: function() {\n                var that = this;\n                var dataSource = that.dataSource;\n\n                clearTimeout(that._typingTimeout);\n\n                if (that._isFilterEnabled()) {\n                    that._typingTimeout = setTimeout(function() {\n                        var value = that.filterInput.val();\n\n                        if (that._prev !== value) {\n                            that._prev = value;\n                            that.search(value);\n                            that._resizeFilterInput();\n                        }\n\n                        that._typingTimeout = null;\n                    }, that.options.delay);\n                } else {\n                    that._typingTimeout = setTimeout(function() {\n                        that._word = \"\";\n                    }, that.options.delay);\n\n                    if (!that.listView.bound()) {\n                        dataSource.fetch().done(function() {\n                            that._selectNext();\n                        });\n                        return;\n                    }\n\n                    that._selectNext();\n                }\n            },\n\n            _get: function(candidate) {\n                var data, found, idx;\n                var isFunction = typeof candidate === \"function\";\n                var jQueryCandidate = !isFunction ? $(candidate) : $();\n\n                if (this.hasOptionLabel()) {\n                    if (typeof candidate === \"number\") {\n                        if (candidate > -1) {\n                            candidate -= 1;\n                        }\n                    } else if (jQueryCandidate.hasClass(\"k-list-optionlabel\")) {\n                        candidate = -1;\n                    }\n                }\n\n                if (isFunction) {\n                    data = this.dataSource.flatView();\n\n                    for (idx = 0; idx < data.length; idx++) {\n                        if (candidate(data[idx])) {\n                            candidate = idx;\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        candidate = -1;\n                    }\n                }\n\n                return candidate;\n            },\n\n            _firstItem: function() {\n                if (this.hasOptionLabel()) {\n                    this._focus(this.optionLabel);\n                } else {\n                    this.listView.focusFirst();\n                }\n            },\n\n            _lastItem: function() {\n                this._resetOptionLabel();\n                this.listView.focusLast();\n            },\n\n            _nextItem: function() {\n                var focusIndex;\n\n                if (this.optionLabel.hasClass(\"k-focus\")) {\n                    this._resetOptionLabel();\n                    this.listView.focusFirst();\n                    focusIndex = 1;\n                } else {\n                    focusIndex = this.listView.focusNext();\n                }\n\n                return focusIndex;\n            },\n\n            _prevItem: function() {\n                var focusIndex;\n\n                if (this.optionLabel.hasClass(\"k-focus\")) {\n                    return;\n                }\n\n                focusIndex = this.listView.focusPrev();\n\n                if (!this.listView.focus() && !this.options.virtual) {\n                    this._focus(this.optionLabel);\n                }\n\n                return focusIndex;\n            },\n\n            _focusItem: function() {\n                var options = this.options;\n                var listView = this.listView;\n                var focusedItem = listView.focus();\n                var index = listView.select();\n\n                index = index[index.length - 1];\n\n                if (index === undefined$1 && options.highlightFirst && !focusedItem) {\n                    index = 0;\n                }\n\n                if (index !== undefined$1) {\n                    listView.focus(index);\n                } else {\n                    if (options.optionLabel && (!options.virtual || options.virtual.mapValueTo !== \"dataItem\")) {\n                        this._focus(this.optionLabel);\n                        this._select(this.optionLabel);\n                        this.listView.content.scrollTop(0);\n                    } else {\n                        listView.scrollToIndex(0);\n                    }\n                }\n            },\n\n            _resetOptionLabel: function(additionalClass) {\n                this.optionLabel.removeClass(\"k-focus\" + (additionalClass || \"\")).removeAttr(\"id\");\n            },\n\n            _focus: function(candidate) {\n                var listView = this.listView;\n                var optionLabel = this.optionLabel;\n\n                if (candidate === undefined$1) {\n                    candidate = listView.focus();\n\n                    if (!candidate && optionLabel.hasClass(\"k-focus\")) {\n                        candidate = optionLabel;\n                    }\n\n                    return candidate;\n                }\n\n                this._resetOptionLabel();\n\n                candidate = this._get(candidate);\n\n                listView.focus(candidate);\n\n                if (candidate === -1) {\n                    optionLabel.addClass(\"k-focus\")\n                               .attr(\"id\", listView._optionID);\n\n                    if (this.filterInput) {\n                        this.filterInput\n                            .removeAttr(\"aria-activedescendant\")\n                            .attr(\"aria-activedescendant\", listView._optionID);\n                    }\n                }\n            },\n\n            _select: function(candidate, keepState) {\n                var that = this;\n\n                candidate = that._get(candidate);\n\n                return that.listView.select(candidate).done(function() {\n                    if (!keepState && that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n\n                    if (candidate === -1) {\n                        that._selectValue(null);\n                    }\n                });\n            },\n\n            _selectValue: function(dataItem) {\n                var that = this;\n                var optionLabel = that.options.optionLabel;\n                var idx = that.listView.select();\n\n                var value = \"\";\n                var text = \"\";\n\n                idx = idx[idx.length - 1];\n                if (idx === undefined$1) {\n                    idx = -1;\n                }\n\n                this._resetOptionLabel(\" k-selected\");\n\n                if (dataItem || dataItem === 0) {\n                    text = dataItem;\n                    value = that._dataValue(dataItem);\n                    if (optionLabel) {\n                        idx += 1;\n                    }\n                } else if (optionLabel) {\n                    that._focus(that.optionLabel.addClass(\"k-selected\"));\n\n                    text = that._optionLabelText();\n\n                    if (typeof optionLabel === \"string\") {\n                        value = \"\";\n                    } else {\n                        value = that._value(optionLabel);\n                    }\n\n                    idx = 0;\n                }\n\n                that.selectedIndex = idx;\n\n                if (value === null) {\n                    value = \"\";\n                }\n\n                that._textAccessor(text);\n                that._accessor(value, idx);\n\n                that._triggerCascade();\n            },\n\n            _mobile: function() {\n                var that = this,\n                    popup = that.popup,\n                    mobileOS = support.mobileOS,\n                    root = popup.element.parents(\".km-root\").eq(0);\n\n                if (root.length && mobileOS) {\n                    popup.options.animation.open.effects = (mobileOS.android || mobileOS.meego) ? \"fadeIn\" : (mobileOS.ios || mobileOS.wp) ? \"slideIn:up\" : popup.options.animation.open.effects;\n                }\n            },\n\n            _filterHeader: function() {\n                var filterTemplate = '<div class=\"k-list-filter\">' +\n                    '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                        kendo.ui.icon({ icon: \"search\", iconClass: \"k-input-icon\" }) +\n                    '</span>' +\n                '</div>';\n\n                if (this.filterInput) {\n                    this.filterInput\n                        .off(ns)\n                        .closest(\".k-list-filter\")\n                        .remove();\n\n                    this.filterInput = null;\n                }\n\n                if (this._isFilterEnabled()) {\n                    this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                        .attr({\n                            placeholder: this.element.attr(\"placeholder\"),\n                            title: this.options.filterTitle || this.element.attr(\"title\"),\n                            role: \"searchbox\",\n                            \"aria-label\": this.options.filterTitle,\n                            \"aria-haspopup\": \"listbox\",\n                            \"aria-autocomplete\": \"list\"\n                        });\n\n                    this.list\n                        .parent()\n                        .prepend($(filterTemplate))\n                        .find(\".k-searchbox\")\n                        .append(this.filterInput);\n                }\n            },\n\n            _span: function() {\n                var that = this,\n                    wrapper = that.wrapper,\n                    SELECTOR = \"span.k-input-value-text\",\n                    id = kendo.guid(),\n                    options = that.options,\n                    span, arrowBtn;\n\n                span = wrapper.find(SELECTOR);\n\n                if (!span[0]) {\n                    arrowBtn = html.renderButton('<span role=\"button\" class=\"k-input-button\" aria-label=\"select\"></span>', {\n                        icon: \"caret-alt-down\",\n                        size: options.size,\n                        fillMode: options.fillMode,\n                        shape: \"none\",\n                        rounded: \"none\"\n                    });\n\n                    wrapper.append('<span id=\"' + id + '\" unselectable=\"on\" class=\"k-input-inner\">' +\n                                '<span class=\"k-input-value-text\"></span>' +\n                            '</span>')\n                        .append(arrowBtn)\n                        .append(that.element);\n\n                    span = wrapper.find(SELECTOR);\n                }\n\n                that.span = span;\n                that._arrow = wrapper.find(\".k-input-button\");\n                that._arrowIcon = that._arrow.find(\".k-icon,.k-svg-icon\");\n            },\n\n            _wrapper: function() {\n                var that = this,\n                    element = that.element,\n                    DOMelement = element[0],\n                    wrapper;\n\n                wrapper = element.parent();\n\n                if (!wrapper.is(\"span.k-picker\")) {\n                    wrapper = element.wrap(\"<span />\").parent();\n                    wrapper[0].style.cssText = DOMelement.style.cssText;\n                    wrapper[0].title = DOMelement.title;\n                }\n\n                that._focused = that.wrapper = wrapper\n                    .addClass(\"k-picker k-dropdownlist\")\n                    .addClass(DOMelement.className)\n                    .removeClass('input-validation-error')\n                    .css(\"display\", \"\")\n                    .attr({\n                        accesskey: element.attr(\"accesskey\"),\n                        unselectable: \"on\",\n                        role: \"combobox\",\n                        \"aria-expanded\": false\n                    });\n\n                element.hide().removeAttr(\"accesskey\");\n            },\n\n            _clearSelection: function(parent) {\n                this.select(parent.value() ? 0 : -1);\n            },\n\n            _openHandler: function(e) {\n                this._adjustListWidth();\n\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr(\"aria-expanded\", true);\n                    this.ul.attr(\"aria-hidden\", false);\n                }\n            },\n\n            _closeHandler: function(e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this.wrapper.attr(\"aria-expanded\", false);\n                    this.ul.attr(\"aria-hidden\", true);\n                }\n            },\n\n            _inputTemplate: function() {\n                var that = this,\n                    template = that.options.valueTemplate;\n\n\n                if (!template) {\n                    template = function (data) { return encode(that._text(data)); };\n                } else {\n                    template = kendo.template(template);\n                }\n\n                that.valueTemplate = template;\n\n                if (that.hasOptionLabel() && !that.options.optionLabelTemplate) {\n                    try {\n                        that.valueTemplate(that._optionLabelDataItem());\n                    } catch (e) {\n                        throw new Error(MSG_INVALID_OPTION_LABEL);\n                    }\n                }\n            },\n\n            _textAccessor: function(text) {\n                var dataItem = null;\n                var template = this.valueTemplate;\n                var optionLabelText = this._optionLabelText();\n                var span = this.span;\n\n                if (text === undefined$1) {\n                    return span.text();\n                }\n\n                if ($.isPlainObject(text) || text instanceof ObservableObject) {\n                    dataItem = text;\n                } else if (optionLabelText && optionLabelText === text) {\n                    dataItem = this.options.optionLabel;\n                }\n\n                if (!dataItem) {\n                    dataItem = this._assignInstance(text, this._accessor());\n                }\n\n                if (this.hasOptionLabel()) {\n                    if (dataItem === optionLabelText || this._text(dataItem) === optionLabelText) {\n                        template = this.optionLabelTemplate;\n\n                        if (typeof this.options.optionLabel === \"string\" && !this.options.optionLabelTemplate) {\n                            dataItem = optionLabelText;\n                        }\n                    }\n                }\n\n                var getElements = function() {\n                    return {\n                        elements: span.get(),\n                        data: [ { dataItem: dataItem } ]\n                    };\n                };\n\n                this.angular(\"cleanup\", getElements);\n\n                try {\n                    span.html(template(dataItem));\n                } catch (e) {\n                    //dataItem has missing fields required in custom template\n                    span.html(\"\");\n                }\n\n                this.angular(\"compile\", getElements);\n            },\n\n            _preselect: function(value, text) {\n                if (!value && !text) {\n                    text = this._optionLabelText();\n                }\n\n                this._accessor(value);\n                this._textAccessor(text);\n\n                this._old = this._accessor();\n                this._oldIndex = this.selectedIndex;\n\n                this.listView.setValue(value);\n\n                this._initialIndex = null;\n                this._presetValue = true;\n            },\n\n            _assignInstance: function(text, value) {\n                var dataTextField = this.options.dataTextField;\n                var dataItem = {};\n\n                if (dataTextField) {\n                    assign(dataItem, dataTextField.split(\".\"), text);\n                    assign(dataItem, this.options.dataValueField.split(\".\"), value);\n                    dataItem = new ObservableObject(dataItem);\n                } else {\n                    dataItem = text;\n                }\n\n                return dataItem;\n            }\n        });\n\n        function assign(instance, fields, value) {\n            var idx = 0,\n                lastIndex = fields.length - 1,\n                field;\n\n            for (; idx < lastIndex; ++idx) {\n                field = fields[idx];\n\n                if (!(field in instance)) {\n                    instance[field] = {};\n                }\n\n                instance = instance[field];\n            }\n\n            instance[fields[lastIndex]] = value;\n        }\n\n        function normalizeIndex(index, length) {\n            if (index >= length) {\n                index -= length;\n            }\n            return index;\n        }\n\n        function sameCharsOnly(word, character) {\n            for (var idx = 0; idx < word.length; idx++) {\n                if (word.charAt(idx) !== character) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        ui.plugin(DropDownList);\n\n        kendo.cssProperties.registerPrefix(\"DropDownList\", \"k-picker-\");\n\n        kendo.cssProperties.registerValues(\"DropDownList\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n    })(window.kendo.jQuery);\n\n}));\n"]}