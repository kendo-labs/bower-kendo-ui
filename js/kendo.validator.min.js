/**
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.core.js")):"function"==typeof define&&define.amd?define(["kendo.core.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendovalidator=e.kendovalidator||{},e.kendovalidator.js=t())}(this,(function(){return function(e,t){var a=window.kendo,i=a.ui.Widget,r=".kendoValidator",n="k-invalid-msg",s=new RegExp(n,"i"),o="k-invalid",l="k-valid",u="k-validation-summary",d="k-text-error",c="k-messagebox k-messagebox-error",m="aria-invalid",h=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,p=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,f=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",g=":checkbox:not([disabled],[readonly])",F="[type=number],[type=range]",v="blur",_="name",y="form",k="novalidate",b="validate",C="change",D="validateInput",x=function(e,t){return"string"==typeof t&&(t=new RegExp("^(?:"+t+")$")),t.test(e)},A=function(e,t,a){var i=e.val();return!e.filter(t).length||""===i||x(i,a)},w=function(e,t){return!!e.length&&null!=e[0].attributes[t]};function E(t){return e.parseHTML?e(e.parseHTML(t)):e(t)}function S(t,i){for(var r,n=e(),o=0,l=t.length;o<l;o++)r=t[o],s.test(r.className)&&r.getAttribute(a.attr("for"))===i&&(n=n.add(r));return n}function I(e,t){return!!e&&("string"==typeof e.nodeName&&"LABEL"===e.nodeName&&("string"==typeof e.getAttribute("for")&&"string"==typeof t.getAttribute("id")&&e.getAttribute("for")===t.getAttribute("id")))}a.ui.validator||(a.ui.validator={rules:{},messages:{},allowSubmit:e.noop,validateOnInit:e.noop});var z=({errors:e})=>{let t="<ul>";for(var a=0;a<e.length;a+=1)t+=`<li><a data-field="${e[a].field}" href="#">${e[a].message}</a></li>`;return t+="</ul>",t},M=i.extend({init:function(t,r){var n=this,s=function(t){var i,r=a.ui.validator.ruleResolvers||{},n={};for(i in r)e.extend(!0,n,r[i].resolve(t));return n}(t),o="["+a.attr("validate")+"!=false]";(r=r||{}).rules=e.extend({},a.ui.validator.rules,s.rules,r.rules),r.messages=e.extend({},a.ui.validator.messages,s.messages,r.messages),i.fn.init.call(n,t,r),n._errorTemplate=a.template(n.options.errorTemplate),n._summaryTemplate=a.template(n.options.validationSummary.template||z),n.element.is(y)&&n.element.attr(k,k),n._inputSelector=f+o,n._checkboxSelector=g+o,n._errors={},n._attachEvents(),n._isValidated=!1,n._validateOnInit()&&n.validate()},events:[b,C,D],options:{name:"Validator",errorTemplate:({message:e})=>`<span class="k-form-error">${e}</span>`,messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(e){var t=!e.attr("name")&&!e.is(":checked"),a=e.attr("name"),i=a&&a.indexOf("'")>-1?'"':"'",r=e.attr("name")&&!this.element.find("input[name="+i+e.attr("name")+i+"]:checked").length,n=e.filter("[type=checkbox]").length&&(t||r),s=e.filter("[type=radio]").length&&!this.element.find("input[name="+i+e.attr("name")+i+"]:checked").length,o=e.val();return!(w(e,"required")&&(!o||""===o||0===o.length||n||s))},pattern:function(e){return!e.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===e.val()||x(e.val(),e.attr("pattern"))},min:function(e){return!e.filter(F+",["+a.attr("type")+"=number]").filter("[min]").length||""===e.val()||(parseFloat(e.attr("min"))||0)<=a.parseFloat(e.val())},max:function(e){return!e.filter(F+",["+a.attr("type")+"=number]").filter("[max]").length||""===e.val()||(parseFloat(e.attr("max"))||0)>=a.parseFloat(e.val())},step:function(e){if(e.filter(F+",["+a.attr("type")+"=number]").filter("[step]").length&&""!==e.val()){var t,i=parseFloat(e.attr("min"))||0,r=parseFloat(e.attr("step"))||1,n=parseFloat(e.val()),s=(o=((o=r)+"").split(".")).length>1?o[1].length:0;return s?(t=Math.pow(10,s),Math.floor((n-i)*t)%(r*t)/Math.pow(100,s)==0):(n-i)%r==0}var o;return!0},email:function(e){return A(e,"[type=email],["+a.attr("type")+"=email]",h)},url:function(e){return A(e,"[type=url],["+a.attr("type")+"=url]",p)},date:function(e){return!e.filter("[type^=date],["+a.attr("type")+"=date]").length||""===e.val()||null!==a.parseDate(e.val(),e.attr(a.attr("format")))},captcha:function(e){if(e.filter("["+a.attr("role")+"=captcha]").length){var t=this,i=a.widgetInstance(e),r=function(e){return null!=e};if(e.data("captcha_validating")||r(i.isValid())||!i.getCaptchaId()||(e.data("captcha_validating",!0),t._validating=!0,i.validate().done((function(){t._validating=!1,t._checkElement(e)})).fail((function(e){t._validating=!1,e.error&&"handler_not_defined"===e.error&&window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")}))),r(i.isValid()))return e.removeData("captcha_validating"),i.isValid()}return!0}},validateOnBlur:!0,validationSummary:!1},_allowSubmit:function(){return a.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return a.ui.validator.validateOnInit(this.element)},destroy:function(){i.fn.destroy.call(this),this.element.off(r),this.validationSummary&&(this.validationSummary.off(r),this.validationSummary=null)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(e){return!(!this.validate()&&!this._allowSubmit()||this._validating)||(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),!1)},_checkElement:function(e){var t=this.value();this.validateInput(e),this.value()!==t&&this.trigger(C)},_attachEvents:function(){var t=this;t.element.is(y)&&t.element.on("submit"+r,t._submit.bind(t)),t.options.validateOnBlur&&(t.element.is(f)?(t.element.on(v+r,(function(){t._checkElement(t.element)})),t.element.is(g)&&t.element.on("click"+r,(function(){t._checkElement(t.element)}))):(t.element.on(v+r,t._inputSelector,(function(){t._checkElement(e(this))})),t.element.on("click"+r,t._checkboxSelector,(function(){t._checkElement(e(this))}))))},validate:function(){var e,t,a,i=!1,r=this.value();if(this._errors={},this.element.is(f))i=this.validateInput(this.element);else{var n=!1;for(t=0,a=(e=this.element.find(this._inputSelector)).length;t<a;t++)this.validateInput(e.eq(t))||(n=!0);i=!n}return this.options.validationSummary&&!r&&this.showValidationSummary(),this.trigger(b,{valid:i,errors:this.errors()}),r!==i&&this.trigger(C),i},validateInput:function(t){t=e(t),this._isValidated=!0;var i,r,s=this,u=s._errorTemplate,c=s._checkValidity(t),h=c.valid,p="."+n,f=t.attr(_)||"",g=s._findMessageContainer(f).add(t.next(p).filter((function(){var t=e(this);return!t.filter("["+a.attr("for")+"]").length||t.attr(a.attr("for"))===f}))).addClass("k-hidden"),F=h?"":s._extractMessage(t,c.key),v=h?"":E(u({message:(r=F,r.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")),field:f})),y=!t.attr(m),k=t.is(".k-input-inner"),b=t.parent(".k-input");if(t.removeAttr(m),t.hasClass("k-hidden")&&(i=a.widgetInstance(t.closest(".k-signature"))),t.is("[type=radio]")&&(i=a.widgetInstance(t.closest(".k-radio-list"))),t.is("[type=checkbox]")&&(i=a.widgetInstance(t.closest(".k-checkbox-list"))),h||t.data("captcha_validating"))delete s._errors[f];else{s._errors[f]=F;var C=g.attr("id");if(s._decorateMessageContainer(v,f),C&&v.attr("id",C),0!==g.length)g.replaceWith(v);else{i=i||a.widgetInstance(t);var x=t.parent().get(0),A=t.next().get(0),w=t.prev().get(0);!i&&t.is("[type=radio]")&&(i=a.widgetInstance(t.closest(".k-radio-list"))),!i&&t.is("[type=checkbox]")&&(i=a.widgetInstance(t.closest(".k-checkbox-list"))),i&&i.wrapper&&(i.element!==i.wrapper||["Signature","RadioGroup","CheckBoxGroup"].indexOf(i.options.name)>-1)?v.insertAfter(i.wrapper):x&&"LABEL"===x.nodeName?v.insertAfter(x):A&&I(A,t[0])?v.insertAfter(A):w&&I(w,t[0])?v.insertAfter(t):k&&b.length?v.insertAfter(b):v.insertAfter(t)}v.removeClass("k-hidden"),t.attr(m,!0)}if(y!==h&&this.trigger(D,{valid:h,input:t,error:F,field:f}),(!(i=i&&"Signature"==i.options.name?i:a.widgetInstance(t))||!i._inputWrapper&&!i.wrapper||t.is("[type=checkbox]")||t.is("[type=radio]"))&&(t.toggleClass(o,!h),t.toggleClass(l,h)),i){var S=i._inputWrapper||i.wrapper,z=i._inputLabel;!S||t.is("[type=checkbox]")||t.is("[type=radio]")||(S.toggleClass(o,!h),S.toggleClass(l,h)),z&&z.toggleClass(d,!h)}if(y!==h){var M=v?v.attr("id"):g.attr("id");s._associateMessageContainer(t,M),this.options.validationSummary&&this.options.validateOnBlur&&this.showValidationSummary()}return h},hideMessages:function(){var e="."+n,t=this.element;this._disassociateMessageContainers(),t.is(f)?t.next(e).addClass("k-hidden"):t.find(e).addClass("k-hidden")},reset:function(){var e=this,t=e.element.find("."+o),a=e.element.find("."+d);e._errors=[],e.hideMessages(),e.hideValidationSummary(),t.removeAttr(m),t.removeClass(o),a.removeClass(d)},_findMessageContainer:function(t){for(var i,r=a.ui.validator.messageLocators,n=e(),s=0,o=this.element.length;s<o;s++)n=n.add(S(this.element[s].getElementsByTagName("*"),t));for(i in r)n=n.add(r[i].locate(this.element,t));return n},_decorateMessageContainer:function(e,t){var i,r=a.ui.validator.messageLocators;for(i in e.addClass(n).attr(a.attr("for"),t||""),e.attr("id")||e.attr("id",t+"-error"),r)r[i].decorate(e,t)},_extractMessage:function(e,t){var i,r=this.options.messages[t],n=e.attr(_);return a.ui.Validator.prototype.options.messages[t]||(i=a.isFunction(r)?r(e):r),r=a.isFunction(r)?r(e):r,a.format(e.attr(a.attr(t+"-msg"))||e.attr("validationMessage")||i||r||e.attr("title")||"",n,e.attr(t)||e.attr(a.attr(t)))},_checkValidity:function(e){var t,a=this.options.rules;for(t in a)if(!a[t].call(this,e))return{valid:!1,key:t};return{valid:!0}},errors:function(){var e,t=[],a=this._errors;for(e in a)t.push(a[e]);return t},setOptions:function(e){e.validationSummary&&this.hideValidationSummary(),a.deepExtend(this.options,e),this.destroy(),this.init(this.element,this.options),this._setEvents(this.options)},_getInputNames:function(){for(var t=this.element.find(this._inputSelector),a=[],i=0,r=t.length;i<r;i++){var n=e(t[i]);w(n,_)&&(-1===a.indexOf(n.attr(_))||0===n.closest(".k-checkbox-list").length&&0===n.closest(".k-radio-list").length)&&a.push(n.attr(_))}return a},_associateMessageContainer:function(e,t){var i=a.getWidgetFocusableElement(e);i&&t&&a.toggleAttribute(i,"aria-describedby",t)},_disassociateMessageContainers:function(){for(var t,a,i=this,r=i.element.find("."+o).addBack(),s=0;s<r.length;s+=1)(t=e(r[s])).is("input")&&(a=i._findMessageContainer(t.attr(_)).add(t.next("."+n)).attr("id"),i._associateMessageContainer(t,a))},_errorsByName:function(){for(var e=this,t=e._getInputNames(),a=[],i=0;i<t.length;i+=1){var r=t[i];e._errors[r]&&a.push({field:r,message:e._errors[r]})}return a},_renderSummary:function(){var t,a=this,i=this.options.validationSummary,n=this.element.prev();return(t=i.container?e(i.container):n&&n.hasClass(u)?n:e("<div />").insertBefore(a.element)).addClass([u,c].join(" ")),t.attr("role","alert"),t.on("click"+r,a._summaryClick.bind(a)),t},_summaryClick:function(t){t.preventDefault();var i,r=e(t.target),n=this.element.find("[name='"+r.data("field")+"']");n.length&&(i=a.getWidgetFocusableElement(n))&&i.trigger("focus")},showValidationSummary:function(){var e,t=this,a=t.validationSummary,i=t._errorsByName();a||(a=t.validationSummary=t._renderSummary()),e=E(t._summaryTemplate({errors:i})),a.html(e),a.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var e=this.validationSummary;e&&e.addClass("k-hidden")}});a.ui.plugin(M)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.validator.min.js.map
