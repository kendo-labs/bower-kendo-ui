/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendovalidator=t.kendovalidator||{},t.kendovalidator.js={}))}(this,(function(t){!function(t){let e=window.kendo,a=e.ui.Widget,i=".kendoValidator",n="k-invalid-msg",r=new RegExp(n,"i"),o="k-invalid",s="k-valid",l="k-validation-summary",d="k-text-error",u="k-messagebox k-messagebox-error",c="aria-invalid",m=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/i,h=["http:","https:","ftp:","ftps:"],p=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",f=":checkbox:not([disabled],[readonly])",g="[type=number],[type=range]",v="blur",_="name",y="form",k="novalidate",b="validate",S="change",x="validateInput",w=function(t,e){return"string"==typeof e&&(e=new RegExp("^(?:"+e+")$")),e.test(t)},C=function(t,e){return!!t.length&&null!=t[0].attributes[e]};function E(e){return t.parseHTML?t(t.parseHTML(e)):t(e)}function I(a,i){for(var n,o=t(),s=0,l=a.length;s<l;s++)n=a[s],r.test(n.className)&&n.getAttribute(e.attr("for"))===i&&(o=o.add(n));return o}function A(t,e){return!!t&&("string"==typeof t.nodeName&&"LABEL"===t.nodeName&&("string"==typeof t.getAttribute("for")&&"string"==typeof e.getAttribute("id")&&t.getAttribute("for")===e.getAttribute("id")))}e.ui.validator||(e.ui.validator={rules:{},messages:{},allowSubmit:t.noop,validateOnInit:t.noop});var M=({errors:t})=>{let e="<ul>";for(var a=0;a<t.length;a+=1)e+=`<li><a data-field="${t[a].field}" href="#">${t[a].message}</a></li>`;return e+="</ul>",e},V=a.extend({init:function(i,n){var r=this,o=function(a){var i,n=e.ui.validator.ruleResolvers||{},r={};for(i in n)t.extend(!0,r,n[i].resolve(a));return r}(i),s="["+e.attr("validate")+"!=false]";(n=n||{}).rules=t.extend({},e.ui.validator.rules,o.rules,n.rules),n.messages=t.extend({},e.ui.validator.messages,o.messages,n.messages),a.fn.init.call(r,i,n),r._errorTemplate=e.template(r.options.errorTemplate),r._summaryTemplate=e.template(r.options.validationSummary.template||M),r.element.is(y)&&r.element.attr(k,k),r._shouldSearchDocument=r.element.is(y)&&undefined!==r.element.attr("id"),r._containerElement=r._shouldSearchDocument?t(document):r.element,r._inputSelector=r._buildSelector(p,s),r._checkboxSelector=r._buildSelector(f,s),r._errors={},r._attachEvents(),r._isValidated=!1,r._validateOnInit()&&r.validate()},events:[b,S,x],options:{name:"Validator",errorTemplate:({message:t})=>`<span class="k-form-error">${t}</span>`,messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date",dateCompare:"End date should be greater than or equal to the start date",captcha:"The text you entered doesn't match the image."},rules:{required:function(t){let e=this._containerElement,a=!t.attr("name")&&!t.is(":checked"),i=t.attr("name"),n=i&&i.indexOf("'")>-1?'"':"'",r=t.attr("name")&&!e.find("input[name="+n+t.attr("name")+n+"]:checked").length,o=t.filter("[type=checkbox]").length&&(a||r),s=t.filter("[type=radio]").length&&!e.find("input[name="+n+t.attr("name")+n+"]:checked").length,l=t.val();return!(C(t,"required")&&(!l||""===l||0===l.length||o||s))},pattern:function(t){return!t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length||""===t.val()||w(t.val(),t.attr("pattern"))},min:function(t){return!t.filter(g+",["+e.attr("type")+"=number]").filter("[min]").length||""===t.val()||(parseFloat(t.attr("min"))||0)<=e.parseFloat(t.val())},max:function(t){return!t.filter(g+",["+e.attr("type")+"=number]").filter("[max]").length||""===t.val()||(parseFloat(t.attr("max"))||0)>=e.parseFloat(t.val())},step:function(t){if(t.filter(g+",["+e.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var a,i=parseFloat(t.attr("min"))||0,n=e.parseFloat(t.attr("step"))||1,r=parseFloat(t.val()),o=(s=((s=n)+"").split(".")).length>1?s[1].length:0;return o?(a=Math.pow(10,o),Math.floor((r-i)*a)%(n*a)/Math.pow(100,o)==0):(r-i)%n==0}var s;return!0},email:function(t){return function(t,e,a){var i=t.val();return!t.filter(e).length||""===i||w(i,a)}(t,"[type=email],["+e.attr("type")+"=email]",m)},url:function(t){if(t.filter("[type=url],["+e.attr("type")+"=url]").length&&""!==t.val())try{const e=new URL(t.val());return h.includes(e.protocol)}catch{return!1}return!0},date:function(t){return!t.filter("[type^=date],["+e.attr("type")+"=date]").length||""===t.val()||null!==e.parseDate(t.val(),t.attr(e.attr("format")))},captcha:function(t){if(t.filter("["+e.attr("role")+"=captcha]").length){var a=this,i=e.widgetInstance(t),n=function(t){return null!=t};if(t.data("captcha_validating")||n(i.isValid())||!i.getCaptchaId()||(t.data("captcha_validating",!0),a._validating=!0,i.validate().done((function(){a._validating=!1,a._checkElement(t)})).fail((function(t){a._validating=!1,t.error&&"handler_not_defined"===t.error&&window.console.warn("Captcha's validationHandler is not defined! You should either define a proper validation endpoint or declare a callback function to ensure the required behavior.")}))),n(i.isValid()))return t.removeData("captcha_validating"),i.isValid()}return!0}},validateOnBlur:!0,validationSummary:!1},_buildSelector:function(t,e){const a=`,[form="${this.element.attr("id")}"]`;let i=t+e;return this._shouldSearchDocument&&(i+=a),i},_allowSubmit:function(){return e.ui.validator.allowSubmit(this.element,this.errors())},_validateOnInit:function(){return e.ui.validator.validateOnInit(this.element)},destroy:function(){a.fn.destroy.call(this),this.element.off(i),this.validationSummary&&(this.validationSummary.off(i),this.validationSummary=null)},value:function(){return!!this._isValidated&&0===this.errors().length},_submit:function(t){return!(!this.validate()&&!this._allowSubmit()||this._validating)||(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_checkElement:function(t){var e=this.value();this.validateInput(t),this.value()!==e&&this.trigger(S)},_attachEvents:function(){const e=this,a=e._containerElement;e.element.is(y)&&e.element.on("submit"+i,e._submit.bind(e)),e.options.validateOnBlur&&(a.is(p)?(a.on(v+i,(function(){e._checkElement(e.element)})),a.is(f)&&a.on("click"+i,(function(){e._checkElement(e.element)}))):(a.on(v+i,e._inputSelector,(function(){e._checkElement(t(this))})),a.on("click"+i,e._checkboxSelector,(function(){e._checkElement(t(this))}))))},validate:function(){let t,e,a,i=!1,n=this._containerElement,r=this.value();if(this._errors={},this.element.is(p))i=this.validateInput(this.element);else{let r=!1;for(t=n.find(this._inputSelector),e=0,a=t.length;e<a;e++)this.validateInput(t.eq(e))||(r=!0);i=!r}return this.options.validationSummary&&!r&&this.showValidationSummary(),this.trigger(b,{valid:i,errors:this.errors()}),r!==i&&this.trigger(S),i},validateInput:function(a){if(a=t(a),!e.isEmpty(a.closest(".k-otp"))){let t=a.closest(".k-otp");a=t.find("input[data-role='otpinput']")}this._isValidated=!0;const i=this,r=i._errorTemplate,l=i._checkValidity(a),u=l.valid,m="."+n,h=a.attr(_)||"",p=i._findMessageContainer(h).add(a.next(m).filter((function(){let a=i._shouldSearchDocument?t(document):t(this);return!a.filter("["+e.attr("for")+"]").length||a.attr(e.attr("for"))===h}))).addClass("k-hidden"),f=u?"":i._extractMessage(a,l.key),g=u?"":E(r({message:(b=f,b.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")),field:h})),v=!a.attr(c),y=a.is(".k-input-inner"),k=a.parent(".k-input");var b;let S;if(a.removeAttr(c),a.hasClass("k-hidden")&&"otpinput"==a.attr("data-role")&&(S=e.widgetInstance(a)),a.hasClass("k-hidden")&&"otpinput"!=a.attr("data-role")&&(S=e.widgetInstance(a.closest(".k-signature"))),a.is("[type=radio]")&&(S=e.widgetInstance(a.closest(".k-radio-list"))),a.is("[type=checkbox]")&&(S=e.widgetInstance(a.closest(".k-checkbox-list"))),u||a.data("captcha_validating"))delete i._errors[h];else{i._errors[h]=f;let t=p.attr("id");if(i._decorateMessageContainer(g,h),t&&g.attr("id",t),0!==p.length)p.replaceWith(g);else{S=S||e.widgetInstance(a);let t=a.parent().get(0),i=a.next().get(0),n=a.prev().get(0);!S&&a.is("[type=radio]")&&(S=e.widgetInstance(a.closest(".k-radio-list"))),!S&&a.is("[type=checkbox]")&&(S=e.widgetInstance(a.closest(".k-checkbox-list"))),S&&S.wrapper&&(S.element!==S.wrapper||["Signature","RadioGroup","CheckBoxGroup"].indexOf(S.options.name)>-1)?g.insertAfter(S.wrapper):t&&"LABEL"===t.nodeName?g.insertAfter(t):i&&A(i,a[0])?g.insertAfter(i):n&&A(n,a[0])?g.insertAfter(a):y&&k.length?g.insertAfter(k):g.insertAfter(a)}g.removeClass("k-hidden"),a.attr(c,!0)}if(v!==u&&this.trigger(x,{valid:u,input:a,error:f,field:h}),S=S&&"Signature"==S.options.name?S:e.widgetInstance(a),(!S||!S._inputWrapper&&!S.wrapper||a.is("[type=checkbox]")||a.is("[type=radio]"))&&(a.toggleClass(o,!u),a.toggleClass(s,u)),S){let t=S.options.name,e=S._inputWrapper||S.wrapper,n=S._inputLabel;"OTPInput"==t?u?(S._removeInvalidState.bind(i),S._removeInvalidState(e,!0)):(S._addInvalidState.bind(i),S._addInvalidState(e,!0)):!e||a.is("[type=checkbox]")||a.is("[type=radio]")||(e.toggleClass(o,!u),e.toggleClass(s,u)),n&&n.toggleClass(d,!u)}if(v!==u){let t=g?g.attr("id"):p.attr("id");i._associateMessageContainer(a,t),this.options.validationSummary&&this.options.validateOnBlur&&this.showValidationSummary()}return u},hideMessages:function(){const t="."+n,e=this._containerElement;this._disassociateMessageContainers(),e.is(p)?e.next(t).addClass("k-hidden"):e.find(t).addClass("k-hidden")},reset:function(){const t=this,e=t._containerElement,a=e.find("."+o),i=e.find("."+d);t._errors=[],t.hideMessages(),t.hideValidationSummary(),a.removeAttr(c),a.removeClass(o),i.removeClass(d)},_findMessageContainer:function(a){let i,n=e.ui.validator.messageLocators,r=t();for(let t=0,e=this.element.length;t<e;t++){let e=this._shouldSearchDocument?document:this.element[t];r=r.add(I(e.getElementsByTagName("*"),a))}for(i in n)r=r.add(n[i].locate(this._containerElement,a));return r},_decorateMessageContainer:function(t,a){var i,r=e.ui.validator.messageLocators;for(i in t.addClass(n).attr(e.attr("for"),a||""),t.attr("id")||t.attr("id",a+"-error"),r)r[i].decorate(t,a)},_extractMessage:function(t,a){var i,n=this.options.messages[a],r=t.attr(_);return e.ui.Validator.prototype.options.messages[a]||(i=e.isFunction(n)?n(t):n),n=e.isFunction(n)?n(t):n,e.format(t.attr(e.attr(a+"-msg"))||t.attr("validationMessage")||i||n||t.attr("title")||"",r,t.attr(a)||t.attr(e.attr(a)))},_checkValidity:function(t){var e,a=this.options.rules;for(e in a)if(!a[e].call(this,t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],a=this._errors;for(t in a)e.push(a[t]);return e},setOptions:function(t){t.validationSummary&&this.hideValidationSummary(),e.deepExtend(this.options,t),this.destroy(),this.init(this.element,this.options),this._setEvents(this.options)},_getInputNames:function(){const e=this._containerElement.find(this._inputSelector);let a=[];for(let i=0,n=e.length;i<n;i++){let n=t(e[i]);C(n,_)&&(-1===a.indexOf(n.attr(_))||0===n.closest(".k-checkbox-list").length&&0===n.closest(".k-radio-list").length)&&a.push(n.attr(_))}return a},_associateMessageContainer:function(t,a){var i=e.getWidgetFocusableElement(t);i&&a&&e.toggleAttribute(i,"aria-describedby",a)},_disassociateMessageContainers:function(){for(var e,a,i=this,r=i.element.find("."+o).addBack(),s=0;s<r.length;s+=1)(e=t(r[s])).is("input")&&(a=i._findMessageContainer(e.attr(_)).add(e.next("."+n)).attr("id"),i._associateMessageContainer(e,a))},_errorsByName:function(){for(var t=this,e=t._getInputNames(),a=[],i=0;i<e.length;i+=1){var n=e[i];t._errors[n]&&a.push({field:n,message:t._errors[n]})}return a},_renderSummary:function(){var e,a=this,n=this.options.validationSummary,r=this.element.prev();return(e=n.container?t(n.container):r&&r.hasClass(l)?r:t("<div />").insertBefore(a.element)).addClass([l,u].join(" ")),e.attr("role","alert"),e.on("click"+i,a._summaryClick.bind(a)),e},_summaryClick:function(a){a.preventDefault();var i,n=t(a.target),r=this.element.find("[name='"+n.data("field")+"']");r.length&&(i=e.getWidgetFocusableElement(r))&&i.trigger("focus")},showValidationSummary:function(){var t,e=this,a=e.validationSummary,i=e._errorsByName();a||(a=e.validationSummary=e._renderSummary()),t=E(e._summaryTemplate({errors:i})),a.html(t),a.toggleClass("k-hidden",!i.length)},hideValidationSummary:function(){var t=this.validationSummary;t&&t.addClass("k-hidden")}});e.ui.plugin(V)}(window.kendo.jQuery);var e=kendo;t.__meta__={id:"validator",name:"Validator",category:"web",description:"The Validator offers an easy way to do a client-side form validation.",depends:["core"]},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.validator.min.js.map
