/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.popup.min"],t):t()}((function(){var t,i,e,n,o,a,s,p,d,c,l,u,r,f,h,g,m,_,k;t=window.kendo.jQuery,e=window.kendo,n=e.ui.Widget,o=t.extend,a=window.setTimeout,s="click",p="show",d="hide",c=".k-notification-wrap .k-i-close",l="k-hiding",u="info",r="top",f="left",h="right",g=".kendoNotification",_=(m='<div class="k-notification-wrap"><span class="k-icon k-i-#:typeIcon#" title="#:typeIcon#"></span><div class="k-notification-content">#=content#</div><span aria-hidden="true" class="#: closeButton ? "" : "k-hidden"# k-icon k-i-close" title="Hide"></span></div>').replace("#=content#","#:content#"),k=n.extend({init:function(i,o){var a=this;n.fn.init.call(a,i,o),(o=a.options).appendTo&&t(o.appendTo).is(i)||a.element.hide(),a._compileTemplates(o.templates),a._guid="_"+e.guid(),a._isRtl=e.support.isRtl(i),a._compileStacking(o.stacking,o.position.top,o.position.left),e.notify(a)},events:[p,d],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],title:null,animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(i){var n=this,o=e.template;n._compiled={},t.each(i,(function(i,e){n._compiled[e.type]=o(e.template||t("#"+e.templateId).html())})),n._defaultCompiled=o(m),n._safeCompiled=o(_)},_getCompiled:function(t,i){var e=i?this._safeCompiled:this._defaultCompiled;return t&&this._compiled[t]||e},_compileStacking:function(t,i,e){var n,o,a=this,s={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},p=null!==e?f:h;switch(t){case"down":n="bottom "+p,o="top "+p,delete s.paddingBottom;break;case h:n="top right",o="top left",delete s.paddingRight;break;case f:n="top left",o="top right",delete s.paddingLeft;break;case"up":n="top "+p,o="bottom "+p,delete s.paddingTop;break;default:null!==i?(n="bottom "+p,o="top "+p,delete s.paddingBottom):(n="top "+p,o="bottom "+p,delete s.paddingTop)}a._popupOrigin=n,a._popupPosition=o,a._popupPaddings=s},_attachPopupEvents:function(t,i){var e,n=this,o=t.allowHideAfter,p=!isNaN(o)&&o>0;function d(t){t.on(s+g,(function(){n._hidePopup(i)}))}t.hideOnClick?i.bind("activate",(function(){p?a((function(){d(i.element)}),o):d(i.element)})):t.button&&(e=i.element.find(c),p?a((function(){d(e)}),o):d(e))},_showPopup:function(i,n){var s,p,d=this,l=n.autoHideAfter,u=n.position.left,r=n.position.top;p=t("."+d._guid+":not(.k-hiding)").last(),s=new e.ui.Popup(i,{anchor:p[0]?p:document.body,origin:d._popupOrigin,position:d._popupPosition,animation:n.animation,copyAnchorStyles:!1,modal:!0,collision:"",isRtl:d._isRtl,close:function(){d._triggerHide(this.element)},deactivate:function(t){t.sender.element.off(g),t.sender.element.find(c).off(g),t.sender.destroy()}}),d._attachPopupEvents(n,s),i.removeClass("k-group k-reset"),p[0]?s.open():(null===u&&(u=t(window).width()-i.outerWidth()-n.position.right),null===r&&(r=t(window).height()-i.outerHeight()-n.position.bottom),s.open(u,r)),s.wrapper.addClass(d._guid).css(o({margin:0,zIndex:10050},d._popupPaddings)),n.position.pinned?(s.wrapper.css("position","fixed"),p[0]&&d._togglePin(s.wrapper,!0)):p[0]||d._togglePin(s.wrapper,!1),l>0&&a((function(){d._hidePopup(s)}),l)},_hidePopup:function(t){t.wrapper.addClass(l),t.close()},_togglePin:function(i,e){var n=t(window),o=e?-1:1;i.css({top:parseInt(i.css(r),10)+o*n.scrollTop(),left:parseInt(i.css(f),10)+o*n.scrollLeft()})},_attachStaticEvents:function(t,i){var e=this,n=t.allowHideAfter,o=!isNaN(n)&&n>0;function p(t){t.on(s+g,e._hideStatic.bind(e,i))}t.hideOnClick?o?a((function(){p(i)}),n):p(i):t.button&&(o?a((function(){p(i.find(c))}),n):p(i.find(c)))},_showStatic:function(i,n){var o=this,s=n.autoHideAfter,p=n.animation,d="up"==n.stacking||n.stacking==f?"prependTo":"appendTo";o._hideTimeouts||(o._hideTimeouts=[]),i.removeClass("k-popup").addClass(o._guid)[d](n.appendTo).hide().kendoAnimate(p.open||!1),o.getNotifications().each((function(i,p){o._attachStaticEvents(n,t(p)),s>0&&!t(p).attr(e.attr("has-hidetimeout"))&&(t(p).attr(e.attr("has-hidetimeout"),!0),o._hideTimeouts.push(a((function(){o._hideStatic(t(p))}),s)))}))},_hideStatic:function(t){t.kendoAnimate(o(this.options.animation.close||!1,{complete:function(){t.off(g).find(c).off(g),t.remove()}})),this._triggerHide(t)},_triggerHide:function(t){this.trigger(d,{element:t}),this.angular("cleanup",(function(){return{elements:t}}))},show:function(n,a,s){var d,c,l=this,r=l.options,f=t('<div role="alert" aria-live="polite" class="k-widget k-popup k-notification"></div>'),h=e.guid();return a||(a=u),f.attr("aria-label",a),null!==n&&n!==i&&""!==n&&(e.isFunction(n)&&(n=n()),c={typeIcon:a,content:"",closeButton:r.button},d=t.isPlainObject(n)?o(c,n):o(c,{content:n}),f.addClass("k-notification-"+a).toggleClass("k-notification-button",r.button).toggleClass("k-notification-closable",r.button).attr({"data-role":"alert",title:r.title}).css({width:r.width,height:r.height}).append(l._getCompiled(a,s)(d)),f.find(".k-notification-content").attr("id",h),f.attr("aria-describedby",h),l.angular("compile",(function(){return{elements:f,data:[{dataItem:d}]}})),t(r.appendTo)[0]?l._showStatic(f,r):l._showPopup(f,r),l.trigger(p,{element:f})),l},showText:function(t,i){this.show(t,i,!0)},info:function(t){return this.show(t,u)},success:function(t){return this.show(t,"success")},warning:function(t){return this.show(t,"warning")},error:function(t){return this.show(t,"error")},hide:function(){var i=this,e=i.getNotifications();return i.options.appendTo?(i._hideTimeouts&&i._hideTimeouts.forEach(clearTimeout),i._hideTimeouts=[],e.each((function(e,n){i._hideStatic(t(n))}))):e.each((function(e,n){var o=t(n).data("kendoPopup");o&&i._hidePopup(o)})),i},getNotifications:function(){var i=t("."+this._guid+":not(.k-hiding)");return this.options.appendTo?i:i.children(".k-notification")},setOptions:function(t){var e,o=this;n.fn.setOptions.call(o,t),e=o.options,t.templates!==i&&o._compileTemplates(e.templates),t.stacking===i&&t.position===i||o._compileStacking(e.stacking,e.position.top,e.position.left)},destroy:function(){n.fn.destroy.call(this),this.getNotifications().off(g).find(c).off(g)}}),e.ui.plugin(k)}));
//# sourceMappingURL=kendo.notification.min.js.map
