/**
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.mobile.view.js"),require("kendo.mobile.loader.js")):"function"==typeof define&&define.amd?define(["kendo.mobile.view.min","kendo.mobile.loader.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendomobile=e.kendomobile||{},e.kendomobile.pane=e.kendomobile.pane||{},e.kendomobile.pane.js=t())}(this,(function(){return function(e,t){var i=window.kendo,n=i.mobile,o=i.roleSelector,a=n.ui,r=a.Widget,s=n.ViewEngine,l=a.View,u=n.ui.Loader,d="external",c="href",h="navigate",p="viewShow",v="sameViewRequested",f=i.support.mobileOS,g=f.ios&&!f.appMode&&f.flatVersion>=700,w=/popover|actionsheet|modalview|drawer/,m=i.attrValue,b=r.extend({init:function(e,t){var n=this;r.fn.init.call(n,e,t),t=n.options,(e=n.element).addClass("km-pane"),n.options.collapsible&&e.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(e,t,i){var o=n.transition;return n.transition=null,g&&i&&(o="none"),n.viewEngine.showView(e,o,t)},this._historyNavigate=function(e){if("#:back"===e){if(1===n.history.length)return;n.history.pop(),e=n.history[n.history.length-1]}else n.history.push(e);n.historyCallback(e,i.parseQueryStringParams(e))},this._historyReplace=function(e){var t=i.parseQueryStringParams(e);n.history[n.history.length-1]=e,n.historyCallback(e,t)},n.loader=new u(e,{loading:n.options.loading}),n.viewEngine=new s({container:e,transition:t.transition,modelScope:t.modelScope,rootNeeded:!t.initial,serverNavigation:t.serverNavigation,remoteViewURLPrefix:t.root||"",layout:t.layout,$angular:t.$angular,loader:n.loader,showStart:function(){n.loader.transition(),n.closeActiveDialogs()},after:function(){n.loader.transitionDone()},viewShow:function(e){n.trigger(p,e)},loadStart:function(){n.loader.show()},loadComplete:function(){n.loader.hide()},sameViewRequested:function(){n.trigger(v)},viewTypeDetermined:function(e){e.remote&&n.options.serverNavigation||n.trigger(h,{url:e.url})}}),this._setPortraitWidth(),i.onResize((function(){n._setPortraitWidth()})),n._setupAppLinks()},closeActiveDialogs:function(){this.element.find(o("actionsheet popover modalview")).filter(":visible").each((function(){i.widgetInstance(e(this),a).close()}))},navigateToInitial:function(){var e=this.options.initial;return e&&this.navigate(e),e},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,modelScope:window,loading:"<h1>Loading...</h1>"},events:[h,p,v],append:function(e){return this.viewEngine.append(e)},destroy:function(){r.fn.destroy.call(this),this.viewEngine.destroy(),this.userEvents.destroy()},navigate:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyNavigate(e)},replace:function(e,t){e instanceof l&&(e=e.id),this.transition=t,this._historyReplace(e)},bindToRouter:function(e){var t=this,n=this.history,o=this.viewEngine;e.bind("init",(function(t){var a=t.url,r=e.pushState?a:"/";o.rootView.attr(i.attr("url"),r);var s=n.length;"/"===a&&s&&(e.navigate(n[s-1],!0),t.preventDefault())})),e.bind("routeMissing",(function(e){t.historyCallback(e.url,e.params,e.backButtonPressed)||e.preventDefault()})),e.bind("same",(function(){t.trigger(v)})),t._historyNavigate=function(t){e.navigate(t)},t._historyReplace=function(t){e.replace(t)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(e){this.loader.changeMessage(e)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var e,t=this.options.portraitWidth;t&&(e=i.mobile.application.element.is(".km-vertical")?t:"auto",this.element.css("width",e))},_setupAppLinks:function(){var t=this,n="[data-"+i.ns+"navigate-on-press]",a=e.map(["button","backbutton","detailbutton","listview-link"],(function(e){return o(e)+":not("+n+")"})).join(",");this.element.handler(this).on("down",o("tab")+","+n,"_mouseup").on("click",o("tab")+","+a+","+n,"_appLinkClick"),this.userEvents=new i.UserEvents(this.element,{fastTap:!0,filter:a,tap:function(e){e.event.currentTarget=e.touch.currentTarget,t._mouseup(e.event)}}),this.element.css("-ms-touch-action","")},_appLinkClick:function(t){var i=e(t.currentTarget).attr("href");i&&"#"!==i[0]&&this.options.serverNavigation||m(e(t.currentTarget),"rel")==d||t.preventDefault()},_mouseup:function(t){if(!(t.which>1||t.isDefaultPrevented())){var o=this,r=e(t.currentTarget),s=m(r,"transition"),l=m(r,"rel")||"",u=m(r,"target"),h=r.attr(c),p=g&&0===r[0].offsetHeight,v=h&&"#"!==h[0]&&this.options.serverNavigation;p||v||l===d||void 0===h||"#!"===h||(r.attr(c,"#!"),setTimeout((function(){r.attr(c,h)})),l.match(w)?(i.widgetInstance(e(h),a).openFor(r),"actionsheet"!==l&&"drawer"!==l||t.stopPropagation()):("_top"===u?o=n.application.pane:u&&(o=e("#"+u).data("kendoMobilePane")),o.navigate(h,s)),t.preventDefault())}}});b.wrap=function(e){e.is(o("view"))||(e=e.wrap("<div data-"+i.ns+'role="view" data-stretch="true"></div>').parent());var t=e.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),n=new b(t);return n.navigate(""),n},a.plugin(b)}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.mobile.pane.min.js.map
