/**
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.core.js"),require("kendo.selectable.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.selectable.min","kendo.icons.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendocalendar=e.kendocalendar||{},e.kendocalendar.js=t())}(this,(function(){return function(e,t){let a=window.kendo,n=a.support,l=a.ui,r=l.Widget,s=a.keys,i=a.parseDate,o=a.htmlEncode,c=a.date.adjustDST,u=a.date.weekInYear,d=a.ui.Selectable,g=a.ui.RangeSelectable,f=a._extractFormat,_=a.template,v=a.getCulture,h=a.support.transitions,p=h?h.css+"transform-origin":"",b=_((e=>`<td class="${e.cssClass}" role="gridcell"><span tabindex="-1" class="k-link" data-href="#" data-${e.ns}value="${e.dateString}">${e.value}</span></td>`)),m=_((()=>'<td role="gridcell" class="k-calendar-td k-empty"></td>')),k=_((()=>'<td role="gridcell" class="k-calendar-td k-empty">&nbsp;</td>')),D=_((e=>`<td class="k-calendar-td k-alt">${e.weekNumber}</td>`)),w=a._outerWidth,y=".kendoCalendar",S="click"+y,C="keydown"+y,x="id",T="slideIn",F="month",M="century",Y="change",A="navigate",O="value",$="k-disabled",R="k-focus",V="k-other-month",N="k-empty",B="td:has(.k-link)",E="start",I="td:has(.k-link):not(."+$+"):not(."+N+")",H="k-selected",z="blur"+y,P="focus",j=P+y,W=n.touch?"touchstart":"mouseenter",q=n.touch?"touchstart"+y:"mouseenter"+y,U=n.touch?"touchend"+y+" touchmove"+y:"mouseleave"+y,G=864e5,K="_prevArrow",L="_nextArrow",Q="aria-disabled",J="aria-selected",X="aria-label",Z=e.extend,ee=Date,te={month:0,year:1,decade:2,century:3},ae=".k-header, .k-calendar-header";var ne=r.extend({init:function(t,n){var l,s=this;(n=n||{}).componentType=n.componentType||"classic",r.fn.init.call(s,t,n),t=s.wrapper=s.element,(n=s.options).url=a.unescape(n.url),s.options.disableDates=ke(s.options.disableDates),s._templates(),s._selectable(),s._header(),s._viewWrapper(),s.options.hasFooter?s._footer(s.footer):(s._today=s.element.find(".k-calendar-nav-today"),s._toggle()),t.addClass("k-calendar k-calendar-md "+(n.weekNumber?" k-week-number":"")).on(q+" "+U,B,ve).on(C,"table.k-calendar-table",s._move.bind(s)).on(S+" touchend",I,(function(t){var a=t.currentTarget.firstChild,n=we(a);-1!=e(a).data("href").indexOf("#")&&t.preventDefault(),"month"==s._view.name&&s.options.disableDates(n)||("month"!=s._view.name||s._isSingleSelection())&&s._click(e(a))})).on("mouseup"+y,"table.k-calendar-table, .k-calendar-footer",(function(){s._focusView(!1!==s.options.focusOnNav)})).attr(x),s.options.weekNumber&&t.on(S,"td:not(:has(.k-link))",(function(t){var a=e(t.currentTarget).closest("tr").find(I).first(),n=e(t.currentTarget).closest("tr").find(I).last();s._isMultipleSelection()&&(s.selectable._lastActive=n,s.selectable.selectRange(a,n),s.selectable.trigger(Y,{event:t})),s._isRangeSelection()&&(s.rangeSelectable._lastActive=n,s.rangeSelectable.range(a,n),s.rangeSelectable.change()),s._current=s._value=we(n.find("span")),s._setCurrent(s._current)})),me(n),l=i(n.value,n.format,n.culture),s._selectDates=[],s._index=te[n.start],s._current=new ee(+ce(l,n.min,n.max)),s._addClassProxy=function(){if(s._active=!0,s._cell.hasClass($)){var e=s._view.toDateString(oe());s._cell=s._cellByDate(e)}s._cell.addClass(R)},s._removeClassProxy=function(){s._active=!1,s._cell&&s._cell.removeClass(R)},s.value(l),s._isMultipleSelection()&&n.selectDates.length>0&&s.selectDates(n.selectDates),s._range=n.range,s._isRangeSelection()&&s.selectRange(s._range),a.notify(s)},options:{name:"Calendar",value:null,min:new ee(1900,0,1),max:new ee(2099,11,31),dates:[],disableDates:null,allowReverse:!1,centuryCellsFormat:"long",url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,range:{start:null,end:null,target:E},selectable:"single",selectDates:[],start:F,depth:F,size:"medium",showOtherMonthDays:!0,animation:{horizontal:{effects:T,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:"",today:"Today",navigateTo:"Navigate to ",parentViews:{month:"year view",year:"decade view",decade:"century view"}},componentType:"classic"},events:[Y,A],componentTypes:{classic:{header:{template:({actionAttr:e,size:t,isRtl:n})=>`<div class="k-header k-hstack">\n            <span tabindex="-1" data-href="#" ${e}="prev" role="button" class="k-calendar-nav-prev k-button ${t} k-rounded-md k-button-flat k-button-flat-base k-icon-button" ${X}="Previous">${a.ui.icon({icon:"caret-alt-"+(n?"right":"left"),iconClass:"k-button-icon"})}</span></span>\n            <span tabindex="-1" data-href="#" ${e}="nav-up" id="`+a.guid()+`" role="button" class="k-calendar-nav-fast k-button ${t} k-rounded-md k-button-flat k-button-flat-base  k-flex"></span>\n            <span tabindex="-1" data-href="#" ${e}="next" role="button" class="k-calendar-nav-next k-button ${t} k-rounded-md k-button-flat k-button-flat-base  k-icon-button" ${X}="Next">${a.ui.icon({icon:"caret-alt-"+(n?"left":"right"),iconClass:"k-button-icon"})}</span>\n        </div>`},hasFooter:!0,linksSelector:".k-button",contentClasses:"k-calendar-table"},modern:{header:{template:({actionAttr:e,size:t,messages:n,isRtl:l})=>`<div class="k-calendar-header">\n            <button ${e}="nav-up" id="`+a.guid()+`" class="k-calendar-title k-button ${t} k-button-flat k-button-flat-primary k-rounded-md">\n                <span class="k-button-text"></span>\n            </button>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav">\n                <button tabindex="-1" ${e}=${l?"next":"prev"} class="k-calendar-nav-prev k-button ${t} k-button-flat k-button-flat-base k-rounded-md k-icon-button">\n                    ${a.ui.icon({icon:"chevron-"+(l?"right":"left"),iconClass:"k-button-icon"})}\n                </button>\n                <button tabindex="-1" ${e}="today" class="k-calendar-nav-today k-button ${t} k-button-flat k-button-flat-primary k-rounded-md" role="link">\n                    <span class="k-button-text">${a.htmlEncode(n.today)}</span>\n                </button>\n                <button tabindex="-1" ${e}=${l?"prev":"next"} class="k-calendar-nav-next k-button ${t} k-button-flat k-button-flat-base k-rounded-md k-icon-button">\n                    ${a.ui.icon({icon:"chevron-"+(l?"left":"right"),iconClass:"k-button-icon"})}\n                </button>\n            </span>\n        </div>`},hasFooter:!1,linksSelector:".k-button",contentClasses:"k-calendar-table"}},setOptions:function(t){var a=this;me(t),t.disableDates=ke(t.disableDates),a._destroySelectable(),t.messages&&(t.messages=e.extend({},!0,a.options.messages,t.messages)),r.fn.setOptions.call(a,t),a._templates(),a._selectable(),a._viewWrapper(),a.options.hasFooter?a._footer(a.footer):(a.element.find(".k-calendar-footer").hide(),a._toggle()),a._index=te[a.options.start],a.navigate(),t.weekNumber&&a.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(y),e._title.off(y),e[K].off(y),e[L].off(y),e._destroySelectable(),a.destroy(e._table),t&&a.destroy(t.off(y)),r.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.trigger("focus")},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(K,-1)},navigateToFuture:function(){this._navigate(L,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass($)||e.navigate(e._current,++t)},navigateDown:function(e){var t=this,a=t._index,n=t.options.depth;e&&(a!==te[n]?t.navigate(e,--a):De(t._value,t._current)&&De(t._value,e)||(t.value(e),t.trigger(Y)))},navigate:function(a,n){n=isNaN(n)?te[n]:n;var l,r,s,i,c=this,u=c.options,d=u.culture,g=u.min,f=u.max,_=c._title,v=c._table,h=c._oldTable,p=c._current,b=a&&+a>+p,m=n!==t&&n!==c._index,k=c.element.children(".k-calendar-view");if(a||(a=p),c._current=a=new ee(+ce(a,g,f)),n===t?n=c._index:c._index=n,c._view=r=le.views[n],s=r.compare,i=n===te[M],_.toggleClass($,i).attr(Q,i),i=s(a,g)<1,c[K].toggleClass($,i).attr(Q,i),i=s(a,f)>-1,c[L].toggleClass($,i).attr(Q,i),v&&h&&h.data("animating")&&(h.kendoStop(!0,!0),v.kendoStop(!0,!0)),c._oldTable=v,!v||c._changeView){_.html('<span class="k-button-text">'+r.title(a,g,f,d)+"</span>"),c.options.messages.parentViews&&c._view.name!==M?_.attr("title",o(c.options.messages.navigateTo+c.options.messages.parentViews[c._view.name])):_.removeAttr("title"),c._table=l=e(r.content(Z({min:g,max:f,date:a,url:u.url,dates:u.dates,format:u.format,showOtherMonthDays:u.showOtherMonthDays,centuryCellsFormat:u.centuryCellsFormat,culture:d,disableDates:u.disableDates,isWeekColumnVisible:u.weekNumber,messages:u.messages,contentClasses:c.options.contentClasses},c[r.name]))),c._aria();var D=v&&v.data("start")===l.data("start");c._animate({from:v,to:l,vertical:m,future:b,replace:D}),k.removeClass("k-calendar-monthview k-calendar-yearview k-calendar-decadeview k-calendar-centuryview"),k.addClass("k-calendar-"+r.name+"view"),c.trigger(A),c._focus(a)}n===te[u.depth]&&c._selectDates.length>0&&c._visualizeSelectedDatesInView(),c._isSingleSelection()&&n===te[u.depth]&&c._value&&!c.options.disableDates(c._value)&&c._selectCell(c._value),c._setCurrent(a),!v&&c._cell&&c._cell.removeClass(R),c._changeView=!0},selectDates:function(a){var n,l,r=this;if(a===t)return r._selectDates;l=a.map((function(e){return e.getTime()})).filter((function(e,t,a){return a.indexOf(e)===t})).map((function(e){return new Date(e)})),n=e.grep(l,(function(e){if(e)return+r._validateValue(new Date(e.setHours(0,0,0,0)))==+e})),r._selectDates=n.length>0?n:0===l.length?l:r._selectDates,r._visualizeSelectedDatesInView()},value:function(e){var a=this,n=a._view,l=a._view;if(e===t)return a._value;if((e=a._validateValue(e))&&a._isMultipleSelection()){var r=new Date(+e);r.setHours(0,0,0,0),a._selectDates=[r],a.selectable._lastActive=null}n&&null===e&&a._cell?a._cell.removeClass(H):(a._changeView=!e||l&&0!==l.compare(e,a._current),a.navigate(e))},isRtl:function(){return a.support.isRtl(this.wrapper)},_aria:function(){var e=this._table;e.attr("aria-labelledby",this._title.attr("id")),"month"===this._view.name&&this._isMultipleSelection()&&e.attr("aria-multiselectable","true")},_validateValue:function(e){var a=this,n=a.options,l=n.min,r=n.max;return null===e&&(a._current=pe(a._current.getFullYear(),a._current.getMonth(),a._current.getDate())),null!==(e=i(e,n.format,n.culture))&&(ue(e=new ee(+e),l,r)||(e=null)),null!==e&&a.options.disableDates(new Date(+e))?a._value===t&&(a._value=null):a._value=e,a._value},_visualizeSelectedDatesInView:function(){var t=this,n={};e.each(t._selectDates,(function(e,t){n[a.calendar.views[0].toDateString(t)]=t})),t.selectable.clear();var l=t._table.find(B).filter((function(t,l){return n[e(l.firstChild).attr(a.attr(O))]}));l.length>0&&t.selectable._selectElement(l,!0)},_isSingleSelection:function(){let e=this.options.selectable;return d.parseOptions(e).single},_isMultipleSelection:function(){let e=this.options.selectable;return d.parseOptions(e).multiple},_isRangeSelection:function(){let e=this.options.selectable;return d.parseOptions(e).range},_selectable:function(){let e=this,t=e.options.selectable,a=d.parseOptions(t);(e._isMultipleSelection()||e._isRangeSelection())&&(e.rangeSelectable&&(e.rangeSelectable.destroy(),e.rangeSelectable=null),a.range?(e.rangeSelectable=new g(e.wrapper,{widget:e,filter:".k-calendar-monthview table "+I,cellSelector:B,cellSelectorValid:I,change:e._onSelect.bind(e),reverse:e.options.allowReverse,resetOnStart:!0,ns:y}),e.element.addClass("k-calendar-range")):e.selectable=new d(e.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,span.k-svg-icon.k-svg-i-caret-alt-down,span.k-svg-icon.k-svg-i-caret-alt-up",multiple:a.multiple,filter:"table.k-calendar-table:eq(0) "+I,change:e._onSelect.bind(e),relatedTarget:e._onRelatedTarget.bind(e)}))},_restoreSelection:function(){const e=this;let t;if(e._preventChange=!0,e._isRangeSelection()){if(t=e.selectRange(),!t||!t.start)return void(e._preventChange=!1);e.selectRange(t)}e._preventChange=!1},selectRange:function(e){const a=this,n=a._view;let l,r,s;if(e===t)return a._range;a._range=e,e.start&&(s=a._visibleRange(),l=a._dateInViews(e.start),r=e.end&&a._dateInViews(e.end),!l&&r&&a.rangeSelectable.selectTo(a._cellByDate(n.toDateString(e.end))),l&&r&&a.rangeSelectable.range(a._cellByDate(n.toDateString(e.start)),a._cellByDate(n.toDateString(e.end)),!1,a.options.allowReverse),e.end&&l&&!r&&a.rangeSelectable.selectFrom(a._cellByDate(n.toDateString(e.start))),!e.end&&l&&a.rangeSelectable.start(a._cellByDate(n.toDateString(e.start))),+s.start>+e.start&&+s.end<+e.end&&a.rangeSelectable.mid(a.element.find(I)))},_onRelatedTarget:function(e){var t=this;t.selectable.options.multiple&&e.is(I)&&(t._current=we(e.find("span")),t._setCurrent(t._current))},_onSelect:function(t){let a,n,l,r,s,i,o=this,c=t,u=t.sender._useEnd,g=t.sender._useStart,f=d.parseOptions(o.options.selectable);if(o._isRangeSelection())return a=t.sender.range(),n=o.selectRange()||{},i=n.target,a.start&&a.start.length&&(l=we(a.start.find("span"))),a.end&&a.end.length&&(r=we(a.end.find("span"))),i="end"===i?E:"end",o._range={start:g?n.start:l,end:u?n.end:r,target:i},o._preventChange||o.trigger(Y),s=r||l,r&&!o._dateInViews(r)&&(s=l),o.selectRange(o._range),void o.value(s);f.multiple?(c.event.ctrlKey||c.event.metaKey?e(c.event.currentTarget).is(I)?o._toggleSelection(e(c.event.currentTarget)):(o._cellsBySelector(I).each((function(t,a){var n=we(e(a).find("span"));o._deselect(n)})),o._addSelectedCellsToArray()):c.event.shiftKey?o._rangeSelection(o._cell):e(c.event.currentTarget).is(B)?o.value(we(e(c.event.currentTarget).find("span"))):(o._selectDates=[],o._addSelectedCellsToArray()),o.trigger(Y)):e(c.event.currentTarget).is("td")&&!e(c.event.currentTarget).hasClass("k-selected")?e(c.event.currentTarget).addClass("k-selected"):o._click(e(c.event.currentTarget).find("span"))},_destroySelectable:function(){var e=this;e.selectable&&(e.selectable.destroy(),e.selectable=null),e.rangeSelectable&&(e.rangeSelectable.destroy(),e.rangeSelectable=null)},_toggleSelection:function(e){var t=we(e.find("span"));e.hasClass("k-selected")?this._selectDates.push(t):this._deselect(t)},_rangeSelection:function(e,t){var a,n=this,l=t||we(n.selectable.value().first().find("span")),r=we(e.find("span"));n.selectable._lastActive||n._value?l=n.selectable._lastActive?we(n.selectable._lastActive.find("span")):new Date(+n._value):n.selectable._lastActive=t?n._cellByDate(n._view.toDateString(t),I):n.selectable.value().first(),n._selectDates=[],a=fe(l,r),_e(n._selectDates,a,l,n.options.disableDates),n._visualizeSelectedDatesInView()},_visibleRange:function(){let e=this.element.find(".k-calendar-view table");return{start:we(e.first().find(B).first().find("span")),end:we(e.last().find(B).last().find("span"))}},_cellsBySelector:function(e){return this._table.find(e)},_addSelectedCellsToArray:function(){var t=this;t.selectable.value().each((function(a,n){var l=we(e(n.firstChild));t.options.disableDates(l)||t._selectDates.push(l)}))},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_dateInView:function(e){var t=we(this._cellsBySelector(I).first().find("span"));return+e<=+we(this._cellsBySelector(I).last().find("span"))&&+e>=+t},_isNavigatable:function(e,t){var a,n=this,l=n.options.disableDates;return"month"==n._view.name?!l(e):(a=n.wrapper.find("."+R).index(),n.wrapper.find(".k-calendar-table td").eq(a+t).is(I)||!l(e))},_dateInViews:function(e){let t=this.element.find(".k-calendar-view table"),a=we(t.first().find(B).first().find("span")),n=we(t.last().find(B).last().find("span"));return+(e=new Date(e.toDateString()))<=+n&&+e>=+a},_move:function(a){var n,l,r,i,o,c,u=this,d=u.options,g=a.keyCode,f=u._view,_=u._index,v=u.options.min,h=u.options.max,p=new ee(+u._current),b=u.isRtl(),m=u.options.disableDates;if(a.target===u._table[0]&&(u._active=!0),g==s.RIGHT&&!b||g==s.LEFT&&b?(n=1,l=!0):g==s.LEFT&&!b||g==s.RIGHT&&b?(n=-1,l=!0):g==s.UP?(n=0===_?-7:-4,l=!0):g==s.DOWN?(n=0===_?7:4,l=!0):g==s.SPACEBAR?(n=0,l=!0):g==s.HOME||g==s.END?(i=f[r=g==s.HOME?"first":"last"](p),(p=new ee(i.getFullYear(),i.getMonth(),i.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())).setFullYear(i.getFullYear()),l=!0):84===g&&(u._todayClick(a),l=!0),a.ctrlKey||a.metaKey){if(g==s.RIGHT&&!b||g==s.LEFT&&b)u.navigateToFuture(),l=!0;else if(g==s.LEFT&&!b||g==s.RIGHT&&b)u.navigateToPast(),l=!0;else if(g==s.UP)u.navigateUp(),l=!0;else if(g==s.DOWN)u._click(e(u._cell[0].firstChild)),l=!0;else if((g==s.ENTER||g==s.SPACEBAR)&&u._isMultipleSelection()){u._keyboardToggleSelection(a);var k=we(e(u._cell[0]).find("span"));u._setCurrent(k)}}else a.shiftKey?((n!==t||r)&&(r||f.setDate(p,n),ue(p,v,h)||(p=ce(p,d.min,d.max)),m(p)&&(p=u._nextNavigatable(p,n)),v=pe(v.getFullYear(),v.getMonth(),v.getDate()),u._isMultipleSelection()?u._keyboardRangeSelection(a,p):u._isRangeSelection()?u._dateInViews(p)||(n>0?u.navigateToFuture():u.navigateToPast()):u._focus(p)),u.rangeSelectable&&(o=u._cellByDate(f.toDateString(p)),c=we((u.rangeSelectable._lastActive||undefined).find("span")),u._dateInViews(c)?(u.rangeSelectable._end&&u.rangeSelectable._end.is("."+R)?u.rangeSelectable._lastActive=u.rangeSelectable._start:u.rangeSelectable._lastActive=u._cellByDate(f.toDateString(c)),u.rangeSelectable.range(u.rangeSelectable._lastActive,o)):+c>+p?(u.rangeSelectable._end=u.rangeSelectable._lastActive,u.rangeSelectable.selectFrom(o)):u.rangeSelectable.selectTo(o),u.rangeSelectable.change(),u._setCurrent(p))):(g==s.ENTER||g==s.SPACEBAR?("month"==f.name&&u._isMultipleSelection()?(u.value(we(e(u._cell.find("span")))),u.selectable._lastActive=e(u._cell[0]),u.trigger(Y)):u.rangeSelectable?u.rangeSelectable.change():u._click(e(u._cell[0].firstChild)),l=!0):g==s.PAGEUP?(l=!0,u.navigateToPast()):g==s.PAGEDOWN&&(l=!0,u.navigateToFuture()),(n||r)&&(r||f.setDate(p,n),ue(p,v=pe(v.getFullYear(),v.getMonth(),v.getDate()),h)||(p=ce(p,d.min,d.max)),u._isNavigatable(p,n)||(p=u._nextNavigatable(p,n)),u._isMultipleSelection()?u._dateInView(p)?(u._current=p,u._setCurrent(p)):u.navigate(p):u._focus(p)));return l&&a.preventDefault(),u._current},_keyboardRangeSelection:function(e,t){var a,n,l=this;if(!l._dateInView(t))return l._selectDates=[],n=fe(a=l.selectable._lastActive?we(l.selectable._lastActive.find("span")):t,new Date(+t)),_e(l._selectDates,n,a,l.options.disableDates),l.navigate(t),l._current=t,l.selectable._lastActive=l.selectable._lastActive||l._cellByDate(l._view.toDateString(t),I),void l.trigger(Y);l.selectable.options.filter=l.wrapper.find("table").length>1&&+t>+l._current?"table.k-calendar-table:eq(1) "+I:"table.k-calendar-table:eq(0) "+I,l._setCurrent(t),l._current=t,l._rangeSelection(l._cellByDate(l._view.toDateString(t),I),t),l.trigger(Y),l.selectable.options.filter="table.k-calendar-table:eq(0) "+I},_keyboardToggleSelection:function(t){var a=this;t.currentTarget=a._cell[0],a.selectable._lastActive=e(a._cell[0]),e(a._cell[0]).hasClass(H)?a.selectable._unselect(e(a._cell[0])):a.selectable.value(e(a._cell[0])),a.selectable.trigger(Y,{event:t})},_nextNavigatable:function(e,t){var a=this,n=!0,l=a._view,r=a.options.min,s=a.options.max,i=a.options.disableDates,o=new Date(e.getTime());for(l.setDate(o,-t);n;){if(l.setDate(e,t),!ue(e,r,s)){e=o;break}n=i(e)}return e},_animate:function(e){var t=this,a=e.from,n=e.to,l=t._active,r=t.element.children(".k-calendar-view");a?a.parent().data("animating")?(a.off(y),a.parent().kendoStop(!0,!0).remove(),a.remove(),r.append(n),t._focusView(l)):!a.is(":visible")||!1===t.options.animation||e.replace?(n.insertAfter(a),a.off(y).remove(),t._focusView(l)):t[e.vertical?"_vertical":"_horizontal"](a,n,e.future):(r.append(n),t._bindTable(n))},_horizontal:function(e,t,a){var n=this,l=n._active,r=n.options.animation.horizontal,s=r.effects,i=w(e),o=w(e,!0)-i;s&&-1!=s.indexOf(T)&&(e.add(t).css({width:i}),e.wrap("<div/>"),n._focusView(l,e),e.parent().css({position:"relative",width:2*i+2*o,display:"flex","margin-left":a?0:-i-o}),t[a?"insertAfter":"insertBefore"](e),Z(r,{effects:T+":"+(a?"right":"left"),complete:function(){e.off(y).remove(),n._oldTable=null,t.unwrap(),n._focusView(l)}}),e.parent().kendoStop(!0,!0).kendoAnimate(r))},_vertical:function(e,t){var a,n,l=this,r=l.options.animation.vertical,s=r.effects,i=l._active;s&&-1!=s.indexOf("zoom")&&(t.insertBefore(e),e.css({position:"absolute",width:t.width()}),p&&(n=(n=(a=l._cellByDate(l._view.toDateString(l._current))).position()).left+parseInt(a.width()/2,10)+"px "+(n.top+parseInt(a.height()/2,10))+"px",t.css(p,n)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(y).remove(),l._oldTable=null,l._focusView(i)}}),t.kendoStop(!0,!0).kendoAnimate(r))},_cellByDate:function(t,n){return this._table.find(n||"td:not(."+V+")").filter((function(){return e(this.firstChild).attr(a.attr(O))===t}))},_selectCell:function(e){var t=this,a=t._selectedCell,n=t._view.toDateString(e);a&&a[0]&&(a[0].removeAttribute(J),a.removeClass(H)),a=t._cellByDate(n,B),t._selectedCell=a,a.addClass(H).attr(J,!0)},_setCurrent:function(e){var t=this,n=a.guid(),l=t._cell,r=t._view.toDateString(e);l&&l[0]&&(l.removeClass(R),l[0].removeAttribute(X),l[0].removeAttribute(x)),l=t._cellByDate(r,t._isMultipleSelection()?B:"td:not(."+V+")"),t._cell=l,l.attr(x,n).addClass(R),t._table[0]&&(t._table[0].removeAttribute("aria-activedescendant"),t._table.attr("aria-activedescendant",n))},_bindTable:function(e){e.on(j,this._addClassProxy).on(z,this._removeClassProxy)},_click:function(e){var t=this,a=t.options,n=new Date(+t._current),l=we(e);c(l,0),"month"==t._view.name&&t.options.disableDates(l)&&(l=t._value),t._view.setDate(n,l),t.navigateDown(ce(n,a.min,a.max))},_focus:function(e){var t=this;0!==t._view.compare(e,t._current)?t.navigate(e):(t._current=e,t._setCurrent(e))},_focusView:function(e,t){e&&this.focus(t)},_viewWrapper:function(){var t=this.element,a=t.children(".k-calendar-view");a[0]||(a=e("<div class='k-calendar-view k-align-items-start k-justify-content-center k-hstack' />").insertAfter(t.find(ae)))},_footer:function(t){var n=this,l=oe(),r=n.element,s=r.find(".k-calendar-footer");if(!t)return n._toggle(!1),void s.hide();s[0]||(s=e('<div class="k-calendar-footer">\n                    <button tabindex="-1" class="k-calendar-nav-today k-flex k-button k-button-md k-button-flat k-button-flat-primary k-rounded-md" role="link">\n                        <span class="k-button-text"></span>\n                    </button>\n                </div>').appendTo(r)),n._today=s.show().find(".k-button-flat-primary").attr("title",a.toString(l,"D",n.options.culture)),s.find(".k-button-text").html(t(l)),n._toggle()},_header:function(){var t=this,n=t.element,l=t.options.linksSelector;n.find(ae)[0]||n.html(a.template(t.options.header.template)(e.extend(!0,{},t.options,{actionAttr:a.attr("action"),size:a.getValidCssClass("k-button-","size",t.options.size),isRtl:t.isRtl()}))),n.find(l).on(S+" touchend"+y,(function(){return!1})),t._title=n.find("["+a.attr("action")+'="nav-up"]').on(S+" touchend"+y,(function(){t._active=!1!==t.options.focusOnNav,t.navigateUp()})),t[K]=n.find("["+a.attr("action")+'="prev"]').on(S+" touchend"+y,(function(){t._active=!1!==t.options.focusOnNav,t.navigateToPast()})),t[L]=n.find("["+a.attr("action")+'="next"]').on(S+" touchend"+y,(function(){t._active=!1!==t.options.focusOnNav,t.navigateToFuture()})),n.find("["+a.attr("action")+'="today"]').on(S+" touchend"+y,t._todayClick.bind(t))},_navigate:function(e,t){var a=this,n=a._index+1,l=new ee(+a._current);a._isMultipleSelection()&&(l=we(a._table.find("td:not(."+V+"):not(."+N+")").has(".k-link").first().find("span")),a._current=new Date(+l));(e=a[e]).hasClass($)||(n>3?l.setFullYear(l.getFullYear()+100*t):le.views[n].setDate(l,t),a.navigate(l),a._restoreSelection())},_option:function(e,a){var n,l=this,r=l.options,s=l._value||l._current;if(a===t)return r[e];(a=i(a,r.format,r.culture))&&(r[e]=new ee(+a),((n="min"===e?a>s:s>a)||function(e,t){if(e)return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth();return!1}(s,a))&&(n&&(l._value=null),l._changeView=!0),l._changeView||(l._changeView=!(!r.month.content&&!r.month.empty)),l.navigate(l._value),l._toggle())},_toggle:function(e){var a=this,n=a.options,l=a.options.disableDates(oe()),r=a._today,s=a._todayClass();e===t&&(e=ue(oe(),n.min,n.max)),r&&(r.off(S),e&&!l?r.addClass(s).removeClass($).on(S,a._todayClick.bind(a)):r.removeClass(s).addClass($).on(S,he))},_todayClass:function(){return"k-calendar-nav-today"},_todayClick:function(e){var t=this,a=te[t.options.depth],n=t.options.disableDates,l=oe();e.preventDefault(),n(l)||(0===t._view.compare(t._current,l)&&t._index==a&&(t._changeView=!1),t._isMultipleSelection()&&(t._selectDates=[l],t.selectable._lastActive=null),t._value=l,t.navigate(l,a),t.trigger(Y))},_templates:function(){var e=this,t=e.options,n=t.footer,l=t.month,r=l.content,s=l.weekNumber,i=l.empty,o=e=>`${a.toString(e,"D",t.culture)}`;e.month={content:e=>`<td class="${e.cssClass}" role="gridcell"><span tabindex="-1" class="k-link ${e.linkClass}" data-href="${e.url}" ${a.attr(O)}="${e.dateString}" title="${e.title}">${ye(r,e)||e.value}</span></td>`,empty:e=>`<td role="gridcell">${ye(i,e)||"&nbsp;"}</td>`,weekNumber:e=>`<td class="k-calendar-td k-alt">${ye(s,e)||e.weekNumber}</td>`},e.year={content:_((e=>`<td class="${e.cssClass}" role="gridcell"><span tabindex="-1" class="k-link" data-href="#" data-${e.ns}value="${e.dateString}" aria-label="${e.label}">${e.value}</span></td>`))},n&&!0!==n&&(o=n),e.footer=!1!==n?_(o,{useWithBlock:!1}):null},_updateAria:function(e,t){var n,l=this,r=l._cell,s=l.view().valueType(),i=t||l.current();return n="month"===s?a.toString(i,"MMMM"):"date"===s?a.toString(i,"D"):r.text(),r.attr("aria-label",e({current:i,valueType:s,text:n})),r.attr("id")}});l.plugin(ne);var le={firstDayOfMonth:function(e){return pe(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){var n=(t=t||a.culture().calendar).firstDay,l=new ee(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());for(l.setFullYear(e.getFullYear());l.getDay()!=n;)le.setTime(l,-864e5);return l},setTime:function(e,t){var a=e.getTimezoneOffset(),n=new ee(e.getTime()+t),l=n.getTimezoneOffset()-a;e.setTime(n.getTime()+6e4*l)},views:[{name:F,title:function(e,t,a,n){return be(n).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=this,n=0,l=e.min,r=e.max,s=e.date,i=e.dates,d=e.format,g=e.culture,f=e.url,_=e.showHeader,v=e.showOtherMonthDays,h=e.isWeekColumnVisible,p=f&&i[0],b=be(g),m=b.firstDay,k=b.days,D=de(k.names,m),w=de(k.namesShort,m),y=le.firstVisibleDay(s,b),S=t.first(s),C=t.last(s),x=t.toDateString,T=oe(),F='<table tabindex="0" role="grid" class="'+e.contentClasses+'" cellspacing="0" data-start="'+x(y)+'">';for(_&&(F+='<caption class="k-calendar-caption k-month-header">'+this.title(s,l,r,g)+"</caption>"),F+='<thead class="k-calendar-thead"><tr role="row" class="k-calendar-tr">',h&&(F+='<th scope="col" class="k-calendar-th k-alt">'+o(e.messages.weekColumnHeader)+"</th>");n<7;n++)F+='<th scope="col" class="k-calendar-th" aria-label="'+D[n]+'">'+w[n]+"</th>";return c(T,0),T=+T,se({cells:42,perRow:7,html:F+='</tr></thead><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">',start:pe(y.getFullYear(),y.getMonth(),y.getDate()),isWeekColumnVisible:h,weekNumber:e.weekNumber,min:pe(l.getFullYear(),l.getMonth(),l.getDate()),max:pe(r.getFullYear(),r.getMonth(),r.getDate()),showOtherMonthDays:v,content:e.content,lastDayOfMonth:C,empty:e.empty,setter:t.setDate,disableDates:e.disableDates,build:function(e,t,n){var l=["k-calendar-td"],r=e.getDay(),s="",o="#";return(e<S||e>C)&&l.push(V),n(e)&&l.push($),+e===T&&l.push("k-today"),0!==r&&6!==r||l.push("k-weekend"),p&&function(e,t){for(var a=0,n=t.length;a<n;a++)if(e===+t[a])return!0;return!1}(+e,i)&&(o=f.replace("{0}",a.toString(e,d,g)),s=" k-action-link"),{date:e,dates:i,ns:a.ns,title:a.toString(e,"D",g),value:e.getDate(),dateString:x(e),cssClass:l.join(" "),linkClass:s,url:o}},weekNumberBuild:function(e){return{weekNumber:u(e,a.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return le.firstDayOfMonth(e)},last:function(e){var t=pe(e.getFullYear(),e.getMonth()+1,0),a=le.firstDayOfMonth(e),n=Math.abs(t.getTimezoneOffset()-a.getTimezoneOffset());return n&&t.setHours(a.getHours()+n/60),t},compare:function(e,t){var a=e.getMonth(),n=e.getFullYear(),l=t.getMonth(),r=t.getFullYear();return n>r?1:n<r?-1:a==l?0:a>l?1:-1},setDate:function(e,t){var a=e.getHours();t instanceof ee?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):le.setTime(e,t*G),c(e,a)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()},valueType:function(){return"date"}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=be(e.culture).months,n=t.namesAbbr,l=t.names,r=this.toDateString,s=e.min,i=e.max,o="";return e.showHeader&&(o+='<table tabindex="0" role="grid" class="k-calendar-table" cellspacing="0">',o+='<caption class="k-calendar-caption k-meta-header">',o+=this.title(e.date),o+="</caption>",o+='<tbody class="k-calendar-tbody">',o+='<tr role="row" class="k-calendar-tr">'),se({min:pe(s.getFullYear(),s.getMonth(),1),max:pe(i.getFullYear(),i.getMonth(),1),start:pe(e.date.getFullYear(),0,1),html:o,setter:this.setDate,content:e.content,build:function(e){return{value:n[e.getMonth()],label:l[e.getMonth()],ns:a.ns,dateString:r(e),cssClass:["k-calendar-td"].join(" ")}}})},first:function(e){return pe(e.getFullYear(),0,e.getDate())},last:function(e){return pe(e.getFullYear(),11,e.getDate())},compare:function(e,t){return ie(e,t)},setDate:function(e,t){var a,n=e.getHours();t instanceof ee?(a=t.getMonth(),e.setFullYear(t.getFullYear(),a,e.getDate()),a!==e.getMonth()&&e.setDate(0)):(a=e.getMonth()+t,e.setMonth(a),a>11&&(a-=12),a>0&&e.getMonth()!=a&&e.setDate(0)),c(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"},valueType:function(){return"month"}},{name:"decade",title:function(e,t,a){return re(e,t,a,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString,l="";return e.showHeader&&(l+='<table tabindex="0" role="grid" class="k-calendar-table" cellspacing="0">',l+='<caption class="k-meta-header">',l+=this.title(e.date,e.min,e.max),l+="</caption>",l+='<tbody class="k-calendar-thead">',l+='<tr role="row" class="k-calendar-tr">'),se({start:pe(t-t%10,0,1),min:pe(e.min.getFullYear(),0,1),max:pe(e.max.getFullYear(),0,1),showOtherMonthDays:e.showOtherMonthDays,html:l,setter:this.setDate,build:function(e,t){var l=["k-calendar-td"];return 10!==t&&11!==t||l.push(N),{value:e.getFullYear(),ns:a.ns,dateString:n(e),cssClass:l.join(" ")}}})},first:function(e){var t=e.getFullYear();return pe(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return pe(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return ie(e,t,10)},setDate:function(e,t){ge(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"},valueType:function(){return"year"}},{name:M,title:function(e,t,a){return re(e,t,a,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),l=e.max.getFullYear(),r=this.toDateString,s=n,i=l,o="";return(i-=i%10)-(s-=s%10)<10&&(i=s+9),e.showHeader&&(o+='<table tabindex="0" role="grid" class="k-calendar-table" cellspacing="0">',o+='<caption class="k-calendar-caption k-meta-header">',o+=this.title(e.date,e.min,e.max),o+="</caption>",o+='<tbody class="k-calendar-tbody">',o+='<tr role="row" class="k-calendar-tr">'),se({start:pe(t-t%100,0,1),min:pe(s,0,1),max:pe(i,0,1),showOtherMonthDays:e.showOtherMonthDays,html:o,setter:this.setDate,build:function(t,s){var i=["k-calendar-td"],o=t.getFullYear(),c=o+9;return 10!==s&&11!==s||i.push(N),o<n&&(o=n),c>l&&(c=l),{ns:a.ns,value:"long"===e.centuryCellsFormat?`${o} - ${c}`:o,dateString:r(t),cssClass:i.join(" ")}}})},first:function(e){var t=e.getFullYear();return pe(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return pe(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return ie(e,t,100)},setDate:function(e,t){ge(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"},valueType:function(){return"decade"}}]};function re(e,t,a,n){var l,r=e.getFullYear(),s=t.getFullYear(),i=a.getFullYear();return l=(r-=r%n)+(n-1),r<s&&(r=s),l>i&&(l=i),r+"-"+l}function se(e){var t,a=0,n=e.min,l=e.max,r=e.start,s=e.setter,i=e.build,o=e.weekNumberBuild,u=e.cells||12,d=e.isWeekColumnVisible,g=e.perRow||4,f=e.showOtherMonthDays,_=e.lastDayOfMonth,v=e.weekNumber||D,h=e.content||b,p=e.empty||m,w=e.otherMonthCellTemplate||k,y=e.html||'<table tabindex="0" role="grid" class="k-calendar-table" cellspacing="0"><tbody class="k-calendar-tbody"><tr role="row" class="k-calendar-tr">';for(d&&(y+=v(o(r)));a<u;a++)a>0&&a%g==0&&(y+='</tr><tr role="row" class="k-calendar-tr">',d&&(y+=v(f||+r<=+_?o(r):{weekNumber:"&nbsp;"}))),r=pe(r.getFullYear(),r.getMonth(),r.getDate()),c(r,0),-1===(t=i(r,a,e.disableDates)).cssClass.indexOf(V)||f?ue(r,n,l)&&-1===t.cssClass.indexOf(N)?y+=h(t):y+=p(t):y+=w(t),s(r,1);return y+"</tr></tbody></table>"}function ie(e,t,a){var n=e.getFullYear(),l=t.getFullYear(),r=l,s=0;return a&&(r=(l-=l%a)-l%a+a-1),n>r?s=1:n<l&&(s=-1),s}function oe(){var e=new ee;return new ee(e.getFullYear(),e.getMonth(),e.getDate())}function ce(e,t,a){var n=oe();return e&&(n=new ee(+e)),t>n?n=new ee(+t):a<n&&(n=new ee(+a)),n}function ue(e,t,a){return+e>=+t&&+e<=+a}function de(e,t){return e.slice(t).concat(e.slice(0,t))}function ge(e,t,a){t=t instanceof ee?t.getFullYear():e.getFullYear()+a*t,e.setFullYear(t)}function fe(e,t){if(+t<+e){var n=+e;le.views[0].setDate(e,t),le.views[0].setDate(t,new Date(n))}var l=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+r-+l)/a.date.MS_PER_DAY)}function _e(e,t,a,n){for(var l=0;l<=t;l++){var r=new Date(a.getTime());n(r=new Date(r.setDate(r.getDate()+l)))||e.push(r)}}function ve(t){e(this).hasClass("k-disabled")||e(this).toggleClass("k-hover",W.indexOf(t.type)>-1||t.type==P)}function he(e){e.preventDefault()}function pe(e,t,a){var n=new ee(e,t,a);return n.setFullYear(e,t,a),n}function be(e){return v(e).calendars.standard}function me(e){var a=te[e.start],n=te[e.depth],l=v(e.culture);e.format=f(e.format||l.calendars.standard.patterns.d),isNaN(a)&&(a=0,e.start=F),(n===t||n>a)&&(e.depth=F),null===e.dates&&(e.dates=[])}function ke(t){return a.isFunction(t)?t:Array.isArray(t)?function(e){var t,a=[],n=["su","mo","tu","we","th","fr","sa"];e[0]instanceof ee?(a=function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].setHours(0,0,0,0));return t}(e),t=e=>!!(e&&a.indexOf(new Date(e).setHours(0,0,0,0))>-1)):(a=e.map((e=>{e=e.slice(0,2).toLowerCase();let t=n.indexOf(e);if(t>-1)return t})),t=e=>!!(e&&a.indexOf(new Date(e).getDay())>-1));return t}(t):e.noop}function De(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t}function we(t){var n=e(t).attr(a.attr(O)).split("/");return n=pe(n[0],n[1],n[2])}function ye(e,n){return e?a.isFunction(e)?e(n):_(e)(n):t}le.isEqualDatePart=function(e,t){return!!e&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},le.isEqualDate=De,le.restrictValue=ce,le.isInRange=ue,le.normalize=me,le.viewsEnum=te,le.disabled=ke,le.toDateObject=we,le.getToday=oe,le.createDate=pe,a.calendar=le}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.calendar.min.js.map
