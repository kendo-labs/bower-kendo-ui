/**
 * Copyright 2014 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Copyright 2014 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e,t){function n(e,t,n,i){var a,o=e.getFullYear(),r=t.getFullYear(),s=n.getFullYear();return o-=o%i,a=o+(i-1),r>o&&(o=r),a>s&&(a=s),o+"-"+a}function i(e){for(var t,n=0,i=e.min,a=e.max,o=e.start,r=e.setter,l=e.build,c=e.cells||12,u=e.perRow||4,d=e.content||A,f=e.empty||O,h=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';c>n;n++)n>0&&n%u===0&&(h+='</tr><tr role="row">'),t=l(o,n),h+=s(o,i,a)?d(t):f(t),r(o,1);return h+"</tr></tbody></table>"}function a(e,t,n){var i=e.getFullYear(),a=t.getFullYear(),o=a,r=0;return n&&(a-=a%n,o=a-a%n+n-1),i>o?r=1:a>i&&(r=-1),r}function o(){var e=new gt;return new gt(e.getFullYear(),e.getMonth(),e.getDate())}function r(e,t,n){var i=o();return e&&(i=new gt(+e)),t>i?i=new gt(+t):i>n&&(i=new gt(+n)),i}function s(e,t,n){return+e>=+t&&+n>=+e}function l(e,t){return e.slice(t).concat(e.slice(0,t))}function c(e,t,n){t=t instanceof gt?t.getFullYear():e.getFullYear()+n*t,e.setFullYear(t)}function u(t){e(this).toggleClass(G,it.indexOf(t.type)>-1||t.type==tt)}function d(e){e.preventDefault()}function f(e){return S(e).calendars.standard}function h(e){var n=pt[e.start],i=pt[e.depth],a=S(e.culture);e.format=D(e.format||a.calendars.standard.patterns.d),isNaN(n)&&(n=0,e.start=R),(i===t||i>n)&&(e.depth=R),e.dates||(e.dates=[])}function g(e){V&&e.find("*").attr("unselectable","on")}function p(e,t){for(var n=0,i=t.length;i>n;n++)if(e===+t[n])return!0;return!1}function v(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate():!1}function m(e,t){return e?e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth():!1}var b,_=window.kendo,k=_.support,w=_.ui,y=w.Widget,x=_.keys,C=_.parseDate,M=_.date.adjustDST,D=_._extractFormat,T=_.template,S=_.getCulture,F=_.support.transitions,$=F?F.css+"transform-origin":"",A=T('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),O=T('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),B=_.support.browser,V=B.msie&&9>B.version,E=".kendoCalendar",L="click"+E,P="keydown"+E,N="id",Y="min",H="left",I="slideIn",R="month",W="century",j="change",U="navigate",z="value",G="k-state-hover",q="k-state-disabled",Z="k-state-focused",Q="k-other-month",J=' class="'+Q+'"',K="k-nav-today",X="td:has(.k-link)",et="blur"+E,tt="focus",nt=tt+E,it=k.touch?"touchstart":"mouseenter",at=k.touch?"touchstart"+E:"mouseenter"+E,ot=k.touch?"touchend"+E+" touchmove"+E:"mouseleave"+E,rt=6e4,st=864e5,lt="_prevArrow",ct="_nextArrow",ut="aria-disabled",dt="aria-selected",ft=e.proxy,ht=e.extend,gt=Date,pt={month:0,year:1,decade:2,century:3},vt=y.extend({init:function(t,n){var i,a,o=this;y.fn.init.call(o,t,n),t=o.wrapper=o.element,n=o.options,n.url=window.unescape(n.url),o._templates(),o._header(),o._footer(o.footer),a=t.addClass("k-widget k-calendar").on(at+" "+ot,X,u).on(P,"table.k-content",ft(o._move,o)).on(L,X,function(t){var n=t.currentTarget.firstChild;-1!=n.href.indexOf("#")&&t.preventDefault(),o._click(e(n))}).on("mouseup"+E,"table.k-content, .k-footer",function(){o._focusView(o.options.focusOnNav!==!1)}).attr(N),a&&(o._cellID=a+"_cell_selected"),h(n),i=C(n.value,n.format,n.culture),o._index=pt[n.start],o._current=new gt(+r(i,n.min,n.max)),o._addClassProxy=function(){o._active=!0,o._cell.addClass(Z)},o._removeClassProxy=function(){o._active=!1,o._cell.removeClass(Z)},o.value(i),_.notify(o)},options:{name:"Calendar",value:null,min:new gt(1900,0,1),max:new gt(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:R,depth:R,animation:{horizontal:{effects:I,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[j,U],setOptions:function(e){var t=this;h(e),e.dates[0]||(e.dates=t.options.dates),y.fn.setOptions.call(t,e),t._templates(),t._footer(t.footer),t._index=pt[t.options.start],t.navigate()},destroy:function(){var e=this,t=e._today;e.element.off(E),e._title.off(E),e[lt].off(E),e[ct].off(E),_.destroy(e._table),t&&_.destroy(t.off(E)),y.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option(Y,e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(lt,-1)},navigateToFuture:function(){this._navigate(ct,1)},navigateUp:function(){var e=this,t=e._index;e._title.hasClass(q)||e.navigate(e._current,++t)},navigateDown:function(e){var n=this,i=n._index,a=n.options.depth;if(e)return i===pt[a]?(+n._value!=+e&&(n.value(e),n.trigger(j)),t):(n.navigate(e,--i),t)},navigate:function(n,i){i=isNaN(i)?pt[i]:i;var a,o,s,l,c=this,u=c.options,d=u.culture,f=u.min,h=u.max,p=c._title,v=c._table,m=c._oldTable,_=c._value,k=c._current,w=n&&+n>+k,y=i!==t&&i!==c._index;n||(n=k),c._current=n=new gt(+r(n,f,h)),i===t?i=c._index:c._index=i,c._view=o=b.views[i],s=o.compare,l=i===pt[W],p.toggleClass(q,l).attr(ut,l),l=s(n,f)<1,c[lt].toggleClass(q,l).attr(ut,l),l=s(n,h)>-1,c[ct].toggleClass(q,l).attr(ut,l),v&&m&&m.data("animating")&&(m.kendoStop(!0,!0),v.kendoStop(!0,!0)),c._oldTable=v,(!v||c._changeView)&&(p.html(o.title(n,f,h,d)),c._table=a=e(o.content(ht({min:f,max:h,date:n,url:u.url,dates:u.dates,format:u.format,culture:d},c[o.name]))),g(a),c._animate({from:v,to:a,vertical:y,future:w}),c._focus(n),c.trigger(U)),i===pt[u.depth]&&_&&c._class("k-state-selected",o.toDateString(_)),c._class(Z,o.toDateString(n)),!v&&c._cell&&c._cell.removeClass(Z),c._changeView=!0},value:function(e){var n=this,i=n._view,a=n.options,o=n._view,r=a.min,l=a.max;return e===t?n._value:(e=C(e,a.format,a.culture),null!==e&&(e=new gt(+e),s(e,r,l)||(e=null)),n._value=e,o&&null===e&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!e||i&&0!==i.compare(e,n._current),n.navigate(e)),t)},_move:function(t){var n,i,a,o,s=this,l=s.options,c=t.keyCode,u=s._view,d=s._index,f=new gt(+s._current),h=_.support.isRtl(s.wrapper);return t.target===s._table[0]&&(s._active=!0),t.ctrlKey?c==x.RIGHT&&!h||c==x.LEFT&&h?(s.navigateToFuture(),i=!0):c==x.LEFT&&!h||c==x.RIGHT&&h?(s.navigateToPast(),i=!0):c==x.UP?(s.navigateUp(),i=!0):c==x.DOWN&&(s._click(e(s._cell[0].firstChild)),i=!0):(c==x.RIGHT&&!h||c==x.LEFT&&h?(n=1,i=!0):c==x.LEFT&&!h||c==x.RIGHT&&h?(n=-1,i=!0):c==x.UP?(n=0===d?-7:-4,i=!0):c==x.DOWN?(n=0===d?7:4,i=!0):c==x.ENTER?(s._click(e(s._cell[0].firstChild)),i=!0):c==x.HOME||c==x.END?(a=c==x.HOME?"first":"last",o=u[a](f),f=new gt(o.getFullYear(),o.getMonth(),o.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),i=!0):c==x.PAGEUP?(i=!0,s.navigateToPast()):c==x.PAGEDOWN&&(i=!0,s.navigateToFuture()),(n||a)&&(a||u.setDate(f,n),s._focus(r(f,l.min,l.max)))),i&&t.preventDefault(),s._current},_animate:function(e){var t=this,n=e.from,i=e.to,a=t._active;n?n.parent().data("animating")?(n.off(E),n.parent().kendoStop(!0,!0).remove(),n.remove(),i.insertAfter(t.element[0].firstChild),t._focusView(a)):n.is(":visible")&&t.options.animation!==!1?t[e.vertical?"_vertical":"_horizontal"](n,i,e.future):(i.insertAfter(n),n.off(E).remove(),t._focusView(a)):(i.insertAfter(t.element[0].firstChild),t._bindTable(i))},_horizontal:function(e,t,n){var i=this,a=i._active,o=i.options.animation.horizontal,r=o.effects,s=e.outerWidth();r&&-1!=r.indexOf(I)&&(e.add(t).css({width:s}),e.wrap("<div/>"),i._focusView(a,e),e.parent().css({position:"relative",width:2*s,"float":H,"margin-left":n?0:-s}),t[n?"insertAfter":"insertBefore"](e),ht(o,{effects:I+":"+(n?"right":H),complete:function(){e.off(E).remove(),i._oldTable=null,t.unwrap(),i._focusView(a)}}),e.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(e,t){var n,i,a=this,o=a.options.animation.vertical,r=o.effects,s=a._active;r&&-1!=r.indexOf("zoom")&&(t.css({position:"absolute",top:e.prev().outerHeight(),left:0}).insertBefore(e),$&&(n=a._cellByDate(a._view.toDateString(a._current)),i=n.position(),i=i.left+parseInt(n.width()/2,10)+"px "+(i.top+parseInt(n.height()/2,10)+"px"),t.css($,i)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(E).remove(),a._oldTable=null,t.css({position:"static",top:0,left:0}),a._focusView(s)}}),t.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(t){return this._table.find("td:not(."+Q+")").filter(function(){return e(this.firstChild).attr(_.attr(z))===t})},_class:function(t,n){var i=this,a=i._cellID,o=i._cell;o&&o.removeAttr(dt).removeAttr("aria-label").removeAttr(N),o=i._table.find("td:not(."+Q+")").removeClass(t).filter(function(){return e(this.firstChild).attr(_.attr(z))===n}).attr(dt,!0),t!==Z||i._active||i.options.focusOnNav===!1||(t=""),o.addClass(t),o[0]&&(i._cell=o),a&&(o.attr(N,a),i._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",a))},_bindTable:function(e){e.on(nt,this._addClassProxy).on(et,this._removeClassProxy)},_click:function(e){var t=this,n=t.options,i=new Date(+t._current),a=e.attr(_.attr(z)).split("/");a=new gt(a[0],a[1],a[2]),M(a,0),t._view.setDate(i,a),t.navigateDown(r(i,n.min,n.max))},_focus:function(e){var t=this,n=t._view;0!==n.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(Z,n.toDateString(e)))},_focusView:function(e,t){e&&this.focus(t)},_footer:function(n){var i=this,a=o(),r=i.element,s=r.find(".k-footer");return n?(s[0]||(s=e('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(r)),i._today=s.show().find(".k-link").html(n(a)).attr("title",_.toString(a,"D",i.options.culture)),i._toggle(),t):(i._toggle(!1),s.hide(),t)},_header:function(){var e,t=this,n=t.element;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),e=n.find(".k-link").on(at+" "+ot+" "+nt+" "+et,u).click(!1),t._title=e.eq(1).on(L,function(){t._active=t.options.focusOnNav!==!1,t.navigateUp()}),t[lt]=e.eq(0).on(L,function(){t._active=t.options.focusOnNav!==!1,t.navigateToPast()}),t[ct]=e.eq(2).on(L,function(){t._active=t.options.focusOnNav!==!1,t.navigateToFuture()})},_navigate:function(e,t){var n=this,i=n._index+1,a=new gt(+n._current);e=n[e],e.hasClass(q)||(i>3?a.setFullYear(a.getFullYear()+100*t):b.views[i].setDate(a,t),n.navigate(a))},_option:function(e,n){var i,a=this,o=a.options,r=a._value||a._current;return n===t?o[e]:(n=C(n,o.format,o.culture),n&&(o[e]=new gt(+n),i=e===Y?n>r:r>n,(i||m(r,n))&&(i&&(a._value=null),a._changeView=!0),a._changeView||(a._changeView=!(!o.month.content&&!o.month.empty)),a.navigate(a._value),a._toggle()),t)},_toggle:function(e){var n=this,i=n.options,a=n._today;e===t&&(e=s(o(),i.min,i.max)),a&&(a.off(L),e?a.addClass(K).removeClass(q).on(L,ft(n._todayClick,n)):a.removeClass(K).addClass(q).on(L,d))},_todayClick:function(e){var t=this,n=pt[t.options.depth],i=o();e.preventDefault(),0===t._view.compare(t._current,i)&&t._index==n&&(t._changeView=!1),t._value=i,t.navigate(i,n),t.trigger(j)},_templates:function(){var e=this,t=e.options,n=t.footer,i=t.month,a=i.content,o=i.empty;e.month={content:T('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+_.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(a||"#=data.value#")+"</a></td>",{useWithBlock:!!a}),empty:T('<td role="gridcell">'+(o||"&nbsp;")+"</td>",{useWithBlock:!!o})},e.footer=n!==!1?T(n||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}):null}});w.plugin(vt),b={firstDayOfMonth:function(e){return new gt(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){t=t||_.culture().calendar;for(var n=t.firstDay,i=new gt(e.getFullYear(),e.getMonth(),0,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());i.getDay()!=n;)b.setTime(i,-1*st);return i},setTime:function(e,t){var n=e.getTimezoneOffset(),i=new gt(e.getTime()+t),a=i.getTimezoneOffset()-n;e.setTime(i.getTime()+a*rt)},views:[{name:R,title:function(e,t,n,i){return f(i).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){for(var t=this,n=0,a=e.min,o=e.max,r=e.date,s=e.dates,c=e.format,u=e.culture,d=e.url,h=d&&s[0],g=f(u),v=g.firstDay,m=g.days,k=l(m.names,v),w=l(m.namesShort,v),y=b.firstVisibleDay(r,g),x=t.first(r),C=t.last(r),D=t.toDateString,T=new gt,S='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)S+='<th scope="col" title="'+k[n]+'">'+w[n]+"</th>";return T=new gt(T.getFullYear(),T.getMonth(),T.getDate()),M(T,0),T=+T,i({cells:42,perRow:7,html:S+='</tr></thead><tbody><tr role="row">',start:new gt(y.getFullYear(),y.getMonth(),y.getDate()),min:new gt(a.getFullYear(),a.getMonth(),a.getDate()),max:new gt(o.getFullYear(),o.getMonth(),o.getDate()),content:e.content,empty:e.empty,setter:t.setDate,build:function(e){var t=[],n=e.getDay(),i="",a="#";return(x>e||e>C)&&t.push(Q),+e===T&&t.push("k-today"),(0===n||6===n)&&t.push("k-weekend"),h&&p(+e,s)&&(a=d.replace("{0}",_.toString(e,c,u)),i=" k-action-link"),{date:e,dates:s,ns:_.ns,title:_.toString(e,"D",u),value:e.getDate(),dateString:D(e),cssClass:t[0]?' class="'+t.join(" ")+'"':"",linkClass:i,url:a}}})},first:function(e){return b.firstDayOfMonth(e)},last:function(e){var t=new gt(e.getFullYear(),e.getMonth()+1,0),n=b.firstDayOfMonth(e),i=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return i&&t.setHours(n.getHours()+i/60),t},compare:function(e,t){var n,i=e.getMonth(),a=e.getFullYear(),o=t.getMonth(),r=t.getFullYear();return n=a>r?1:r>a?-1:i==o?0:i>o?1:-1},setDate:function(e,t){var n=e.getHours();t instanceof gt?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):b.setTime(e,t*st),M(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=f(e.culture).months.namesAbbr,n=this.toDateString,a=e.min,o=e.max;return i({min:new gt(a.getFullYear(),a.getMonth(),1),max:new gt(o.getFullYear(),o.getMonth(),1),start:new gt(e.date.getFullYear(),0,1),setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:_.ns,dateString:n(e),cssClass:""}}})},first:function(e){return new gt(e.getFullYear(),0,e.getDate())},last:function(e){return new gt(e.getFullYear(),11,e.getDate())},compare:function(e,t){return a(e,t)},setDate:function(e,t){var n,i=e.getHours();t instanceof gt?(n=t.getMonth(),e.setFullYear(t.getFullYear(),n,e.getDate()),n!==e.getMonth()&&e.setDate(0)):(n=e.getMonth()+t,e.setMonth(n),n>11&&(n-=12),n>0&&e.getMonth()!=n&&e.setDate(0)),M(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return n(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),n=this.toDateString;return i({start:new gt(t-t%10-1,0,1),min:new gt(e.min.getFullYear(),0,1),max:new gt(e.max.getFullYear(),0,1),setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:_.ns,dateString:n(e),cssClass:0===t||11==t?J:""}}})},first:function(e){var t=e.getFullYear();return new gt(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new gt(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,10)},setDate:function(e,t){c(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:W,title:function(e,t,i){return n(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),n=e.min.getFullYear(),a=e.max.getFullYear(),o=this.toDateString,r=n,s=a;return r-=r%10,s-=s%10,10>s-r&&(s=r+9),i({start:new gt(t-t%100-10,0,1),min:new gt(r,0,1),max:new gt(s,0,1),setter:this.setDate,build:function(e,t){var i=e.getFullYear(),r=i+9;return n>i&&(i=n),r>a&&(r=a),{ns:_.ns,value:i+" - "+r,dateString:o(e),cssClass:0===t||11==t?J:""}}})},first:function(e){var t=e.getFullYear();return new gt(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return new gt(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return a(e,t,100)},setDate:function(e,t){c(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]},b.isEqualDatePart=v,b.makeUnselectable=g,b.restrictValue=r,b.isInRange=s,b.normalize=h,b.viewsEnum=pt,_.calendar=b}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});