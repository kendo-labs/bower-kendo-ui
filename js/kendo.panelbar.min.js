/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){"function"==typeof define&&define.amd?define(["kendo.data.min"],e):e()}((function(){!function(e,t){var n,a=window.kendo,i=a.ui,r=a.keys,s=e.extend,l=e.each,o=Array.isArray,d=a.template,c=i.Widget,p=a.data.HierarchicalDataSource,u=/^(ul|a|div)$/i,h=".kendoPanelBar",m="href",f="k-last",g="k-link",k="."+g,v="error",_=".k-item",C=".k-group:visible",b="k-image",x="k-first",y="change",I="expand",w="select",U="click",S="k-content",A="activate",D="collapse",E="dataBound",B="mouseenter",G="contentLoad",T="k-active",q="> .k-panel",H="> .k-content",O="k-focus",R="k-disabled",F="k-selected",L=".k-selected",W="k-highlight",j=_+":not(.k-disabled)",M="> .k-item:not(.k-disabled) > .k-link, .k-panel > .k-item:not(.k-disabled) > .k-link",N="> li > .k-selected, .k-panel > li > .k-selected",P="aria-disabled",$="aria-expanded",Q="aria-hidden",V="aria-selected",z=":visible",J="single",K={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},X={aria:function(e){var t="";return(e.items||e.content||e.contentUrl||e.expanded)&&(t+="aria-expanded='"+(e.expanded?"true":"false")+"' "),!1===e.enabled&&(t+="aria-disabled='true'"),t},wrapperCssClass:function(e,t){var n="k-item",a=t.index;return n+=e.firstLevel?" k-panelbar-header":" k-panelbar-item",!1===t.enabled?n+=" k-disabled":!0===t.expanded&&(n+=" k-active"),0===a&&(n+=" k-first"),a==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.level&&(n+=" k-level-"+t.level()),n},textClass:function(e){var t=g;return e.selected&&(t+=" k-selected"),t},textAttributes:function(e){return e?" href='"+e+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up":" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down"},text:function(e){return!1===e.encoded?e.text:a.htmlEncode(e.text)},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},ariaHidden:function(e){return!0!==e.expanded},groupCssClass:function(){return"k-panelbar-group k-group k-panel"},contentAttributes:function(e){return!0!==e.item.expanded?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}};function Y(t){(t=e(t)).filter(".k-first:not(:first-child)").removeClass(x),t.filter(".k-last:not(:last-child)").removeClass(f),t.filter(":first-child").addClass(x),t.filter(":last-child").addClass(f)}function Z(t){(t=e(t)).addClass("k-level-"+t.parentsUntil(".k-panelbar","ul").length)}n=function(e){return e.children("span").children(".k-icon")};var ee=a.ui.DataBoundWidget.extend({init:function(e,t){var n,i,r=this;o(t)&&(t={dataSource:t}),i=t&&!!t.dataSource,c.fn.init.call(r,e,t),e=r.wrapper=r.element.addClass("k-panelbar"),t=r.options,e[0].id&&(r._itemId=e[0].id+"_pb_active"),r._tabindex(),r._accessors(),r._dataSource(),r._templates(),r._initData(i),r._updateClasses(),r._animations(t),e.on(U+h,M,r._click.bind(r)).on(B+h+" mouseleave"+h,M,r._toggleHover).on(U+h,".k-item.k-disabled > .k-link",!1).on(U+h,".k-request-retry",r._retryRequest.bind(r)).on("keydown"+h,r._keydown.bind(r)).on("focus"+h,(function(){var e=r.select();r._current(e[0]?e:r._first())})).on("blur"+h,(function(){r._current(null)})).attr("role","tree"),(n=e.find("li.k-active > ."+S))[0]&&r.expand(n.parent(),!1),t.dataSource||r._angularCompile(),a.notify(r)},events:[I,D,w,A,y,v,E,G],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var e=this;e.angular("compile",(function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]}}))},_angularCompileElements:function(t,n){this.angular("compile",(function(){return{elements:t,data:e.map(n,(function(e){return[{dataItem:e}]}))}}))},_angularCleanup:function(){var e=this;e.angular("cleanup",(function(){return{elements:e.element.children("li")}}))},destroy:function(){c.fn.destroy.call(this),this.element.off(h),this._angularCleanup(),a.destroy(this.element)},_initData:function(e){var t=this;e&&(t.element.empty(),t.options.autoBind&&(t._progress(!0),t.dataSource.fetch()))},_templates:function(){var e=this,t=e.options,n=e._fieldAccessor.bind(e);t.template&&"string"==typeof t.template?t.template=d(t.template):t.template||(t.template=d("# var text = "+n("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#<span class='k-panelbar-item-text'>#= text #</span># } else { #<span class='k-panelbar-item-text'>#: text #</span># } #")),e.templates={content:d("<div class='k-panelbar-content k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:d("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:d("# var url = "+n("url")+"(item); ## var imageUrl = "+n("imageUrl")+"(item); ## var spriteCssClass = "+n("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-panelbar-item-icon k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:d("<li aria-selected='false' role='treeitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+a.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:d("<li class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</li>"),retry:d("<li class='k-item'>#: data.messages.requestFailed # <button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-request-retry'><span class='k-button-text'>#: data.messages.retry #</span></button></li>"),arrow:d("<span class='#= arrowClass(item) #'></span>"),empty:d("")}},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=s(!0,t,e.animation),"dataSource"in e&&this.setDataSource(e.dataSource),c.fn.setOptions.call(this,e)},expand:function(t,n){var a=this,i={};if(t=this.element.find(t),!a._animating||!t.find("ul").is(":visible"))return a._animating=!0,n=!1!==n,t.each((function(r,s){s=e(s);var l=t.children(".k-group,.k-content");l.length||(l=a._addGroupElement(t));var o=l.add(s.find(H));if(!s.hasClass(R)&&o.length>0){if(a.options.expandMode==J&&a._collapseAllExpanded(s))return a;t.find(".k-highlight").removeClass(W),s.addClass(W),n||(i=a.options.animation,a.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),a._triggerEvent(I,s)||a._toggleItem(s,!1,!1),n||(a.options.animation=i)}})),a;a.one("complete",(function(){setTimeout((function(){a.expand(t)}))}))},collapse:function(t,n){var a=this,i={};return a._animating=!0,n=!1!==n,(t=a.element.find(t)).each((function(t,r){var s=(r=e(r)).find(q).add(r.find(H));!r.hasClass(R)&&s.is(z)&&(r.removeClass(W),n||(i=a.options.animation,a.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),a._triggerEvent(D,r)||a._toggleItem(r,!0),n||(a.options.animation=i))})),a},updateArrow:function(t){var n=this;(t=e(t)).children(k).children(".k-panelbar-collapse, .k-panelbar-expand").remove(),t.filter((function(){var t=n.dataItem(this);return t?t.hasChildren||t.content||t.contentUrl:e(this).find(".k-panel").length>0||e(this).find(".k-content").length>0})).children(".k-link:not(:has([class*=k-i-arrow]))").each((function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(T)?" k-panelbar-toggle k-panelbar-collapse k-i-arrow-chevron-up":" k-panelbar-toggle k-panelbar-expand k-i-arrow-chevron-down")+"'/>")}))},_accessors:function(){var e,t,n,i=this.options,r=this.element;for(e in K)t=i[K[e]],n=r.attr(a.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),o(t)||(t=[t]),i[K[e]]=t},_progress:function(e,t){var a=this.element,i=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e)?a.html(i):a.empty():n(e).toggleClass("k-i-loading",t).removeClass("k-i-refresh")},_refreshRoot:function(t){var n=this,a={firstLevel:!0,expanded:!0,length:n.element.children().length};this.element.empty();var r=e.map(t,(function(t,i){return"string"==typeof t?e(t):(t.items=[],e(n.renderItem({group:a,item:s(t,{index:i})})))}));this.element.append(r);for(var l=this.element.children(".k-item"),o=0;o<t.length;o++)this.trigger("itemChange",{item:l.eq(o).find(".k-link").first(),data:t[o],ns:i});this._angularCompileElements(r,t)},_refreshChildren:function(t,n){var a,r,s;n.children(".k-group").empty();var l=t.children.data();if(l.length)for(this.append(t.children,n),this.options.loadOnDemand&&this._toggleGroup(n.children(".k-group"),!1),r=n.children(".k-group").children("li"),a=0;a<r.length;a++)s=r.eq(a),this.trigger("itemChange",{item:s.find(".k-link").first(),data:this.dataItem(s),ns:i});else!function(t){var n=t,a=t.children("ul"),i=n.children(".k-link").children(".k-icon");t.hasClass("k-panelbar")||(!i.length&&a.length?i=e("<span class='k-icon' />").appendTo(n):a.length&&a.children().length||(i.remove(),a.remove()))}(n),r=n.children(".k-group").children("li"),this._angularCompileElements(r,l)},findByUid:function(t){for(var n,i=this.element.find(".k-item"),r=a.attr("uid"),s=0;s<i.length;s++)if(i[s].getAttribute(r)==t){n=i[s];break}return e(n)},refresh:function(e){var n=this.options,a=e.node,i=e.action,r=e.items,s=this.wrapper,l=n.loadOnDemand;if(e.field){if(!r[0]||!r[0].level)return;return this._updateItems(r,e.field)}if(a&&(s=this.findByUid(a.uid),this._progress(s,!1)),"add"==i?this._appendItems(e.index,r,s):"remove"==i?this.remove(this.findByUid(r[0].uid)):"itemchange"==i?this._updateItems(r):"itemloaded"==i?this._refreshChildren(a,s):this._refreshRoot(r),"remove"!=i)for(var o=0;o<r.length;o++)if(!l||r[o].expanded){var d=r[o];this._hasChildItems(d)&&d.load()}this.trigger(E,{node:a?s:t})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),a=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),n(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(a))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=this.refresh.bind(this),this._errorHandler=this._error.bind(this),this.dataSource.bind(y,this._refreshHandler),this.dataSource.bind(v,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(y,this._refreshHandler),e.unbind(v,this._errorHandler))},_fieldAccessor:function(t){var n=this.options[K[t]]||[],i=n.length,r="(function(item) {";return 0===i?r+="return item['"+t+"'];":(r+="var levels = ["+e.map(n,(function(e){return"function(d){ return "+a.expr(e)+"}"})).join(",")+"];",r+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else",r+="{return levels["+i+"-1](item)}"),r+="})"},_dataSource:function(){var e=this,t=e.options.dataSource;t&&(t=o(t)?{data:t}:t,e._unbindDataSource(),t.fields||(t.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),e.dataSource=p.create(t),e._bindDataSource())},_appendItems:function(t,n,a){var i,r,l=this;a.hasClass("k-panelbar")?(i=a.children("li"),r=a):((r=a.children(".k-group")).length||(r=l._addGroupElement(a)),i=r.children("li"));var o={firstLevel:a.hasClass("k-panelbar"),expanded:!0,length:i.length},d=e.map(n,(function(t,n){return e("string"==typeof t?t:l.renderItem({group:o,item:s(t,{index:n})}))}));void 0===t&&(t=i.length);for(var c=0;c<d.length;c++)0===i.length||0===t?r.append(d[c]):d[c].insertAfter(i[t-1]);l._angularCompileElements(d,n),l.dataItem(a)&&(l.dataItem(a).hasChildren=!0,l.updateArrow(a))},_updateItems:function(t,n){var a,r,l,o,d=this,c={panelBar:d.options,item:o,group:{}},p="expanded"!=n;if("selected"==n)if(t[0][n]){var u=d.findByUid(t[0].uid);u.hasClass(R)||d.select(u,!0)}else d.clearSelection();else{var h=e.map(t,(function(e){return d.findByUid(e.uid)}));for(p&&d.angular("cleanup",(function(){return{elements:h}})),a=0;a<t.length;a++)c.item=o=t[a],c.panelBar=d,r=(l=h[a]).parent(),p&&(c.group={firstLevel:r.hasClass("k-panelbar"),expanded:l.parent().hasClass(T),length:l.children().length},l.children(".k-link").remove(),l.prepend(d.templates.itemWrapper(s(c,{arrow:o.hasChildren||o.content||o.contentUrl?d.templates.arrow:d.templates.empty},X)))),"expanded"==n?d._toggleItem(l,!o[n],!o[n]||"true"):"enabled"==n&&(d.enable(l,o[n]),o[n]||o.selected&&o.set("selected",!1)),l.length&&this.trigger("itemChange",{item:l.find(".k-link").first(),data:o,ns:i});p&&d.angular("compile",(function(){return{elements:h,data:e.map(t,(function(e){return[{dataItem:e}]}))}}))}},_toggleDisabled:function(e,t){(e=this.element.find(e)).toggleClass(R,!t).attr(P,!t)},dataItem:function(t){var n=e(t).closest(_).attr(a.attr("uid")),i=this.dataSource;return i&&i.getByUid(n)},select:function(n,a){var i=this;return n===t?i.element.find(N).parent():((n=i.element.find(n)).length?n.each((function(){var t=e(this),n=t.children(k);if(t.hasClass(R))return i;i._updateSelected(n,a)})):this._updateSelected(n),i)},clearSelection:function(){this.select(e())},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find(q):null);return l(n.items,(function(){n.group.append(this),Y(this),Z(this)})),this.updateArrow(t),Y(n.group.find(".k-first, .k-last")),n.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,(function(){t.before(this),Y(this),Z(this)})),Y(t),n.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return l(n.items,(function(){t.after(this),Y(this),Z(this)})),Y(t),n.group.height("auto"),this},remove:function(e){var t=this,n=(e=this.element.find(e)).parentsUntil(t.element,_),a=e.parent("ul");return e.remove(),!a||a.hasClass("k-panelbar")||a.children(_).length||a.remove(),n.length&&(n=n.eq(0),t.updateArrow(n),Y(n)),t},reload:function(t){var n=this;(t=n.element.find(t)).each((function(){var t=e(this);n._ajaxRequest(t,t.children("."+S),!t.is(z))}))},_first:function(){return this.element.children(j).first()},_last:function(){var e=this.element.children(j).last(),t=e.children(C);return t[0]?t.children(j).last():e},_current:function(n){var a=this,i=a._focused,r=a._itemId;if(n===t)return i;a.element.removeAttr("aria-activedescendant"),i&&i.length&&(i[0].id===r&&i.removeAttr("id"),i.children(k).removeClass(O)),e(n).length&&(r=n[0].id||r,n.attr("id",r).children(k).addClass(O),a.element.attr("aria-activedescendant",r)),a._focused=n},_keydown:function(e){var t=this,n=e.keyCode,a=t._current();e.target==e.currentTarget&&(n==r.DOWN||n==r.RIGHT?(t._current(t._nextItem(a)),e.preventDefault()):n==r.UP||n==r.LEFT?(t._current(t._prevItem(a)),e.preventDefault()):n==r.ENTER||n==r.SPACEBAR?(t._click(e),e.preventDefault()):n==r.HOME?(t._current(t._first()),e.preventDefault()):n==r.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(C),n=e.nextAll(":visible").first();return t[0]&&(n=t.children("."+x)),n[0]||(n=e.parent(C).parent(_).next()),n[0]||(n=this._first()),n},_prevItem:function(e){if(!e)return this._last();var t,n=e.prevAll(":visible").first();if(n[0])for(t=n;t[0];)(t=t.children(C).children("."+f))[0]&&(n=t);else(n=e.parent(C).parent(_))[0]||(n=this._last());return n},_insert:function(t,n,a){var i,r,l=this,o=e.isPlainObject(t),d=n&&n[0];if(d||(a=l.element),r={firstLevel:a.hasClass("k-panelbar"),expanded:e(n).hasClass(T),length:a.children().length},d&&!a.length&&(a=e(l.renderGroup({group:r,options:l.options})).appendTo(n)),o||Array.isArray(t)||t instanceof p){if(t instanceof p&&(t=t.data()),i=e.map(o?[t]:t,(function(t,n){return e("string"==typeof t?t:l.renderItem({group:r,item:s(t,{index:n})}))})),d){var c=l.dataItem(n);c?(c.hasChildren=!0,n.attr($,c.expanded).not(".k-active").children("ul").attr(Q,!c.expanded)):n.attr($,!1)}}else i="string"==typeof t&&"<"!=t.charAt(0)?l.element.find(t):e(t),l._updateItemsClasses(i);return t.length||(t=[t]),l._angularCompileElements(i,t),{items:i,group:a}},_toggleHover:function(t){var n=e(t.currentTarget);n.parents("li.k-disabled").length||n.toggleClass("k-hover",t.type==B)},_updateClasses:function(){var t,n,a,i,r,s=this;i=(t=s.element.find("li > ul").not((function(){return e(this).parentsUntil(".k-panelbar","div").length})).addClass("k-panelbar-group k-group k-panel").attr("role","group")).parent(),a=(r=s.dataItem(i))&&r.expanded||!1,t.parent().not("[aria-expanded]").attr($,a).not(".k-active").children("ul").attr(Q,!a).hide(),n=s.element.add(t).children(),s._updateItemsClasses(n),s.updateArrow(n),Y(n)},_updateItemsClasses:function(e){for(var t=e.length,n=0;n<t;n++)this._updateItemClasses(e[n],n)},_updateItemClasses:function(t,n){var i,r,s=this._selected,l=this.options.contentUrls,o=l&&l[n],d=this.element[0];t=e(t).addClass("k-item").attr({role:"treeitem","aria-selected":!1}),a.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children("img").addClass(b),(r=t.children("a").addClass(g))[0]&&(r.attr("href",o),r.children("img").addClass(b)),t.filter("li[disabled]").addClass("k-disabled").attr(P,!0).prop("disabled",!1),t.children("div").addClass(S+" k-panelbar-content").attr(Q,!0).hide().parent().attr($,!1),(r=t.children(L))[0]&&(s&&s.attr(V,!1).children(L).removeClass(F),r.addClass(F),this._selected=t.attr(V,!0)),t.children(k)[0]||(i="<span class='k-link'><span class='k-panelbar-item-text'></span></span>",l&&l[n]&&t[0].parentNode==d&&(i='<a class="k-link" href="'+l[n]+'"></a>'),t.contents().filter((function(){return!(this.nodeName.match(u)||3==this.nodeType&&!a.trim(this.nodeValue.trim))})).wrapAll(i)),t.parent(".k-panelbar")[0]?t.addClass("k-panelbar-header"):t.addClass("k-panelbar-item"),/k\-level\-\d+/i.test(t.attr("class"))||t.addClass("k-level-"+t.parentsUntil(this.element,"ul").length)},_click:function(t){var n,a,i,r=this,s=t.type==U?e(t.target):r._current().children(k),l=r.element;if(!s.parents("li.k-disabled").length&&s.closest(".k-panelbar")[0]==l[0]&&(!s.is(":kendoFocusable")||s.hasClass(g))){var o=s.closest(k),d=o.closest(_);r._updateSelected(o);var c=d.children(".k-group,.k-content"),p=this.dataItem(d);if(!c.length&&(r.options.loadOnDemand&&p&&p.hasChildren||this._hasChildItems(d)||d.content||d.contentUrl)&&(c=r._addGroupElement(d)),a=d.find(q).add(d.find(H)),n=!(!((i=o.attr(m))&&("#"==i.charAt(i.length-1)||-1!=i.indexOf("#"+r.element[0].id+"-")))&&!a.length),a.data("animating")&&n)t.preventDefault();else if(r._triggerEvent(w,d)&&(n=!0),!1!==n)if(r.options.expandMode==J&&r._collapseAllExpanded(d)&&n)t.preventDefault();else{if(a.length){var u=a.is(z);r._triggerEvent(u?D:I,d)||(n=r._toggleItem(d,u))}n&&t.preventDefault()}}},_hasChildItems:function(e){return e.items&&e.items.length>0||e.hasChildren},_toggleItem:function(e,n,a){var i,r,s=this,l=e.find(q),o=e.find(k).attr(m),d=s.dataItem(e),c=!n,p=d&&d.loaded();return d&&!a&&d.expanded!==c?(d.set("expanded",c),i=d.hasChildren||!!d.content||!!d.contentUrl):(!d||a&&"true"!==a||p||d.content||d.contentUrl?l.length?(this._toggleGroup(l,n),i=!0):(r=e.children("."+S)).length&&(i=!0,r.is(":empty")&&o!==t?s._ajaxRequest(e,r,n):s._toggleGroup(r,n)):(s.options.loadOnDemand&&this._progress(e,!0),e.children(".k-group,.k-content").remove(),i=d.hasChildren,d.load()),i)},_toggleGroup:function(e,t){var n=this,a=n.options.animation,i=a.expand,r=a.collapse&&"effects"in a.collapse,l=s({},a.expand,a.collapse);r||(l=s(l,{reverse:!0})),e.is(z)==t?(e.attr(Q,!!t),e.parent().attr($,!t).toggleClass(T,!t).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-chevron-up",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-chevron-down",t).toggleClass("k-panelbar-expand",t),t?(i=s(l,{hide:!0})).complete=function(){n._animationCallback()}:i=s({complete:function(e){n._triggerEvent(A,e.closest(_)),n._animationCallback()}},i),e.toggle(0).kendoStop(!0,!0).kendoAnimate(i)):n._animating=!1},_animationCallback:function(){this.trigger("complete"),this._animating=!1},_addGroupElement:function(t){var n=e('<ul role="group" aria-hidden="true" class="k-panelbar-group k-group k-panel" style="display:none"></ul>');return t.append(n),n},_collapseAllExpanded:function(t){var n,a=this,i=!1,r=t.find(q).add(t.find(H));return r.is(z)&&(i=!0),r.is(z)||0===r.length||((n=t.siblings()).find(q).add(n.find(H)).filter((function(){return e(this).is(z)})).each((function(t,n){n=e(n),(i=a._triggerEvent(D,n.closest(_)))||a._toggleGroup(n,!0)})),a.one("complete",(function(){setTimeout((function(){n.each((function(e,t){var n=a.dataItem(t);n&&n.set("expanded",!1)}))}))}))),i},_ajaxRequest:function(t,n,a){var i=this,r=t.find(".k-panelbar-collapse, .k-panelbar-expand"),s=t.find(k),l=setTimeout((function(){r.addClass("k-i-loading")}),100),o=s.attr(m);e.ajax({type:"GET",cache:!1,url:o,dataType:"html",data:{},error:function(e,t){r.removeClass("k-i-loading"),i.trigger(v,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(l),r.removeClass("k-i-loading")},success:function(e){function r(){return{elements:n.get()}}try{i.angular("cleanup",r),n.html(e),i.angular("compile",r)}catch(e){var s=window.console;s&&s.error&&s.error(e.name+": "+e.message+" in "+o),this.error(this.xhr,"error")}i._toggleGroup(n,a),i.trigger(G,{item:t[0],contentElement:n[0]})}})},_triggerEvent:function(e,t){return this.trigger(e,{item:t[0]})},_updateSelected:function(e,t){var n=this,a=n.element,i=e.parent(_),r=n._selected,s=n.dataItem(i);r&&r.attr(V,!1),n._selected=i.attr(V,!0),a.find(N).removeClass(F),a.find("> .k-highlight, .k-panel > .k-highlight").removeClass(W),e.addClass(F),e.parentsUntil(a,_).filter(":has(.k-link)").addClass(W),n._current(i[0]?i:null),s&&s.set("selected",!0),t||n.trigger(y)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(e){var t=this;e=s({panelBar:t,group:{}},e);var n=t.templates.empty,a=e.item;return t.templates.item(s(e,{itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:t._hasChildItems(a)||a.content||a.contentUrl?t.templates.arrow:n,subGroup:!e.loadOnDemand||a.expanded?t.renderGroup:n},X))},renderGroup:function(e){return(this.templates||e.panelBar.templates).group(s({renderItems:function(e){for(var t="",n=0,a=e.items,i=a?a.length:0,r=s({length:i},e.group);n<i;n++)t+=e.panelBar.renderItem(s(e,{group:r,item:s({index:n},a[n])}));return t}},e,X))},renderContent:function(e){return e.panelBar.templates.content(s(e,X))}});a.ui.plugin(ee)}(window.kendo.jQuery)}));
//# sourceMappingURL=kendo.panelbar.min.js.map
