{"version":3,"file":"kendo.combobox.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendocombobox","js","this","$","kendo","jQuery","addInputPrefixSuffixContainers","ref","prefixContainer","suffixContainer","widget","wrapper","options","prefixInsertBefore","suffixInsertAfter","prefix","prefixOptions","suffix","suffixOptions","hasPrefixContent","template","icon","hasSuffixContent","layoutFlow","containerOrientation","INPUT_SEPARATOR","children","insertBefore","prependTo","html","renderIcon","separator","insertAfter","appendTo","_prefixContainer","_suffixContainer","undefined$1","window","encode","htmlEncode","ui","List","Select","caret","support","placeholderSupported","placeholder","activeElement","_activeElement","keys","ns","nsFocusEvent","CLICK","MOUSEDOWN","DISABLED","READONLY","CHANGE","FOCUSED","STATEDISABLED","ARIA_DISABLED","ARIA_READONLY","STATE_FILTER","STATE_ACCEPT","STATE_REBIND","HOVEREVENTS","newLineRegEx","NON_PRINTABLE_KEYS","ComboBox","extend","init","element","text","that","Array","isArray","dataSource","fn","call","on","_focusHandler","bind","attr","_reset","_wrapper","_input","_clearButton","_tabindex","input","_popup","_dataSource","_ignoreCase","_enable","_attachFocusEvents","_oldIndex","selectedIndex","_initialIndex","index","requireValueMapper","_initList","_cascade","autoBind","_filterSource","_isSelect","_setText","_placeholder","parents","is","enable","_clear","parent","length","notify","_toggleCloseVisibility","_applyCssClasses","label","_label","_aria","name","enabled","value","delay","dataTextField","dataValueField","minLength","enforceMinLength","height","highlightFirst","filter","suggest","cascadeFrom","cascadeFromField","cascadeFromParentField","cascadeOnCustomValue","ignoreCase","animation","virtual","groupTemplate","data","fixedGroupTemplate","clearButton","syncValueAndText","autoWidth","popup","size","fillMode","rounded","clearOnEscape","events","setOptions","listOptions","_listOptions","listView","_accessors","destroy","off","clearTimeout","_pasteTimeout","filterInput","_arrow","_onActionSheetCreate","_keydown","_search","_inputPaste","role","val","trigger","_onCloseButtonPressed","textField","focus","_syncValueAndText","dataItem","_accessor","_blur","_oldText","_isValueChanged","unifyType","_old","_change","hasText","isCustom","_typing","_inputFocus","_inputFocusout","e","target","_arrowClick","_toggle","addClass","isClearButton","relatedTarget","closest","_userTriggered","removeClass","_typingTimeout","item","_focus","dataItemByIndex","getElementIndex","select","_valueBeforeCascade","setTimeout","search","_editable","disable","readonly","add","arrow","clear","_toggleHover","prop","preventDefault","_clearValue","open","state","_state","isFiltered","filters","reinitialized","ul","find","visible","bound","_open","refresh","_openPopup","_allowOpening","_hovered","_focusItem","_scrollToFocusedItem","scrollToIndex","one","_updateSelectionState","_buildOptions","custom","_customOption","_options","selected","_emptySearch","_custom","_updateSelection","initialIndex","hasInitialIndex","_fetch","selectedDataItems","_value","_text","_selectValue","_updateItemFocus","focusIndex","_listBound","isActive","flatView","skip","groupsLength","_group","isFirstPage","_presetValue","_renderFooter","_renderNoData","_toggleNoData","_toggleHeader","_resizePopup","position","close","toggle","_hideBusy","_listChange","_get","candidate","found","idx","total","_select","keepState","done","_dataValue","_setDomInputValue","_triggerCascade","caretStart","currentCaret","_prev","mobile","mobileOS","wp","android","setSelectionRange","preventShow","_showClear","_hideClear","word","caretIdx","key","_last","accentFoldingFiltering","BACKSPACE","DELETE","view","inArray","toLocaleLowerCase","toLowerCase","indexOf","toString","substring","loweredText","replace","_cascadeTriggered","_refreshFloatingLabel","_isFilterEnabled","_clearFilter","_fetchData","_selectedDataItems","_busy","_arrowIcon","show","_focused","_click","shouldTrigger","_inputValue","_searchByWord","firstChild","current","focusFirst","fetch","maxLength","arrowBtn","accessKey","SELECTOR","renderButton","shape","append","style","cssText","title","parseInt","className","css","width","tabIndex","keyCode","isFkey","isNonPrintableKey","HOME","_firstItem","END","_lastItem","ENTER","TAB","_move","ctrlKey","ESC","toggleClass","hide","wrap","_clearSelection","hasValue","_preselect","setValue","_clearText","plugin","cssProperties","registerPrefix","registerValues","values","roundedValues","concat"],"sources":["kendo.combobox.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.list.js'), require('kendo.mobile.scroller.js'), require('kendo.virtuallist.js'), require('kendo.html.button.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.list', 'kendo.mobile.scroller', 'kendo.virtuallist', 'kendo.html.button'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendocombobox = global.kendocombobox || {}, global.kendocombobox.js = factory()));\n})(this, (function () {\n    var $ = kendo.jQuery;\n\n    function addInputPrefixSuffixContainers(ref) {\n        var widget = ref.widget;\n        var wrapper = ref.wrapper;\n        var options = ref.options;\n        var prefixInsertBefore = ref.prefixInsertBefore;\n        var suffixInsertAfter = ref.suffixInsertAfter;\n\n        var prefix = options.prefixOptions,\n            suffix = options.suffixOptions,\n            hasPrefixContent = prefix.template || prefix.icon,\n            hasSuffixContent = suffix.template || suffix.icon,\n            suffixInsertAfter = suffixInsertAfter || prefixInsertBefore,\n            layoutFlow = options.layoutFlow,\n            containerOrientation = layoutFlow ? (layoutFlow == \"vertical\" ? \"horizontal\" : \"vertical\") : \"horizontal\",\n            separatorOrientation = layoutFlow == \"vertical\" ? \"horizontal\" : \"vertical\",\n            INPUT_SEPARATOR = \"<span class=\\\"k-input-separator k-input-separator-\" + separatorOrientation + \"\\\"></span>\",\n            prefixContainer,\n            suffixContainer;\n\n        if (prefix && hasPrefixContent) {\n            prefixContainer = wrapper.children(\".k-input-prefix\");\n\n            if (!prefixContainer[0]) {\n                prefixContainer = $((\"<span class=\\\"k-input-prefix k-input-prefix-\" + containerOrientation + \"\\\" />\"));\n                if (prefixInsertBefore) {\n                    prefixContainer.insertBefore(prefixInsertBefore);\n                } else {\n                    prefixContainer.prependTo(wrapper);\n                }\n            }\n\n            if (prefix.icon) {\n                prefixContainer.html(kendo.html.renderIcon({ icon: prefix.icon }));\n            }\n\n            if (prefix.template) {\n                prefixContainer.html(kendo.template(prefix.template)({}));\n            }\n\n            if (prefix.separator) {\n                $(INPUT_SEPARATOR).insertAfter(prefixContainer);\n            }\n        }\n\n        if (suffix && hasSuffixContent) {\n            suffixContainer = wrapper.children(\".k-input-suffix\");\n\n            if (!suffixContainer[0]) {\n                suffixContainer = $((\"<span class=\\\"k-input-suffix k-input-suffix-\" + containerOrientation + \"\\\" />\")).appendTo(wrapper);\n                if (suffixInsertAfter) {\n                    suffixContainer.insertAfter(suffixInsertAfter);\n                } else {\n                    suffixContainer.appendTo(wrapper);\n                }\n            }\n\n            if (suffix.icon) {\n                suffixContainer.html(kendo.html.renderIcon({ icon: suffix.icon }));\n            }\n\n            if (suffix.template) {\n                suffixContainer.html(kendo.template(suffix.template)({}));\n            }\n\n            if (suffix.separator) {\n                $(INPUT_SEPARATOR).insertBefore(suffixContainer);\n            }\n        }\n\n        widget._prefixContainer = prefixContainer;\n        widget._suffixContainer = suffixContainer;\n    }\n\n    var __meta__ = {\n        id: \"combobox\",\n        name: \"ComboBox\",\n        category: \"web\",\n        description: \"The ComboBox widget allows the selection from pre-defined values or entering a new value.\",\n        depends: [ \"list\", \"html.button\" ],\n        features: [ {\n            id: \"mobile-scroller\",\n            name: \"Mobile scroller\",\n            description: \"Support for kinetic scrolling in mobile device\",\n            depends: [ \"mobile.scroller\" ]\n        }, {\n            id: \"virtualization\",\n            name: \"VirtualList\",\n            description: \"Support for virtualization\",\n            depends: [ \"virtuallist\" ]\n        } ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            encode = kendo.htmlEncode,\n            ui = kendo.ui,\n            html = kendo.html,\n            List = ui.List,\n            Select = ui.Select,\n            caret = kendo.caret,\n            support = kendo.support,\n            placeholderSupported = support.placeholder,\n            activeElement = kendo._activeElement,\n            keys = kendo.keys,\n            ns = \".kendoComboBox\",\n            nsFocusEvent = ns + \"FocusEvent\",\n            CLICK = \"click\" + ns,\n            MOUSEDOWN = \"mousedown\" + ns,\n            DISABLED = \"disabled\",\n            READONLY = \"readonly\",\n            CHANGE = \"change\",\n            LOADING = \"k-i-loading k-input-loading-icon\",\n            FOCUSED = \"k-focus\",\n            STATEDISABLED = \"k-disabled\",\n            ARIA_DISABLED = \"aria-disabled\",\n            ARIA_READONLY = \"aria-readonly\",\n            AUTOCOMPLETEVALUE = \"off\",\n            STATE_FILTER = \"filter\",\n            STATE_ACCEPT = \"accept\",\n            STATE_REBIND = \"rebind\",\n            HOVEREVENTS = \"mouseenter\" + ns + \" mouseleave\" + ns,\n            newLineRegEx = /(\\r\\n|\\n|\\r)/gm,\n            NON_PRINTABLE_KEYS = [16,17,18,19,20,33,34,37,39,45,91,92,144,145];\n\n        var ComboBox = Select.extend({\n            init: function(element, options) {\n                var that = this, text, disabled;\n\n                that.ns = ns;\n\n                options = Array.isArray(options) ? { dataSource: options } : options;\n\n                Select.fn.init.call(that, element, options);\n\n                options = that.options;\n                element = that.element.on(\"focus\" + ns, that._focusHandler.bind(that));\n\n                options.placeholder = options.placeholder || element.attr(\"placeholder\");\n\n                that._reset();\n\n                that._wrapper();\n\n                that._input();\n\n                that._clearButton();\n\n                that._tabindex(that.input);\n\n                that._popup();\n\n                that._dataSource();\n                that._ignoreCase();\n\n                that._enable();\n\n                that._attachFocusEvents();\n\n                that._oldIndex = that.selectedIndex = -1;\n\n                that._initialIndex = options.index;\n\n                that.requireValueMapper(that.options);\n                that._initList();\n\n                that._cascade();\n\n                if (options.autoBind) {\n                    that._filterSource();\n                } else {\n                    text = options.text;\n\n                    if (!text && that._isSelect) {\n                        text = element.children(\":selected\").text();\n                    }\n\n                    if (text) {\n                        that._setText(text);\n                    }\n                }\n\n                if (!text) {\n                    that._placeholder();\n                }\n\n                disabled = $(that.element).parents(\"fieldset\").is(':disabled');\n\n                if (disabled) {\n                    that.enable(false);\n                }\n\n                addInputPrefixSuffixContainers({ widget: that, wrapper: that.wrapper, options: that.options,\n                    prefixInsertBefore: that.input,\n                    suffixInsertAfter: that._clear.parent().length ? that._clear : that.input });\n\n                kendo.notify(that);\n                that._toggleCloseVisibility();\n                that._applyCssClasses();\n\n                if (options.label) {\n                    that._label();\n                }\n\n                that._aria();\n            },\n\n            options: {\n                name: \"ComboBox\",\n                enabled: true,\n                index: -1,\n                text: null,\n                value: null,\n                autoBind: true,\n                delay: 200,\n                dataTextField: \"\",\n                dataValueField: \"\",\n                minLength: 1,\n                enforceMinLength: false,\n                height: 200,\n                highlightFirst: true,\n                filter: \"none\",\n                placeholder: \"\",\n                suggest: false,\n                cascadeFrom: \"\",\n                cascadeFromField: \"\",\n                cascadeFromParentField: \"\",\n                cascadeOnCustomValue: false,\n                ignoreCase: true,\n                animation: {},\n                virtual: false,\n                template: null,\n                groupTemplate: function (data) { return encode(data); },\n                fixedGroupTemplate: function (data) { return encode(data); },\n                prefixOptions: {\n                    separator: true\n                },\n                suffixOptions: {\n                    separator: true\n                },\n                clearButton: true,\n                syncValueAndText: true,\n                autoWidth: false,\n                popup: null,\n                size: \"medium\",\n                fillMode: \"solid\",\n                rounded: \"medium\",\n                label: null,\n                clearOnEscape: true\n            },\n\n            events: [\n                \"open\",\n                \"close\",\n                CHANGE,\n                \"select\",\n                \"filtering\",\n                \"dataBinding\",\n                \"dataBound\",\n                \"cascade\",\n                \"set\"\n            ],\n\n            setOptions: function(options) {\n                var listOptions = this._listOptions(options);\n\n                Select.fn.setOptions.call(this, options);\n\n                this.listView.setOptions(listOptions);\n\n                this._accessors();\n                this._aria();\n                this._clearButton();\n            },\n\n            destroy: function() {\n                var that = this;\n\n                that.input.off(ns);\n                that.input.off(nsFocusEvent);\n                that.element.off(ns);\n                that.wrapper.off(ns);\n                clearTimeout(that._pasteTimeout);\n\n                if (that.filterInput) {\n                    that.filterInput.off(ns);\n                }\n\n                that._arrow.off(CLICK + \" \" + MOUSEDOWN);\n                that._clear.off(CLICK + \" \" + MOUSEDOWN);\n\n                Select.fn.destroy.call(that);\n            },\n\n            _onActionSheetCreate: function() {\n                var that = this;\n\n                if (that.filterInput) {\n                    that.filterInput\n                        .on(\"keydown\" + ns, that._keydown.bind(that))\n                        .on(\"input\" + ns, that._search.bind(that))\n                        .on(\"paste\" + ns, that._inputPaste.bind(that))\n                        .attr({\n                            \"role\": \"combobox\",\n                            \"aria-expanded\": false\n                        });\n\n                    that.popup.bind(\"activate\", function () {\n                        that.filterInput.val(that.input.val());\n                        that.filterInput.trigger(\"focus\");\n                    });\n\n                    that.popup.bind(\"deactivate\", function () {\n                        that.input.trigger(\"focus\");\n                    });\n                }\n            },\n\n            _onCloseButtonPressed: function() {\n                var that = this;\n                var textField = that.options.dataTextField || \"text\";\n                var current = that.listView.focus();\n\n                if (!current) {\n                    if (that._syncValueAndText() || that._isSelect) {\n                        if (!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                            var input = that.filterInput && activeElement() === that.filterInput[0] ? that.filterInput : that.input;\n                            that._accessor(input.val());\n                        }\n                    }\n\n                    if (that.options.highlightFirst) {\n                        that.listView.value(that.input.val());\n                        that._blur();\n                    } else {\n                        that._oldText = that.text();\n                    }\n                }\n            },\n\n            _isValueChanged: function(value) {\n                return value !== List.unifyType(this._old, typeof value) &&\n                    value !== List.unifyType(this._oldText, typeof value);\n            },\n\n            _change: function() {\n                var that = this;\n                var text = that.text();\n                var hasText = text && text !== that._oldText && text !== that.options.placeholder;\n                var index = that.selectedIndex;\n                var isCustom = index === -1;\n\n                if (that.filterInput && activeElement() === that.filterInput[0] && isCustom && hasText) {\n                    that.input.val(that.filterInput.val());\n                }\n\n                if (!that.options.syncValueAndText && !that.value() && isCustom && hasText) {\n                    that._old = \"\";\n                    that._oldIndex = index;\n                    that._oldText = text;\n\n                    if (!that._typing) {\n                        // trigger the DOM change event so any subscriber gets notified\n                        that.element.trigger(CHANGE);\n                    }\n\n                    that.trigger(CHANGE);\n                    that._typing = false;\n                    return;\n                }\n\n                Select.fn._change.call(that);\n\n                that._oldText = that.text && that.text();\n\n                that._toggleCloseVisibility();\n            },\n\n            _attachFocusEvents: function() {\n                var that = this;\n                that.input.on(\"focus\" + nsFocusEvent, that._inputFocus.bind(that))\n                          .on(\"focusout\" + nsFocusEvent, that._inputFocusout.bind(that));\n            },\n\n            _focusHandler: function(e) {\n                if (e.target === this.element[0]) {\n                    this.input.trigger(\"focus\");\n                }\n            },\n\n            _arrowClick: function() {\n                this._toggle();\n            },\n\n            _inputFocus: function() {\n                this.wrapper.addClass(FOCUSED);\n                this._placeholder(false);\n            },\n\n            _inputFocusout: function(e) {\n                var that = this;\n                var value = that.value();\n                var isClearButton = !$(e.relatedTarget).closest('.k-clear-value').length;\n\n                if (that.filterInput && e.relatedTarget === that.filterInput[0]) {\n                    return;\n                }\n\n                that._userTriggered = true;\n                that.wrapper.removeClass(FOCUSED);\n                clearTimeout(that._typingTimeout);\n                that._typingTimeout = null;\n\n                if (isClearButton) {\n                  that.text(that.text());\n                }\n\n                var item = that._focus();\n                var dataItem = this.listView.dataItemByIndex(this.listView.getElementIndex(item));\n                var selectedIndex = that.select();\n\n                if (value !== that.value() && selectedIndex !== -1 && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                    that.value(value);\n                    return;\n                }\n\n                that._placeholder();\n                that._valueBeforeCascade = that._old;\n\n                if (isClearButton) {\n                    that._blur();\n\n                    that.element.trigger(\"blur\");\n                }\n            },\n\n            _inputPaste: function() {\n                var that = this;\n                clearTimeout(that._pasteTimeout);\n                that._pasteTimeout = null;\n\n                that._pasteTimeout = setTimeout(function() {\n                    that.search();\n                });\n            },\n\n            _editable: function(options) {\n                var that = this,\n                    disable = options.disable,\n                    readonly = options.readonly,\n                    wrapper = that.wrapper.off(ns),\n                    input = that.element.add(that.input.off(ns)),\n                    arrow = that._arrow.off(CLICK + \" \" + MOUSEDOWN),\n                    clear = that._clear;\n\n                if (!readonly && !disable) {\n                    wrapper\n                        .removeClass(STATEDISABLED)\n                        .on(HOVEREVENTS, that._toggleHover);\n\n                    input.prop(DISABLED, false)\n                         .prop(READONLY, false)\n                         .attr(ARIA_DISABLED, false)\n                         .attr(ARIA_READONLY, false);\n\n                    arrow.on(CLICK, that._arrowClick.bind(that))\n                         .on(MOUSEDOWN, function(e) { e.preventDefault(); });\n\n                    clear.on(CLICK + \" touchend\" + ns, that._clearValue.bind(that));\n\n                    that.input\n                        .on(\"keydown\" + ns, that._keydown.bind(that))\n                        .on(\"input\" + ns, that._search.bind(that))\n                        .on(\"paste\" + ns, that._inputPaste.bind(that));\n\n                    that.wrapper.on(CLICK + ns, that._focusHandler.bind(that));\n                } else {\n                    wrapper\n                        .addClass(disable ? STATEDISABLED : \"\")\n                        .removeClass(disable ? \"\" : STATEDISABLED);\n\n                    input.attr(DISABLED, disable)\n                         .attr(READONLY, readonly)\n                         .attr(ARIA_DISABLED, disable)\n                         .attr(ARIA_READONLY, readonly);\n                }\n\n                that._toggleCloseVisibility();\n            },\n\n            open: function() {\n                var that = this;\n                var state = that._state;\n                var isFiltered = that.dataSource.filter() ? that.dataSource.filter().filters.length > 0 : false;\n                var reinitialized = !that.ul.find(that.listView.focus()).length;\n\n                if (that.popup.visible()) {\n                    return;\n                }\n\n                if ((!that.listView.bound() && state !== STATE_FILTER) || state === STATE_ACCEPT) {\n                    that._open = true;\n                    that._state = STATE_REBIND;\n\n                    if ((that.options.minLength !== 1 && !isFiltered) || (isFiltered && that.value() && that.selectedIndex === -1 )) {\n                        that.refresh();\n                        that._openPopup();\n                        if (!this.options.virtual) {\n                            that.listView.bound(false);\n                        }\n                    } else {\n                        that._filterSource();\n                    }\n                } else if (that._allowOpening()) {\n                    // In some cases when the popup is opened resize is triggered which will cause it to close\n                    // Setting the below flag will prevent this from happening\n                    that.popup._hovered = true;\n                    that._openPopup();\n                    if (that.options.virtual) {\n                        that._focusItem();\n                    } else if (reinitialized && that.options.highlightFirst) {\n                        that.listView.focus(0);\n                    }\n                }\n            },\n\n            _scrollToFocusedItem: function() {\n                var listView = this.listView;\n\n                listView.scrollToIndex(listView.getElementIndex(listView.focus()));\n            },\n\n            _openPopup: function() {\n                this.popup.one(\"activate\", this._scrollToFocusedItem.bind(this));\n                this.popup.open();\n            },\n\n            _updateSelectionState: function() {\n                var that = this;\n                var text = that.options.text;\n                var value = that.options.value;\n\n                if (that.listView.isFiltered()) {\n                    return;\n                }\n\n                if (that.selectedIndex === -1) {\n                    if (text === undefined$1 || text === null) {\n                        text = value;\n                    }\n\n                    that._accessor(value);\n                    that.input.val(text || that.input.val());\n                    that._placeholder();\n                } else if (that._oldIndex === -1) {\n                    that._oldIndex = that.selectedIndex;\n                }\n            },\n\n            _buildOptions: function(data) {\n                var that = this;\n                if (!that._isSelect) {\n                    return;\n                }\n\n                var custom = that._customOption;\n\n                if (that._state === STATE_REBIND) {\n                    that._state = \"\";\n                }\n\n                that._customOption = undefined$1;\n                that._options(data, \"\", that.value());\n\n                if (custom && custom[0].selected && !that.listView._emptySearch) {\n                    that._custom(custom.val());\n                }\n            },\n\n            _updateSelection: function() {\n                var that = this;\n                var listView = that.listView;\n                var initialIndex = that._initialIndex;\n                var hasInitialIndex = initialIndex !== null && initialIndex > -1;\n                var filtered = that._state === STATE_FILTER;\n\n                if (filtered) {\n                    $(listView.focus()).removeClass(\"k-selected\");\n                    return;\n                }\n\n                if (that._fetch) {\n                    return;\n                }\n\n                if (!listView.value().length) {\n                    if (hasInitialIndex) {\n                        that.select(initialIndex);\n                    } else if (that._accessor()) {\n                        listView.value(that._accessor());\n                    }\n                }\n\n                that._initialIndex = null;\n                var dataItem = listView.selectedDataItems()[0];\n\n                if (!dataItem) {\n                    return;\n                }\n\n                if (that._value(dataItem) !== that.value()) {\n                    that._custom(that._value(dataItem));\n                } else if (that._value(dataItem) !== that.element[0].value) {\n                    that._accessor(that._value(dataItem));\n                }\n\n                if (that.text() && that.text() !== that._text(dataItem)) {\n                    that._selectValue(dataItem);\n                }\n            },\n\n            _updateItemFocus: function() {\n                var listView = this.listView;\n\n                if (!this.options.highlightFirst) {\n                    listView.focus(-1);\n                } else if (!listView.focus() && !listView.focusIndex()) {\n                    listView.focus(0);\n                }\n            },\n\n            _listBound: function() {\n                var that = this;\n                var isActive = that.input[0] === activeElement() || that.filterInput && that.filterInput[0] === activeElement();\n\n                var data = that.dataSource.flatView();\n                var skip = that.listView.skip();\n                var length = data.length;\n                var groupsLength = that.dataSource._group ? that.dataSource._group.length : 0;\n                var isFirstPage = skip === undefined$1 || skip === 0;\n\n                that._presetValue = false;\n\n                that._renderFooter();\n                that._renderNoData();\n                that._toggleNoData(!length);\n                that._toggleHeader(!!groupsLength && !!length);\n\n                that._resizePopup();\n\n                that.popup.position();\n\n                that._buildOptions(data);\n\n                that._updateSelection();\n\n                if (data.length && isFirstPage) {\n                    that._updateItemFocus();\n\n                    if (that.options.suggest && isActive && that.input.val()) {\n                        that.suggest(data[0]);\n                    }\n                }\n\n                if (that._open) {\n                    that._open = false;\n\n                    if (that._typingTimeout && !isActive) {\n                        that.popup.close();\n                    } else {\n                        that.toggle(that._allowOpening());\n                    }\n\n                    that._typingTimeout = null;\n                }\n\n                that._hideBusy();\n                that.trigger(\"dataBound\");\n            },\n\n            _listChange: function() {\n                this._selectValue(this.listView.selectedDataItems()[0]);\n\n                if (this._presetValue) {\n                    this._oldIndex = this.selectedIndex;\n                }\n            },\n\n            _get: function(candidate) {\n                var data, found, idx;\n\n                if (typeof candidate === \"function\") {\n                    data = this.dataSource.flatView();\n\n                    for (idx = 0; idx < data.length; idx++) {\n                        if (candidate(data[idx])) {\n                            candidate = idx;\n                            found = true;\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        candidate = -1;\n                    }\n                }\n\n                if (!this.dataSource.total() && !candidate) {\n                    candidate = -1;\n                }\n\n                return candidate;\n            },\n\n            _select: function(candidate, keepState) {\n                var that = this;\n\n                candidate = that._get(candidate);\n\n                if (candidate === -1) {\n                    that.input[0].value = \"\";\n                    that._accessor(\"\");\n                }\n\n                return that.listView.select(candidate).done(function() {\n                    if (!keepState && that._state === STATE_FILTER) {\n                        that._state = STATE_ACCEPT;\n                    }\n                    that._toggleCloseVisibility();\n                });\n            },\n\n            _selectValue: function(dataItem) {\n                var idx = this.listView.select();\n                var value = \"\";\n                var text = \"\";\n\n                idx = idx[idx.length - 1];\n                if (idx === undefined$1) {\n                    idx = -1;\n                }\n\n                this.selectedIndex = idx;\n\n                if (this.listView.isFiltered() && idx !== -1) {\n                    this._valueBeforeCascade = this._old;\n                }\n\n                if (idx === -1 && !dataItem) {\n                    if (this.options.syncValueAndText) {\n                        if (this.options.dataTextField === this.options.dataValueField) {\n                            text = this._accessor();\n                        } else {\n                            text = this.input[0].value;\n                        }\n                        value = text;\n                    }\n                    else {\n                        text = this.text();\n                    }\n                    this.listView.focus(-1);\n                } else {\n                    if (dataItem || dataItem === 0) {\n                        value = this._dataValue(dataItem);\n                        text = this._text(dataItem);\n                    }\n\n                    if (value === null) {\n                        value = \"\";\n                    }\n                }\n\n                this._setDomInputValue(text);\n                this._accessor(value !== undefined$1 ? value : text, idx);\n\n                this._placeholder();\n                this._triggerCascade();\n            },\n\n            _setDomInputValue: function(text) {\n                var that = this;\n                var currentCaret = caret(this.input);\n                var caretStart;\n\n                if (currentCaret && currentCaret.length) {\n                    caretStart = currentCaret[0];\n                }\n\n                this._prev = this.input[0].value = text;\n\n                if (caretStart && this.selectedIndex === -1) {\n                    var mobile = support.mobileOS;\n                    if (mobile.wp || mobile.android) {// without the timeout the caret is at the end of the input\n                        setTimeout(function() { that.input[0].setSelectionRange(caretStart, caretStart); }, 0);\n                    }\n                    else {\n                        this.input[0].setSelectionRange(caretStart, caretStart);\n                    }\n                }\n            },\n\n            refresh: function() {\n                this.listView.refresh();\n            },\n\n            _toggleCloseVisibility: function() {\n                var preventShow = this.element.is(\":disabled\") || this.element.is(\"[readonly]\");\n\n                if (this.text() && !preventShow) {\n                    this._showClear();\n                } else {\n                    this._hideClear();\n                }\n            },\n\n            suggest: function(word) {\n                var that = this;\n                var element = that.input[0];\n                var value = that.text();\n                var caretIdx = caret(element)[0];\n                var key = that._last;\n                var idx;\n                var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n                if (key == keys.BACKSPACE || key == keys.DELETE) {\n                    that._last = undefined$1;\n                    return;\n                }\n\n                word = word || \"\";\n\n                if (typeof word !== \"string\") {\n                    if (word[0]) {\n                        word = that.dataSource.view()[List.inArray(word[0], that.ul[0])];\n                    }\n\n                    word = word ? that._text(word) : \"\";\n                }\n\n                if (caretIdx <= 0) {\n                    caretIdx = (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()).indexOf(accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()) + 1;\n                }\n\n                if (word) {\n                    word = word.toString();\n                    idx = (accentFoldingFiltering ? word.toLocaleLowerCase(accentFoldingFiltering) : word.toLowerCase()).indexOf(accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase());\n                    if (idx > -1) {\n                        value += word.substring(idx + value.length);\n                    }\n                } else {\n                    value = value.substring(0, caretIdx);\n                }\n\n                if (value.length !== caretIdx || !word) {\n                    element.value = value;\n                    if (element === activeElement()) {\n                        caret(element, caretIdx, value.length);\n                    }\n                }\n            },\n\n            text: function(text) {\n                text = text === null ? \"\" : text;\n\n                var that = this;\n                var input = that.filterInput && that.filterInput[0] === activeElement() ? that.filterInput[0] : that.input[0];\n                var ignoreCase = that.options.ignoreCase;\n                var loweredText = text;\n                var dataItem;\n                var value;\n\n                if (text === undefined$1) {\n                    return input.value;\n                }\n\n                if (that.options.autoBind === false && !that.listView.bound()) {\n                    that._setText(text);\n                    return;\n                }\n\n                dataItem = that.dataItem();\n\n                if (dataItem && that._text(dataItem).replace && that._text(dataItem).replace(newLineRegEx,\"\") === text) {\n                    value = that._value(dataItem);\n\n                    if (value === List.unifyType(that._old, typeof value)) {\n                        that._triggerCascade();\n                        return;\n                    }\n                }\n\n                if (ignoreCase) {\n                    loweredText = loweredText.toLowerCase();\n                }\n\n                if (that.dataItem() && that._text(that.dataItem()) === text) {\n                    return;\n                }\n\n                that._select(function(data) {\n                    data = that._text(data);\n                    if (ignoreCase) {\n                        data = (data + \"\").toLowerCase();\n                    }\n\n                    return data === loweredText;\n                }).done(function() {\n                    if (that.selectedIndex < 0) {\n                        input.value = text;\n\n                        if (that.options.syncValueAndText) {\n                            that._accessor(text);\n                        }\n\n                        that._cascadeTriggered = true;\n                        that._triggerCascade();\n                        that._refreshFloatingLabel();\n                    }\n\n                    that._prev = input.value;\n                });\n\n                that._toggleCloseVisibility();\n            },\n\n            toggle: function(toggle) {\n                this._toggle(toggle, true);\n            },\n\n            value: function(value) {\n                var that = this;\n                var options = that.options;\n                var listView = that.listView;\n\n                if (value === undefined$1) {\n                    value = that._accessor() || that.listView.value()[0];\n                    return value === undefined$1 || value === null ? \"\" : value;\n                }\n\n                that.requireValueMapper(that.options, value);\n\n                that.trigger(\"set\", { value: value });\n\n                if (value === options.value && that.input.val() === options.text &&\n                !that.options.cascadeFrom) {\n                    return;\n                }\n\n                that._accessor(value);\n\n                if (that._isFilterEnabled() && listView.bound() && listView.isFiltered()) {\n                    that._clearFilter();\n                } else {\n                    that._fetchData();\n                }\n\n                listView\n                    .value(value)\n                    .done(function() {\n                        if (that.selectedIndex === -1 && (!listView._selectedDataItems || !listView._selectedDataItems.length)) {\n                            that._accessor(value);\n                            that.input.val(value);\n                            that._placeholder(true);\n                        }\n\n                        if (that._userTriggered) {\n                             that._old = that._accessor();\n                        } else {\n                             that._old = that._valueBeforeCascade = that._accessor();\n                        }\n\n                        that._oldIndex = that.selectedIndex;\n\n                        that._prev = that._oldText = that.input.val();\n\n                        if (that._state === STATE_FILTER) {\n                            that._state = STATE_ACCEPT;\n                        }\n                        that._toggleCloseVisibility();\n\n                        that._refreshFloatingLabel();\n                    });\n            },\n\n            _hideBusy: function() {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrowIcon.removeClass(LOADING);\n                that._arrowIcon.find(\"svg\").show();\n                that._focused.attr(\"aria-busy\", false);\n                that._busy = null;\n                that._toggleCloseVisibility();\n            },\n\n            _click: function(e) {\n                var that = this;\n                var item = e.item;\n                var dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(item));\n                var shouldTrigger = true;\n                e.preventDefault();\n\n                if (dataItem) {\n                    shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n\n                    if (!shouldTrigger) {\n                       that.input.val(that._text(dataItem));\n                    }\n                }\n\n                if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: item })) {\n                    that.close();\n                    return;\n                }\n\n                that._userTriggered = true;\n\n                that._select(item).done(function() {\n                    that._blur();\n                });\n            },\n\n            _syncValueAndText: function() {\n                return this.options.syncValueAndText;\n            },\n\n            _inputValue: function() {\n                return this.text();\n            },\n\n            _searchByWord: function(word) {\n                var that = this;\n                var options = that.options;\n                var dataSource = that.dataSource;\n                var ignoreCase = options.ignoreCase;\n                var predicate = function(dataItem) {\n                    var text = that._text(dataItem);\n                    if (text !== undefined$1) {\n                        text = text + \"\";\n                        if (text !== \"\" && word === \"\") {\n                            return false;\n                        }\n\n                        if (ignoreCase) {\n                            text = text.toLowerCase();\n                        }\n\n                        return text.indexOf(word) === 0;\n                    }\n                };\n\n                if (ignoreCase) {\n                    word = word.toLowerCase();\n                }\n\n                if (!that.ul[0].firstChild) {\n                    dataSource.one(CHANGE, function() {\n                        if (dataSource.view()[0]) {\n                            that.search(word);\n                        }\n                    }).fetch();\n                    return;\n                }\n\n                this.listView.focus(this._get(predicate));\n\n                var current = this.listView.focus();\n\n                if (current) {\n                    if (options.suggest) {\n                        that.suggest(current);\n                    }\n\n                    this.open();\n                }\n\n                if (this.options.highlightFirst && !word) {\n                    this.listView.focusFirst();\n                }\n            },\n\n            _input: function() {\n                var that = this,\n                    element = that.element.removeClass(\"k-input-inner\")[0],\n                    accessKey = element.accessKey,\n                    wrapper = that.wrapper,\n                    SELECTOR = \"input.k-input-inner\",\n                    name = element.name || \"\",\n                    options = that.options,\n                    input,\n                    maxLength,\n                    arrowBtn;\n\n                if (name) {\n                    name = 'name=\"' + name + '_input\" ';\n                }\n\n                input = wrapper.find(SELECTOR);\n\n                if (!input[0]) {\n                    arrowBtn = html.renderButton('<button type=\"button\" class=\"k-input-button\" aria-label=\"expand combobox\"></button>', {\n                        icon: \"caret-alt-down\",\n                        size: options.size,\n                        fillMode: options.fillMode,\n                        shape: \"none\",\n                        rounded: \"none\",\n                    });\n\n                    wrapper.append('<input ' + name + 'class=\"k-input-inner\" type=\"text\" autocomplete=\"' + AUTOCOMPLETEVALUE + '\"/>')\n                        .append(arrowBtn)\n                        .append(that.element);\n\n                    input = wrapper.find(SELECTOR);\n                }\n\n                input[0].style.cssText = element.style.cssText;\n                input[0].title = element.title;\n\n                maxLength = parseInt(this.element.prop(\"maxlength\") || this.element.attr(\"maxlength\"), 10);\n                if (maxLength > -1) {\n                    input[0].maxLength = maxLength;\n                }\n\n                input.addClass(element.className)\n                    .css({\n                        width: \"\",\n                        height: element.style.height,\n                        position: \"\"\n                    })\n                    .attr({\n                        \"role\": \"combobox\",\n                        \"aria-expanded\": false\n                    })\n                    .show();\n\n                input.attr(kendo.attr(\"skip\"), true);\n                if (placeholderSupported) {\n                    input.attr(\"placeholder\", that.options.placeholder);\n                }\n\n                if (accessKey) {\n                    element.accessKey = \"\";\n                    input[0].accessKey = accessKey;\n                }\n\n                that._focused = that.input = input;\n                that._arrow = wrapper.find(\".k-input-button\")\n                    .attr({\n                        \"role\": \"button\",\n                        \"tabIndex\": -1\n                    });\n                that._arrowIcon = that._arrow.find(\".k-icon, .k-svg-icon\");\n            },\n\n            _clearButton: function() {\n                List.fn._clearButton.call(this);\n\n                if (this.options.clearButton) {\n                    this._clear.insertAfter(this.input);\n                    this.wrapper.addClass(\"k-combobox-clearable\");\n                }\n            },\n\n            _keydown: function(e) {\n                var that = this,\n                    key = e.keyCode,\n                    textField = that.options.dataTextField || \"text\",\n                    isFkey = key >= 112 && key <= 135,\n                    isNonPrintableKey = NON_PRINTABLE_KEYS.indexOf(key) > -1;\n\n                that._last = key;\n\n                clearTimeout(that._typingTimeout);\n                that._typingTimeout = null;\n\n                if (key === keys.HOME) {\n                    that._firstItem();\n                } else if (key === keys.END) {\n                    that._lastItem();\n                } else if (key === keys.ENTER || (key === keys.TAB && that.popup.visible())) {\n                    var current = that.listView.focus();\n                    var dataItem = that.dataItem();\n                    var shouldTrigger = true;\n\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n\n                    if (current) {\n                        if (that.popup.visible()) {\n                            e.preventDefault();\n                        }\n\n                        dataItem = that.listView.dataItemByIndex(that.listView.getElementIndex(current));\n\n                        if (dataItem) {\n                            shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                        }\n\n                        if (shouldTrigger && that.trigger(\"select\", { dataItem: dataItem, item: current })) {\n                            return;\n                        }\n\n                        that._userTriggered = true;\n\n                        that._select(current).done(function() {\n                            that._blur();\n                            that._valueBeforeCascade = that._old = that.value();\n                        });\n                    } else {\n                        if (that._syncValueAndText() || that._isSelect) {\n                            if (!that.dataItem() || that.dataItem()[textField] !== that.input.val()) {\n                                var input = that.filterInput && activeElement() === that.filterInput[0] ? that.filterInput : that.input;\n                                that._accessor(input.val());\n                            }\n                        }\n\n                        if (that.options.highlightFirst) {\n                            that.listView.value(that.input.val());\n                            that._blur();\n                        } else {\n                            that._oldText = that.text();\n                        }\n                    }\n                } else if (key != keys.TAB && !that._move(e) && !isNonPrintableKey && !isFkey && !e.ctrlKey) {\n                   that._search();\n                } else if (that.options.clearOnEscape && key === keys.ESC && !that.popup.visible() && that.text()) {\n                    that._clearValue();\n                }\n            },\n\n            _placeholder: function(show) {\n                if (placeholderSupported) {\n                    return;\n                }\n\n                var that = this,\n                    input = that.input,\n                    placeholder = that.options.placeholder,\n                    value;\n\n                if (placeholder) {\n                    value = that.value();\n\n                    if (show === undefined$1) {\n                        show = !value;\n                    }\n\n                    input.toggleClass(\"k-readonly\", show);\n\n                    if (!show) {\n                        if (!value) {\n                            placeholder = \"\";\n                        } else {\n                            return;\n                        }\n                    }\n\n                    input.val(placeholder);\n\n                    if (!placeholder && input[0] === activeElement()) {\n                        caret(input[0], 0, 0);\n                    }\n                }\n            },\n\n            _search: function() {\n                var that = this;\n\n                clearTimeout(that._typingTimeout);\n\n                that._typingTimeout = setTimeout(function() {\n                    var value = that.text();\n\n                    if (value !== \"\" && that._prev !== value) {\n                        that._prev = value;\n\n                        if (that.options.filter === \"none\" && that.options.virtual) {\n                            that.listView.select(-1);\n                        }\n\n                        that.search(value);\n\n                        that._toggleCloseVisibility();\n                    }\n                    else if (value === \"\" && that._prev !== \"\" && that._prev !== undefined$1) {\n                        that._clearValue();\n                        that._open = true;\n                        that._state = STATE_REBIND;\n                    }\n\n                    that._typingTimeout = null;\n                }, that.options.delay);\n            },\n\n            _setText: function(text) {\n                this.input.val(text);\n                this._prev = text;\n            },\n\n            _wrapper: function() {\n                var that = this,\n                    element = that.element,\n                    wrapper = element.parent();\n\n                if (!wrapper.is(\"span.k-input\")) {\n                    wrapper = element.hide().wrap(\"<span />\").parent();\n                    wrapper[0].style.cssText = element[0].style.cssText;\n                }\n\n                that.wrapper = wrapper.addClass(\"k-input k-combobox\")\n                    .addClass(element[0].className)\n                    .removeClass('input-validation-error')\n                    .css(\"display\", \"\");\n            },\n\n            _clearSelection: function(parent, isFiltered) {\n                var that = this;\n                var hasValue = parent.value();\n                var custom = hasValue && parent.selectedIndex === -1;\n\n                if (this.selectedIndex == -1 && this.value()) {\n                    return;\n                }\n\n                if (isFiltered || !hasValue || custom) {\n                    that.options.value = \"\";\n                    that.value(\"\");\n                }\n            },\n\n            _preselect: function(value, text) {\n                this.input.val(text);\n                this._accessor(value);\n\n                this._old = this._accessor();\n                this._oldIndex = this.selectedIndex;\n\n                this.listView.setValue(value);\n                this._placeholder();\n\n                this._initialIndex = null;\n                this._presetValue = true;\n                this._toggleCloseVisibility();\n            },\n\n            _clearText: function() {\n                this._old = this.value();\n                this.text(\"\");\n            },\n\n            _clearValue: function() {\n                var that = this;\n                var input = that.filterInput && that.filterInput[0] === activeElement() ? that.filterInput : that.input;\n\n                Select.fn._clearValue.call(this);\n                input.trigger(\"focus\");\n            }\n        });\n\n        ui.plugin(ComboBox);\n\n        kendo.cssProperties.registerPrefix(\"ComboBox\", \"k-input-\");\n\n        kendo.cssProperties.registerValues(\"ComboBox\", [{\n            prop: \"rounded\",\n            values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n        }]);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}