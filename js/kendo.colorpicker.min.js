/** 
 * Copyright 2021 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("colorpicker/colorselector.min",["kendo.core.min"],e)}(function(){return function(e,t){function o(e,t,o){o=r(o),(o&&!o.equals(e.color())||o!==e.color())&&("change"==t&&(e._value=o),o&&1!=o.a?o=o.toCssRgba():o&&(o=o.toCss()),e.trigger(t,{value:o}))}var n=window.kendo,a=n.ui,i=a.Widget,r=n.parseColor,s=e.extend,l=".kendoColorTools",c="k-state-disabled",d=i.extend({init:function(e,t){var o,n=this;i.fn.init.call(n,e,t),e=n.element,t=n.options,n._value=t.value=r(t.value),n._tabIndex=e.attr("tabIndex")||0,o=n._ariaId=t.ariaId,o&&e.attr("aria-labelledby",o),t._standalone&&(n._triggerSelect=n._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","forceSelect","cancel"],color:function(e){return e!==t&&(this._value=r(e),this._updateUI(this._value)),this._value},value:function(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(e){0===arguments.length&&(e=!0),this.wrapper.toggleClass(c,!e),this._onEnable(e)},_select:function(e,t){var o=this._value;e=this.color(e),t||(e&&!e.equals(o)||null===e&&e!==o?(this.element.trigger("change"),this.trigger("change",{value:this.value()})):this._standalone||this.trigger("cancel"))},_triggerSelect:function(e){o(this,"select",e)},_triggerChange:function(e){o(this,"change",e)},destroy:function(){this.element&&this.element.off(l),this.wrapper&&this.wrapper.off(l).find("*").off(l),this.wrapper=null,i.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});s(a,{colorpicker:{ColorSelector:d}})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(e,define){define("colorpicker/contrastToolUtils.min",["kendo.core.min"],e)}(function(){return function(e,t){function o(e,t){var o=Math.max(e,t),n=Math.min(e,t);return(o+.05)/(n+.05)}function n(e,t){return o(a(i(e,t)),a(i(t,{r:0,g:0,b:0,a:1})))}function a(e){var t=[e.r,e.g,e.b].map(function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*t[0]+.7152*t[1]+.0722*t[2]}function i(e,t){var o=r(e.r,0,255),n=r(e.g,0,255),a=r(e.b,0,255),i=r(e.a,0,1),s=r(t.r,0,255),l=r(t.g,0,255),c=r(t.b,0,255);return{r:Math.round((1-i)*s+i*o),g:Math.round((1-i)*l+i*n),b:Math.round((1-i)*c+i*a)}}function r(e,t,o){return!s(e)||isNaN(e)?t:e<=t?t:e>=o?o:e}function s(e){return null!==e&&e!==t}function l(e,t,o){var a=function(i,r,s,l,c){var d=(s+l)/2,u=C({},t,{s:r/e.width,v:1-d/e.height}),p=n(k(f(u)).toBytes(),k(o).toBytes());return s+.5>l?p<i+1&&p>i-1?d:null:c(p,i)?a(i,r,s,l-(l-s)/2,c):a(i,r,s+(l-s)/2,l,c)},i=function(e,t){return e>t},r=function(e,t){return e<t},s=function(t,o,n){var s,l,c=[];for(s=0;s<=e.width;s+=e.width/o)l=a(t,s,0,e.height,n?r:i),null!==l&&c.push([s,l]);return c},l=d(u(p)),v=c(s(g,b,!1),l)+c(s(g,b,!0),l)+c(s(_,b,!1),l)+c(s(_,b,!0),l);return'<svg xmlns="http://www.w3.org/2000/svg" style="position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px; z-index: 3;" >'+v+"</svg>"}function c(e,t){var o,n;return 0===e.length?"":(o=function(e,o,n,a){return 0===n?kendo.format("M {0},{1}",o[0],o[1]):kendo.format("{0} {1}",e,t(o,n,a))},n=e.reduce(o,""),kendo.format('<path d="{0}" fill="none" stroke="white" stroke-width="1"/>',n))}function d(e){return function(t,o,n){var a=e(n[o-1],n[o-2],t),i=e(t,n[o-1],n[o+1],!0);return kendo.format("C {0},{1} {2},{3} {4},{5}",a[0],a[1],i[0],i[1],t[0],t[1])}}function u(e){return function(t,o,n,a){var i=o||t,r=n||t,s=.1,l=e(i,r),c=l.angle+(a?Math.PI:0),d=l.length*s,u=t[0]+Math.cos(c)*d,p=t[1]+Math.sin(c)*d;return[u,p]}}function p(e,t){var o=t[0]-e[0],n=t[1]-e[1];return{length:Math.sqrt(Math.pow(o,2)+Math.pow(n,2)),angle:Math.atan2(n,o)}}function f(e){var t=r(e.h,0,359.9),o=r(e.s,0,1),n=r(e.v,0,1),a=r(e.a,0,1);return h.fromHSV(t,o,n,a).toCssRgba()}var v=kendo.ui.colorpicker,C=e.extend,h=kendo.Color,k=kendo.parseColor,g=4.5,_=7,b=16;C(v,{contrastToolUtils:{getContrastFromTwoRGBAs:n,renderSvgCurveLine:l}})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(e,define){define("colorpicker/colorgradient.min",["kendo.core.min","colorpicker/contrastToolUtils.min"],e)}(function(){return function(e,t){function o(e){e.preventDefault()}function n(e,t){return function(){return e.apply(t,arguments)}}var a=window.kendo,i=a.ui,r=a.Observable,s=a.parseColor,l=e.extend,c=a.Color,d=a.keys,u="background-color",p="#ffffff",f="#000000",v=".kendoColorTools",C="keydown"+v,h=i.colorpicker.ColorSelector,k=i.colorpicker.contrastToolUtils,g=r.extend({init:function(e,t){var o=this;o.element=e,o.options=t,o._viewModel=a.observable({switchMode:o.switchMode.bind(o),keydown:o.keydown.bind(o),mode:function(e){return e===this.get("format")},format:t.format,formats:t.formats,rgb:null,hex:function(){return null!==this.get("rgb")&&this.get("rgb").toCss({alpha:t.opacity})}}),o._changeHandler=o.change.bind(o),o._viewModel.bind("change",o._changeHandler),o._render(),o.element.on(C,o.keydown.bind(o)),r.fn.init.call(o)},_template:a.template('# if (options.formats && options.formats.length > 1) { #<div class="k-vstack"><button class="k-colorgradient-toggle-mode k-button k-icon-button k-flat" data-#:ns#bind="click: switchMode" title="#: options.messages.toggleFormat #"><span class="k-button-icon k-icon k-i-arrows-kpi"></span></button></div># } ## if (options.formats && options.formats.indexOf("hex") >= 0) { #<div class="k-vstack k-flex-1" data-#:ns#bind="visible: mode(\'hex\')"><input type="text" data-#:ns#bind="value: hex" data-#:ns#role="textbox" tabindex="#:options.tabindex#"  aria-label="#: options.messages.hex #"/><label class="k-colorgradient-input-label">HEX</label></div># } ## if (options.formats && options.formats.indexOf("rgb") >= 0) { #<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')"><input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.r" data-#:ns#role="numerictextbox" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.red #" /><label class="k-colorgradient-input-label">R</label></div><div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')"><input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.g" data-#:ns#role="numerictextbox" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.green #" /><label class="k-colorgradient-input-label">G</label></div><div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')"><input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.b" data-#:ns#role="numerictextbox" data-#:ns#max="255" data-#:ns#min="0" data-#:ns#decimals="0" data-#:ns#spinners="false" data-#:ns#format="n0"  aria-label="#: options.messages.blue #"/><label class="k-colorgradient-input-label">B</label></div>#if(options.opacity){#<div  class="k-vstack" data-#:ns#bind="visible: mode(\'rgb\')"><input tabindex="#:options.tabindex#" data-#:ns#bind="value: rgb.a" data-#:ns#role="numerictextbox" data-#:ns#step="0.1" data-#:ns#max="1" data-#:ns#min="0" data-#:ns#decimals="1" data-#:ns#spinners="false" data-#:ns#format="n1"  aria-label="#: options.messages.alpha #" /><label class="k-colorgradient-input-label">A</label></div># } ## } #'),destroy:function(){var e=this;e._viewModel.unbind("change",e._changeHandler),a.unbind(e.element),a.destroy(e.element),e.element.off(C),delete e._viewModel,delete e._changeHandler},_render:function(){var e=this;e.element.append(e._template({ns:a.ns,guid:a.guid(),options:e.options})).parent(),a.bind(e.element,e._viewModel),e.element.attr("data-"+a.ns+"stop","stop")},value:function(e){var t=this;t._color=e&&e.toBytes()||s(f),t._preventChangeEvent=!0,t._viewModel.set("rgb",t._color),delete t._preventChangeEvent},reset:function(){var e=this;e._preventChangeEvent=!0,e._viewModel.set("rgb",s(f)),delete e._preventChangeEvent},switchMode:function(){var e=this,t=e._viewModel,o=t.format,n=t.formats.indexOf(o)+1;n=n>=t.formats.length?0:n,e._preventChangeEvent=!0,e._viewModel.set("format",t.formats[n]),delete e._preventChangeEvent},change:function(e){var t=this;e.field.indexOf("rgb")>=0?(t._color=t._tryParseColor(t._viewModel.rgb.toCssRgba()),t._viewModel.set("hex",t._color.toCss({alpha:t.options.opacity}))):"hex"===e.field&&(t._color=t._tryParseColor(e.sender[e.field]),t._viewModel.set("rgb",t._color)),t._preventChangeEvent||t.trigger("change",{value:t._color})},_tryParseColor:function(e){var t=this;try{e=s(e)||t._color}catch(o){e=t._color}return e},keydown:function(t){var o=this,n=e(t.target).data("kendoTextBox");t.keyCode===d.ENTER&&(n&&n._focusout&&n._focusout(),o.trigger("change",{value:o._color}),o.trigger("select",{value:o._color}))}}),_=h.extend({init:function(t,o){var n,i=this;h.fn.init.call(i,t,o),o=i.options=a.deepExtend({},i.options,o),o.messages.previewInput&&(o.messages.hex=o.messages.previewInput),o.messages=o.messages?e.extend(i.options.messages,o.messages):i.options.messages,t=i.element,i.wrapper=t.addClass("k-colorgradient").append(i._template(o)),i._hueElements=e(".k-hsv-rectangle, .k-alpha-slider .k-slider-track",t),i._colorgradientInputs=e(".k-colorgradient-inputs",t),i._contrastTool=e(".k-colorgradient-color-contrast",t),i._sliders(),i._hsvArea(),n=i._value,i._colorgradientInputs.length&&(i._colorInput=new g(i._colorgradientInputs,l({},o,{tabindex:this._tabIndex})),i._colorInput.bind("change",function(e){i._updateUI(e.value,!0)}),i._colorInput.bind("select",function(e){var t=s(e.value);i._select(t),i.trigger("forceSelect",{value:i.value()})})),i._updateUI(n)},options:{name:"ColorGradient",opacity:!1,input:!0,format:"hex",formats:["rgb","hex"],contrastTool:!1,messages:{contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha"}},_template:a.template('<div class="k-colorgradient-canvas k-hstack"><div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-hsv-draghandle k-draghandle"></div></div><div class="k-hsv-controls k-hstack"><input class="k-hue-slider k-colorgradient-slider" /># if (opacity) { #<input class="k-alpha-slider k-colorgradient-slider" /># } #</div></div># if (input) { #<div class="k-colorgradient-inputs k-hstack"></div># } ## if (contrastTool) { #<div class="k-colorgradient-color-contrast k-vbox"></div># } #'),_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_sliders:function(){function e(e){o._updateUI(o._getHSV(e.value,null,null,null))}function t(e){o._updateUI(o._getHSV(null,null,null,e.value/100))}var o=this,n=o.element,a=n.find(".k-hue-slider"),i=n.find(".k-alpha-slider");a.attr("aria-label","hue saturation"),o._hueSlider=a.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,orientation:"vertical",slide:e,change:e}).data("kendoSlider"),i.attr("aria-label","opacity"),o._opacitySlider=i.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,orientation:"vertical",slide:t,change:t}).data("kendoSlider")},_hsvArea:function(){function e(e,o){var n=this.offset,a=e-n.left,i=o-n.top,r=this.width,s=this.height;a=a<0?0:a>r?r:a,i=i<0?0:i>s?s:i,t._svChange(a/r,1-i/s)}var t=this,o=t.element,i=o.find(".k-hsv-rectangle"),r=i.find(".k-draghandle").attr("tabIndex",0).on(C,n(t._keydown,t));t._hsvEvents=new a.UserEvents(i,{global:!0,press:function(t){this.offset=a.getOffset(i),this.width=i.width(),this.height=i.height(),r.focus(),e.call(this,t.x.location,t.y.location)},start:function(){i.addClass("k-dragging"),r.focus()},move:function(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},end:function(){i.removeClass("k-dragging")}}),t._hsvRect=i,t._hsvHandle=r},setBackgroundColor:function(t){var o=this;o.options.contrastTool&&(o.options.contrastTool=e.isPlainObject(o.options.contrastTool)?l({},o.options.contrastTool,{backgroundColor:t}):{backgroundColor:t},o._updateColorContrast(o.color()||s(p)))},_updateUI:function(e,o){var n=this;return e?(!o&&n._colorInput&&n._colorInput.value(e),n._triggerSelect(e),n._updateHsv(e),n._contrastTool.length&&n._updateColorContrast(e),t):(n._reset(),t)},_reset:function(){var e=this;e._colorInput&&e._colorInput.reset(),e._resetHsv(),e._resetColorContrast()},_resetHsv:function(){var e=this,t=s(f);e._updateHsv(t)},_updateHsv:function(e){var t=this,o=t._hsvRect;e=e.toHSV(),t._hsvHandle.css({left:e.s*o.width()+"px",top:(1-e.v)*o.height()+"px"}),t._hueElements.css(u,c.fromHSV(e.h,1,1,1).toCss()),t._hueSlider.value(e.h),t._opacitySlider&&(t._opacitySlider.wrapper.find(".k-slider-track").css("background","linear-gradient(to top, transparent, "+c.fromHSV(e.h,1,1,1).toCss()),t._opacitySlider.value(100*e.a))},_resetColorContrast:function(){var e=this,t=e.options.contrastTool;e._contrastTool.length&&e._updateColorContrast(s(t.backgroundColor?t.backgroundColor:p))},_updateColorContrast:function(e){var t=this,o=t.options.contrastTool,n=s(o.backgroundColor?o.backgroundColor:p),i=k.getContrastFromTwoRGBAs(s(e.toCssRgba()),n),r=a.template('<div class="k-contrast-ratio"><span class="k-contrast-ratio-text">#:messages.contrastRatio# #:kendo.toString(ratio, "n2")#</span><span class="k-contrast-validation k-text-success">#if (ratio > 4.5) {#<span class="k-icon k-i-check"></span>#}##if (ratio > 7) {#<span class="k-icon k-i-check"></span>#}#</span></div>'),l=a.template('<div><span>#:level#: #:limit# </span>#if (ratio > limit) {#<span class="k-contrast-validation k-text-success">#:messages.pass# <span class="k-icon k-i-check"></span></span>#} else {#<span class="k-contrast-validation k-text-error">#:messages.fail# <span class="k-icon k-i-close"></span></span>#}#</div>'),c="";c+=r({messages:t.options.messages,ratio:i}),c+=l({messages:t.options.messages,ratio:i,limit:4.5,level:"AA"}),c+=l({messages:t.options.messages,ratio:i,limit:7,level:"AAA"}),t._contrastTool.find(".k-contrast-ratio, div").remove(),t._contrastTool.append(c),t._updateContrastSvg(n)},_updateContrastSvg:function(t){var o,n=this,a=n._hsvRect,i="k-color-contrast-svg",r={width:a.width(),height:a.height()};r.width&&r.height&&(o=e(k.renderSvgCurveLine(r,n._getHSV(),t)).addClass(i),a.find("."+i).remove(),a.append(o))},_keydown:function(e){function t(t,n){var i=a._getHSV();i[t]+=n*(e.shiftKey?.01:.05),i[t]<0&&(i[t]=0),i[t]>1&&(i[t]=1),a._updateUI(i),o(e)}function n(t){var n=a._getHSV();n.h+=t*(e.shiftKey?1:5),n.h<0&&(n.h=0),n.h>359&&(n.h=359),a._updateUI(n),o(e)}var a=this;switch(e.keyCode){case d.LEFT:e.ctrlKey?n(-1):t("s",-1);break;case d.RIGHT:e.ctrlKey?n(1):t("s",1);break;case d.UP:t(e.ctrlKey&&a._opacitySlider?"a":"v",1);break;case d.DOWN:t(e.ctrlKey&&a._opacitySlider?"a":"v",-1);break;case d.ENTER:a._select(a._getHSV());break;case d.F2:a._colorInput.element.find("input").trigger("focus").select();break;case d.ESC:a._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,o,n){var a=this,i=a._hsvRect,r=i.width(),l=i.height(),d=this._hsvHandle.position();return r&&l?(null==e&&(e=a._hueSlider.value()),null==t&&(t=d.left/r),null==o&&(o=1-d.top/l),null==n&&(n=a._opacitySlider?a._opacitySlider.value()/100:1),c.fromHSV(e,t,o,n)):a.color()?a.color().toHSV():s(f)},_svChange:function(e,t){var o=this._getHSV(null,e,t,null);this._updateUI(o)},destroy:function(){this._hsvEvents.destroy(),this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._colorInput&&this._colorInput.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=this._contrastTool=null,h.fn.destroy.call(this)}});i.plugin(_)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(e,define){define("colorpicker/colorpalette.min",["kendo.core.min"],e)}(function(){return function(e,t){function o(e){e.preventDefault()}function n(e,t){return function(){return e.apply(t,arguments)}}function a(e,t,o){var n,a;return e=Array.prototype.slice.call(e),n=e.length,a=e.indexOf(t),a<0?o<0?e[n-1]:e[0]:(a+=o,a<0?a+=n:a%=n,e[a])}var i=window.kendo,r=i.ui,s=i.parseColor,l=i.keys,c="background-color",d="k-state-selected",u="k-state-focus",p="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",f="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",v=".kendoColorTools",C="click"+v,h="keydown"+v,k="blur"+v,g=r.colorpicker.ColorSelector,_=g.extend({init:function(t,o){var a,r,l,c,d=this;if(g.fn.init.call(d,t,o),t=d.wrapper=d.element,o=d.options,a=o.palette||"basic","websafe"==a?(a=f,o.columns=18):"basic"==a&&(a=p),"string"==typeof a&&(a=a.split(",")),e.isArray(a)&&(a=e.map(a,function(e){return s(e)})),d._selectedID=(o.ariaId||i.guid())+"_selected",t.addClass("k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(e(d._template({colors:a,columns:o.columns,tileSize:o.tileSize,value:d._value,id:o.ariaId}))).on(C,".k-colorpalette-tile",function(e){d._select(e.currentTarget)}).attr("tabIndex",d._tabIndex).on(h,n(d._keydown,d)).on(k,function(){d.wrapper.find(".k-colorpalette-tile").removeClass(u)}),r=o.tileSize){if(/number|string/.test(typeof r))l=c=parseFloat(r);else{if("object"!=typeof r)throw Error("Unsupported value for the 'tileSize' argument");l=parseFloat(r.width),c=parseFloat(r.height)}t.find(".k-colorpalette-tile").css({width:l,height:c})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.trigger("focus")},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var n,i,r=this.wrapper,p=r.find(".k-colorpalette-tile"),f=p.filter("."+u).get(0)||p.filter("."+d).get(0),v=e.keyCode;if(v==l.LEFT)n=a(p,f,-1);else if(v==l.RIGHT)n=a(p,f,1);else if(v==l.DOWN)n=a(p,f,this.options.columns);else if(v==l.UP)n=a(p,f,-this.options.columns);else if(v==l.ENTER){if(o(e),f)return this._select(f),this.trigger("forceSelect",{value:this.value()}),t}else v==l.ESC&&this._cancel();if(n){o(e),this._current(n);try{i=s(n.css(c)),this._triggerSelect(i)}catch(C){}}},_select:function(t){var o=this,n=o.wrapper.find(".k-colorpalette-tile");t=e(t),g.fn._select.call(o,t.css(c)),n.removeClass(d),t.addClass(d)},_current:function(t){this.wrapper.find("."+u).removeClass(u).attr("aria-selected",!1).removeAttr("id"),e(t).addClass(u).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var o=null,n=this.wrapper.find(".k-colorpalette-tile");this.wrapper.find(".k-colorpalette-tile").each(function(){var n=s(e(this).css(c));if(n&&n.equals(t))return o=this,!1}),this._current(o),n.removeClass(d),o&&e(o).addClass(d)},_template:i.template('<div class="k-colorpalette-table-wrap"><table class="k-colorpalette-table k-palette" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-colorpalette-tile#= selected ? " '+d+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table></div>')});r.plugin(_)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(e,define){define("colorpicker/flatcolorpicker.min",["kendo.core.min"],e)}(function(){return function(e,t){function o(e,t){return function(){return e.apply(t,arguments)}}var n=window.kendo,a=n.ui,i=n.Color,r="background-color",s={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},l=".kendoColorTools",c="click"+l,d="keydown"+l,u=a.colorpicker.ColorSelector,p=n.keys,f="k-no-color",v="k-state-selected",C={gradient:a.ColorGradient,palette:a.ColorPalette},h=u.extend({init:function(t,a){var i,s=this;a&&a.autoupdate===!1&&(a._standalone=!1),u.fn.init.call(s,t,a),a=s.options=n.deepExtend({},s.options,a),t=s.element,s.wrapper=t.addClass("k-flatcolorpicker k-coloreditor").append(s._template(a)),s._selectedColor=e(".k-coloreditor-preview-color",t),s._previousColor=e(".k-coloreditor-current-color",t),s._viewsContainer=e(".k-coloreditor-views",t),t.find(".k-button[data-view="+s.options.view+"]").addClass(v),i=s.color(),s._changeView(a.view),s._setViewSize(),i?(s._updateUI(i),s._previousColor.css(r,i.toDisplay()),s._selectedColor.css(r,i.toDisplay())):(s._selectedColor.addClass(f),s._previousColor.addClass(f)),t.on(d,o(s._keydown,s)).on(c,".k-coloreditor-reset",function(){s._clearColor=!0,s._updateUI(null),s._view.value(null)}).on(c,".k-coloreditor-apply",function(){s._select(s._clearColor?null:s._view.color())}).on(c,".k-coloreditor-cancel",function(){delete s._clearColor,s._updateUI(s.color()),s._cancel()}).on(c,".k-button[data-view]",function(o){var n=e(o.target).closest("[data-view]");n.is("."+v)||(t.find(".k-button[data-view]").removeClass(v),n.addClass(v),s._changeView(n.data("view")))})},destroy:function(){var e=this;u.fn.destroy.call(this),e._view&&(e._view.destroy(),e._viewsContainer.empty()),e.element.off(l),e._selectedColor=e._previousColor=e._viewsContainer=e._view=null},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],palette:null,autoupdate:!0,backgroundColor:null,columns:10,tileSize:24,messages:s},setBackgroundColor:function(e){var t=this;t._view&&t._view.setBackgroundColor&&t._view.setBackgroundColor(e)},_select:function(e){var t=this;u.fn._select.call(t,e),t._updatePreviousColor(e)},_updatePreviousColor:function(e){var t=this;e?(t._previousColor.removeClass(f),t._previousColor.css(r,e.toDisplay())):(t._previousColor.addClass(f),t._previousColor.css(r,""))},_changeView:function(t){var o,n,a=this,r=e.extend({},a.options),s=C[t];a._view&&a._view._colorInput&&(a.options.format=a._view._colorInput._viewModel.format),a.options.view=t,delete r.name,delete r.change,delete r.select,delete r.cancel,delete r._standalone,a._view&&(o=a._view.color(),a._view.destroy(),a._viewsContainer.empty()),o&&(o=o.toHSV(),n=i.fromHSV(a._cachedHue||0,o.s,o.v,o.a),a._cachedHue=o.toHSV().h,o=o.equals(n)?n:o),s&&(a._view=new C[t](e("<div></div>").appendTo(a._viewsContainer),r),a._view.value(o),a._view.bind("change",function(e){delete a._clearColor,a._updateUI(e.sender.color(),!0)}),a._view.bind("forceSelect",function(e){delete a._clearColor,a._select(e.sender.color())}))},_onEnable:function(e){var t=this;t._view&&t._view._onEnable(e)},focus:function(){var e=this;e._view&&e._view.focus()},_updateUI:function(e,t){var o=this;e&&e.toDisplay?(o._selectedColor.removeClass(f),o._selectedColor.css(r,e.toDisplay())):(o._selectedColor.addClass(f),o._selectedColor.css(r,"")),o._triggerSelect(e),o.options.autoupdate&&o._updatePreviousColor(e),t||o._view.value(e)},_setViewSize:function(){var e=this,t=e.wrapper[0],o=parseInt(e.options.tileSize.width||e.options.tileSize,10),n=parseInt(e.options.tileSize.width||e.options.tileSize,10),a=e.options.columns;t.style.setProperty("--kendo-color-preview-columns",a),t.style.setProperty("--kendo-color-preview-width",o+"px"),t.style.setProperty("--kendo-color-preview-height",n+"px")},_keydown:function(e){e.keyCode==p.ESC&&this._cancel()},_template:n.template('<div class="k-coloreditor-header k-hstack"># if (views && views.length > 1) { #<div class="k-coloreditor-header-actions k-hstack"><div class="k-button-group k-button-group-flat"><button class="k-button k-icon-button k-flat" data-view="gradient" title="#:messages.gradient#"><span class="k-button-icon k-icon k-i-color-canvas"></span></button><button class="k-button k-icon-button k-flat" data-view="palette" title="#:messages.palette#"><span class="k-button-icon k-icon k-i-palette"></span></button></div></div># } #<div class="k-spacer"></div><div class="k-coloreditor-header-actions k-hstack"># if (clearButton) { #<button class="k-coloreditor-reset k-button k-icon-button k-flat" title="#:messages.clearColor#"><span class="k-button-icon k-icon k-i-reset-color"></span></button># } ## if (preview) { #<div class="k-coloreditor-preview k-vstack"><span class="k-coloreditor-preview-color k-color-preview"></span><span class="k-coloreditor-current-color k-color-preview"></span></div># } #</div></div><div class="k-coloreditor-views k-vstack"></div># if (buttons) { #<div class="k-coloreditor-footer k-actions k-hstack k-justify-content-end"><button class="k-coloreditor-cancel k-button" title="#:messages.cancel#">#: messages.cancel #</button><button class="k-coloreditor-apply k-button k-primary" title="#:messages.apply#">#: messages.apply #</button></div># } #')});a.plugin(h)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()}),function(e,define){define("kendo.colorpicker.min",["kendo.core.min","kendo.color.min","kendo.popup.min","kendo.slider.min","kendo.userevents.min","kendo.button.min","kendo.binder.min","kendo.textbox.min","kendo.numerictextbox.min","colorpicker/colorselector.min","colorpicker/colorgradient.min","colorpicker/colorpalette.min","colorpicker/flatcolorpicker.min"],e)}(function(){return function(e,t){function o(e){e.preventDefault()}function n(e,t){return function(){return e.apply(t,arguments)}}var a=window.kendo,i=a.ui,r=i.Widget,s=a.Color,l=a.parseColor,c=a.keys,d="background-color",u="#ffffff",p={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:null,contrastRatio:"Contrast ratio:",fail:"Fail",pass:"Pass",hex:"HEX",toggleFormat:"Toggle format",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",gradient:"Gradient view",palette:"Palette view"},f=".kendoColorTools",v="click"+f,C="keydown"+f,h=i.colorpicker.ColorSelector,k=i.FlatColorPicker,g=r.extend({init:function(t,o){var n,i,s,c,d,u=this;o&&o.palette&&!o.view&&(o.view="palette"),r.fn.init.call(u,t,o),o=u.options=a.deepExtend({},u.options,o),t=u.element,n=t.attr("value")||t.val(),n=n?l(n,!0):l(o.value,!0),u._value=o.value=n,i=u.wrapper=e(u._template(o)),t.hide().after(i),u._inputWrapper=e(u.wrapper[0].firstChild),t.is("input")&&(t.appendTo(i),s=t.closest("label"),c=t.attr("id"),c&&(s=s.add('label[for="'+c+'"]')),s.on("click",function(e){u.open(),e.preventDefault()})),u._tabIndex=t.attr("tabIndex")||0,u.enable(!t.attr("disabled")),d=t.attr("accesskey"),d&&(t.attr("accesskey",null),i.attr("accesskey",d)),u.bind("activate",function(e){e.isDefaultPrevented()||u.toggle()}),u._updateUI(n)},destroy:function(){this.wrapper.off(f).find("*").off(f),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,r.fn.destroy.call(this)},enable:function(e){var t=this,a=t.wrapper,i=a.children(".k-picker-wrap"),r=i.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),a.attr("aria-disabled",!e),r.off(f).on("mousedown"+f,o),a.addClass("k-state-disabled").removeAttr("tabIndex").add("*",a).off(f),e?a.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+f,function(){i.addClass("k-state-hover")}).on("mouseleave"+f,function(){i.removeClass("k-state-hover")}).on("focus"+f,function(){i.addClass("k-state-focused")}).on("blur"+f,function(){i.removeClass("k-state-focused")}).on(C,n(t._keydown,t)).on(v,".k-select",n(t.toggle,t)).on(v,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")}):t.close()},_template:a.template('<div role="textbox" aria-haspopup="true" class="k-colorpicker"><span  class="k-picker-wrap"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span role="button" class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-s"></span></span></span ></div>'),options:{name:"ColorPicker",closeOnSelect:!1,contrastTool:!1,palette:null,columns:10,toolIcon:null,value:null,messages:p,opacity:!1,buttons:!0,preview:!0,clearButton:!1,input:!0,format:"hex",formats:["rgb","hex"],view:"gradient",views:["gradient","palette"],backgroundColor:null,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=!0,this._getPopup().close(),delete e._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},setBackgroundColor:function(e){var t=this,o=function(){t._selector.setBackgroundColor(e)};t.options.contrastTool.backgroundColor=e,t._selector&&t._popup&&t._popup.visible()?t._selector.setBackgroundColor(e):t._popup&&(t._popup.unbind("activate",o),t._popup.bind("activate",o))},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color")},color:h.fn.color,value:h.fn.value,_select:h.fn._select,_triggerSelect:h.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e,t){var o="";e&&(o=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(o)),this._ariaTemplate||(this._ariaTemplate=a.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(o)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(d,e?e.toDisplay():u),this._noColorIcon().toggleClass("k-no-color",!o),this._selector&&!t&&this._selector.value(e)},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==c.ESC?this._selector._cancel():this._selector._keydown(e),o(e)):t!=c.ENTER&&t!=c.DOWN||(this.open(),o(e))},_getPopup:function(){var o,n,i,r,c,d=this,u=d._popup;return u||(o=d.options,n=k,o.autoupdate=o.buttons!==!0,delete o.select,delete o.change,delete o.cancel,i=a.guid(),r=e('<div id="'+i+'" class="k-colorpicker-popup"></div>').appendTo(document.body),c=d._selector=new n(e("<div></div>").appendTo(r),o),
d.wrapper.attr("aria-owns",i),d._popup=u=r.kendoPopup({anchor:d.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),c.bind({select:function(e){d._updateUI(l(e.value),!0)},change:function(e){d.options.buttons?d._select(c.color()):d._updateUI(l(e.value),!0),(d.options.buttons||"palette"===d._selector.options.view&&d.options.closeOnSelect)&&d.close()},cancel:function(){d.close()}}),u.bind({close:function(e){if(d.trigger("close"))return e.preventDefault(),t;d.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var o=c.color();d._select(d.options.buttons?d.color():o),o=d.color(),o&&o.h&&(d._cachedHue=o.h),setTimeout(function(){d.wrapper&&!d.wrapper.is("[unselectable='on']")&&d.wrapper.trigger("focus")},0)},open:function(e){d.trigger("open")?e.preventDefault():d.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){var e,t=d.color();t&&(t=t.toHSV(),e=s.fromHSV(d._cachedHue||0,t.s,t.v,t.a),t=t.equals(e)?e:t),c.value(t),c.focus(),d.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})),u}});i.plugin(g)}(jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,o){(o||t)()});
//# sourceMappingURL=kendo.colorpicker.min.js.map
