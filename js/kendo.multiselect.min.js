/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.list.js"),require("kendo.mobile.scroller.js"),require("kendo.virtuallist.js"),require("kendo.html.chip.js"),require("kendo.html.chiplist.js"),require("kendo.html.button.js"),require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.html.chip.min","kendo.html.chiplist.min","kendo.html.button.min","kendo.core.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendomultiselect=e.kendomultiselect||{},e.kendomultiselect.js={}))}(this,(function(e){let t=kendo.jQuery;function i({widget:e,wrapper:i,options:a,prefixInsertBefore:n,suffixInsertAfter:s}){var r,l,o=a.prefixOptions,u=a.suffixOptions,c=o.template||o.icon,p=u.template||u.icon,d=(s=s||n,a.layoutFlow),h=d?"vertical"==d?"horizontal":"vertical":"horizontal",f=`<span class="k-input-separator k-input-separator-${"vertical"==d?"horizontal":"vertical"}"></span>`;o&&c&&((r=i.children(".k-input-prefix"))[0]||(a._isInInlineAIPrompt&&(h=d||"horizontal"),r=t(`<span class="k-input-prefix k-input-prefix-${h}" />`),n?r.insertBefore(n):r.prependTo(i)),o.icon&&r.html(kendo.html.renderIcon({icon:o.icon})),o.template&&r.html(kendo.template(o.template)({})),o.separator&&t(f).insertAfter(r)),u&&p&&((l=i.children(".k-input-suffix"))[0]||(l=t(`<span class="k-input-suffix k-input-suffix-${h}" />`).appendTo(i),s?l.insertAfter(s):l.appendTo(i)),u.icon&&l.html(kendo.html.renderIcon({icon:u.icon})),u.template&&l.html(kendo.template(u.template)({})),u.separator&&t(f).insertBefore(l)),e._prefixContainer=r,e._suffixContainer=l}!function(e,t){var a=window.kendo,n=a.ui,s=n.List,r=a.htmlEncode,l=a.html,o=e.extend({A:65},a.keys),u=a._activeElement,c=a.data.ObservableArray,p="id",d=".k-chip",h="accept",f="filter",_="rebind",v="open",g="close",m="change",b="select",T="deselect",w="aria-disabled",I="aria-readonly",k="aria-expanded",x="aria-hidden",y="aria-activedescendant",V="k-focus",L="k-selected",S="k-hover",C="k-disabled",A="k-no-click",D="disabled",O="readonly",F=".kendoMultiSelect",B="click"+F,E="keydown"+F,M="mouseenter"+F,P="mouseleave"+F,H=M+" "+P,j=/"/g,K=Array.isArray,q=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"];var R=s.extend({init:function(t,n){var r,l=this;l.ns=F,s.fn.init.call(l,t,n),l._optionsMap={},l._customOptions={},l.options.inputMode=l.options.inputMode||l.element.attr("inputmode")||"text",!a.isPresent(l.options.readonly)&&l.element.attr("readonly")?l.options.readonly=!0:a.isPresent(l.options.readonly)||(l.options.readonly=!1),l._wrapper(),l._inputValuesContainer(),l._tagList(),l._input(),l._textContainer(),l._clearButton(),l._arrowButton(),l._tabindex(l.input),t=l.element.attr("multiple","multiple").hide(),(n=l.options).placeholder||(n.placeholder=t.data("placeholder")),(r=t.attr(p))||(r=a.guid()),r&&(l._tagID=r+"_tag_active",r+="_taglist",l.tagList.attr(p,r)),l._initialOpen=!0,n.label&&this._label(),l._aria(),l._dataSource(),l._ignoreCase(),l._popup(),l._tagTemplate(),l.requireValueMapper(l.options),l._initList(),l._reset(),l._enable(),l._placeholder(),n.autoBind?l.dataSource.fetch():n.value&&l._preselect(n.value),e(l.element).parents("fieldset").is(":disabled")&&l.enable(!1),l._toggleCloseVisibility(),l._applyCssClasses(),i({widget:l,wrapper:l.wrapper,options:l.options,prefixInsertBefore:l._inputValuesContainer,suffixInsertAfter:n.clearButton?l._clear:l.element.find("k-input-values")}),l.floatingLabel&&l.floatingLabel.refresh(),a.notify(l)},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,readonly:null,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found.",downArrow:"select"},enforceMinLength:!1,delay:100,downArrow:!1,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:e=>r(e),fixedGroupTemplate:e=>r(e),prefixOptions:{separator:!0},suffixOptions:{separator:!0},clearButton:!0,autoWidth:!1,popup:null,size:"medium",fillMode:"solid",rounded:"medium",label:null,adaptiveTitle:null,adaptiveSubtitle:null},events:[v,g,m,b,T,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._tagTemplate(),this._placeholder(),this._clearButton(),this._arrowButton()},currentTag:function(e){var i=this;if(e===t)return i._currentTag;i._currentTag&&(i._currentTag.removeClass(V).removeAttr(p),i._currentTag.find(".k-chip-action").attr(x,!0),i.input.removeAttr(y)),e&&(e.addClass(V).attr(p,i._tagID),e.find(".k-chip-action").removeAttr(x),i.input.attr(y,i._tagID)),i._currentTag=e},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.filterInput&&e.filterInput.off(t),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),e._clear.off(t),s.fn.destroy.call(e)},_onActionSheetCreate:function(){var e=this;e.filterInput.on("keydown"+F,e._keydown.bind(e)).on("input"+F,e._search.bind(e)).on("paste"+F,e._search.bind(e)).attr({role:"combobox","aria-expanded":!1,"aria-controls":e.input.attr("aria-controls"),"aria-autocomplete":e.input.attr("aria-autocomplete"),"aria-describedby":e.input.attr("aria-describedby"),placeholder:e.options.placeholder}),e.popup.bind("activate",(()=>{e.filterInput.val(e.input.val()),e.filterInput.trigger("focus")})),e.popup.bind("deactivate",(()=>{e.input.trigger("focus")}))},_aria:function(){var e=this,t=e.ul[0].id,i="none"===this.options.filter?"none":"list",a=e.tagList.attr(p);e.input.attr({role:"combobox","aria-expanded":!1,"aria-controls":t,"aria-autocomplete":i,"aria-describedby":a}),e._ariaLabel(e._focused)},_activateItem:function(){this.popup.visible()&&s.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(t){var i=this;var n=s.fn._listOptions.call(i,e.extend(t,{selectedItemChange:i._selectedItemChange.bind(i),selectable:"multiple"}));var l=this.options.itemTemplate||this.options.template;var o=n.itemTemplate||l||n.template;return o||(o=e=>r(a.getter(n.dataTextField)(e))),n.template=o,n},_setListValue:function(){s.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var i=this.dataSource.flatView();var a=this._optionsMap;var n=this._value;this._state===_&&(this._state="");for(var s=0;s<e.added.length;s++)if(a[n(e.added[s].dataItem)]===t){this._render(i);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t=e.items;var i;var a;for(a=0;a<t.length;a++)i=t[a],this.tagList.children(d).eq(i.index).children("span").first().html(this.tagTextTemplate(i.item))},_wrapperMousedown:function(t){var i=this;var n="input"!==t.target.nodeName.toLowerCase();var s=e(t.target);var r=s.closest(".k-input-button, .k-chip").children("[class*='-i-caret-alt-down']")[0];var l=s.closest("[class*='-i-x']")[0];!n||l&&a.support.mobileOS||!t.cancelable||t.preventDefault(),l||(r&&i.popup.visible()?i.toggle(!1):(i.input[0]!==u()&&n&&i.input.trigger("focus"),1!==i.options.minLength||i.popup.visible()||i.open()))},_inputFocus:function(){const e=this;e._hasActionSheet()?e.input.attr("readonly",!0):e.options.readonly||e.input.removeAttr("readonly"),e._placeholder(!1,!0),e.wrapper.addClass(V)},_inputFocusout:function(e){var t=this;t.filterInput&&e.relatedTarget===t.filterInput[0]||(clearTimeout(t._typingTimeout),t.wrapper.removeClass(V),t.tagList.children(d).removeClass(V),t._placeholder(!t.listView.selectedDataItems()[0],!0),t.close(),t._state===f&&(t._state=h,t.listView.skipUpdate(!0)),t.listView.bound()&&t.listView.isFiltered()&&(t.persistTagList=!0,t._clearFilter()),t.element.trigger("blur"))},_removeTag:function(e,i){var a=this;var n=a._state;var s=e.index();var r=a.listView;var l=r.value()[s];var o=a.listView.selectedDataItems()[s];var u=a._customOptions[l];var c=r.element[0].children;var p;if(a.trigger(T,{dataItem:o,item:e}))a._close();else{u!==t||n!==h&&n!==f||(u=a._optionsMap[l]);var d=function(){a.currentTag(null),i&&a._change(),a._refreshTagListAria(),a._close()};u===t&&r.select().length?(a.persistTagList=!1,r.select(r.select()[s]).done(d)):((p=a.element[0].children[u])&&(p.selected=!1),r.removeAt(s),r._removedAddedIndexes&&r._removedAddedIndexes.splice(s,1),c[u]&&c[u].classList.remove("k-selected"),"single"!==a.options.tagMode?e.remove():a._updateTagListHTML(),d())}},_tagListClick:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget);i.is("[class*='-i-x-circle']")&&this._removeTag(i.closest(d),!0)},_clearValue:function(){var t=this;"single"===t.options.tagMode?t._clearSingleTagValue():t.tagList.children(d).each((function(i,a){t._removeTag(e(a),!1)})),t.input.val(""),t._search(!0),t._change(),t.focus(),t._hideClear(),t._state===f&&(t._state=h)},_clearSingleTagValue:function(){var e=this;var t=e.dataItems();var i=e.tagList.children(d);var a=e.persistTagList;for(var n=0;n<t.length;n+=1)if(e.trigger(T,{dataItem:t[n],item:i.first()}))return void e._close();a&&(e.persistTagList=!1),e.listView.value([]),e.persistTagList=a},_focusHandler:function(){var e=this.input;var t=u();e[0]===t||this.input.trigger("focus")},_editable:function(t){var i=this,a=t.disable,n=t.readonly,s=i.wrapper.off(F),r=i.tagList.off(F),l=i.input.off(F);n||a?(s.toggleClass(C,a).toggleClass(A,n),l.attr(D,a).attr(O,n).attr(w,a).attr(I,n),i.element.prop(D,a)):(s.removeClass(C).removeClass(A).on(H,i._toggleHover).on("mousedown"+F+" touchend"+F,i._wrapperMousedown.bind(i)).on(B,i._focusHandler.bind(i)),i.input.on(E,i._keydown.bind(i)).on("paste"+F,i._search.bind(i)).on("input"+F,i._search.bind(i)).on("focus"+F,i._inputFocus.bind(i)).on("focusout"+F,i._inputFocusout.bind(i)),i._clear.on(B+" touchend"+F,i._clearValue.bind(i)),l.prop(D,!1).prop(O,!1).attr(w,!1).attr(I,!1),i.element.prop(D,!1),r.on(M,d,(function(){e(this).addClass(S)})).on(P,d,(function(){e(this).removeClass(S)})).on(B+" touchend"+F,".k-chip .k-icon,.k-chip .k-svg-icon",i._tagListClick.bind(i)))},_close:function(){var e=this;e.options.autoClose?e.close():e.popup.position()},_filterSource:function(e,t){t||(t=this._retrieveData),this._retrieveData=!1,s.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null,this.input.removeAttr(y),this.popup.close()},open:function(){var t=this,i=t.input.val().toLowerCase(),a=t.listView.dataSource.filter(),n="";a&&a.filters.length>0&&(n=(a.filters[0].value||"").toString().toLowerCase()),t._request&&(t._retrieveData=!1),t._retrieveData||!t.listView.bound()||t._state===h&&i!==n?(t._open=!0,t._state=_,t.listView.skipUpdate(!0),t.persistTagList=!(t._initialOpen&&!t.listView.bound()),t._filterSource(),t._focusItem()):t._allowOpening()&&(!t._initialOpen||t.options.autoBind||t.options.virtual||!t.options.value||e.isPlainObject(t.options.value[0])||t.value(t.value()||t._initialValues),t.popup._hovered=!0,t._initialOpen=!1,t.popup.open({altTarget:t.wrapper.add(t.element).add(t.input)}),t._focusItem())},toggle:function(e){this[(e=e!==t?e:!this.popup.visible())?v:g]()},refresh:function(){this.listView.refresh()},_floatCheck:function(){return!this.listView||!(this.value()&&this.value().length)&&!this.popup.visible()},_listBound:function(){var e=this;var t=e.dataSource.flatView();e._render(t),e._renderFooter(),e._renderNoData(),e._toggleNoData(!t.length),e._resizePopup(),e._open&&(e._open=!1,e.toggle(e._allowOpening())),e.popup.position(),e._updateItemFocus(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e.trigger("dataBound")},_updateItemFocus:function(){var e=this,i=e.dataSource.flatView(),a=e.listView.skip(),n=a===t||0===a;i.length&&n&&(e.options.highlightFirst?e.listView.focusFirst():e.listView.focus(-1))},_inputValue:function(){var e=this;var t=e.filterInput&&u()===e.filterInput[0]?e.filterInput.val():e.input.val();return e.options.placeholder===t&&(t=""),t},value:function(e){var i=this;var a=i.listView;var n=a.value().slice();var s=i.options.maxSelectedItems;var r=a.bound()&&a.isFiltered();if(e===t)return n;i.persistTagList=!1,i.requireValueMapper(i.options,e),e=i._normalizeValues(e),null!==s&&e.length>s&&(e=e.slice(0,s)),r&&i._clearFilter(),a.value(e),i._old=i._valueBeforeCascade=e.slice(),r||i._fetchData(),i._toggleCloseVisibility()},_preselect:function(t,i){var n=this;K(t)||t instanceof a.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof a.data.ObservableObject||!n.options.dataValueField)&&(n.dataSource.data(t),n.value(i||n._initialValues),n._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(i.selected=t)},_fetchData:function(){var e=this;var t=!!e.dataSource.view().length;0===e.listView.value().length||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done((function(){e._fetch=!1})))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{};(n=K(n)?{data:n}:n).select=t,n.fields=[{field:i.dataTextField},{field:i.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=e._showBusy,e._endRequestHandler=e._hideBusy,e._errorHandler=function(){e._hideBusy()}),e.dataSource=a.data.DataSource.create(n).bind("progress",e._progressHandler).bind("requestEnd",e._endRequestHandler).bind("error",e._errorHandler)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),n=a?e("#"+a):i.closest("form");n[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initialValues),t._placeholder()}))},t._form=n.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var i=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[i._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,(function(e){return i._value(e)})):K(t)||t instanceof c?K(t)&&(t=t.slice()):t=[t],t},_change:function(){var e=this,t=e.value();(function(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return!1;if((i=e.length)!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0})(t,e._old)||(e._old=t.slice(),e.trigger(m),e.element.trigger(m)),e.popup.position(),e._toggleCloseVisibility()},_click:function(e){var t=this;var i=e.item;e.preventDefault(),t._select(i).done((function(){t._activeItem=i,t._change(),t._close()}))},_getActiveItem:function(){return this._activeItem||e(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(i){var n=this;var s=i.keyCode;var r=n._currentTag;var l=n.listView;var u=n.input.val();var c=a.support.isRtl(n.wrapper);var p=n.popup.visible();var f=0;var _;var v=!1;if(s!==o.ENTER&&(this._multipleSelection=!1),s===o.DOWN){if(i.preventDefault(),!p)return n.open(),l.focus()||l.focusFirst(),void i.stopPropagation();l.focus()?(!n._activeItem&&i.shiftKey&&(n._activeItem=l.focus(),f=-1),_=l.getElementIndex(n._getActiveItem().first()),l.focusNext(),l.focus()?i.shiftKey&&!n.options.virtual&&(this._multipleSelection=!0,n._selectRange(_,l.getElementIndex(l.focus().first())+f)):l.focusLast()):l.focusFirst(),v=!0}else if(s===o.UP)p&&(!n._activeItem&&i.shiftKey&&(n._activeItem=l.focus(),f=1),_=l.getElementIndex(n._getActiveItem().first()),l.focusPrev(),l.focus()?i.shiftKey&&!n.options.virtual&&(this._multipleSelection=!0,n._selectRange(_,l.getElementIndex(l.focus().first())+f)):n.close()),v=!0,i.preventDefault();else if(s===o.LEFT&&!c||s===o.RIGHT&&c)u||(r=r?r.prev(d):n.tagList.children(d).last())[0]&&n.currentTag(r),v=!0;else if(s===o.RIGHT&&!c||s===o.LEFT&&c)!u&&r&&(r=r.next(d),n.currentTag(r[0]?r:null)),v=!0;else if(i.ctrlKey&&!i.altKey&&s===o.A&&p&&!n.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===l.items().length&&(n._activeItem=null),l.items().length&&n._selectRange(0,l.items().length-1),v=!0;else if(s===o.ENTER&&p){if(!l.focus())return void i.stopPropagation();if(i.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,l.focus().hasClass(L)))return n._close(),void i.stopPropagation();n._select(l.focus()).done((function(){n._change(),n._close()})),v=!0}else if(s===o.SPACEBAR&&i.ctrlKey&&p)n._activeItem&&l.focus()&&l.focus()[0]===n._activeItem[0]&&(n._activeItem=null),e(l.focus()).hasClass(L)||(n._activeItem=l.focus()),n._select(l.focus()).done((function(){n._change()})),v=!0,i.preventDefault();else if(s===o.SPACEBAR&&i.shiftKey&&p&&!n.options.virtual){var g=l.getElementIndex(n._getActiveItem());var m=l.getElementIndex(l.focus());g!==t&&m!==t&&n._selectRange(g,m),v=!0,i.preventDefault()}else if(s===o.ESC)p?i.preventDefault():(n.tagList.children(d).each((function(t,i){n._removeTag(e(i),!1)})),n._change()),n.close(),v=!0;else if(s===o.HOME)p?l.focus()?(i.ctrlKey&&i.shiftKey&&!n.options.virtual&&n._selectRange(l.getElementIndex(l.focus()[0]),0),l.focusFirst()):n.close():u||(r=n.tagList.children(d).first()[0])&&n.currentTag(e(r)),v=!0;else if(s===o.END)p?l.focus()?(i.ctrlKey&&i.shiftKey&&!n.options.virtual&&n._selectRange(l.getElementIndex(l.focus()[0]),l.element.children().length-1),l.focusLast()):n.close():u||(r=n.tagList.children(d).last()[0])&&n.currentTag(e(r)),v=!0;else if(s!==o.DELETE&&s!==o.BACKSPACE||u)if(!n.popup.visible()||s!==o.PAGEDOWN&&s!==o.PAGEUP)clearTimeout(n._typingTimeout),n._search(),v=!0;else{i.preventDefault();var b=s===o.PAGEDOWN?1:-1;l.scrollWith(b*l.screenHeight()),v=!0}else{if(n._state=h,"single"===n.options.tagMode)return n._clearSingleTagValue(),n._change(),n._close(),void i.stopPropagation();s!==o.BACKSPACE||r||(r=n.tagList.children(d).last()),r&&r[0]&&n._removeTag(r,!0),v=!0}v&&i.stopPropagation()},_placeholder:function(e,i){var n=this;var s=n.input;var r=u();var l=n.options.placeholder;var o=s.val();var c=s[0]===r;var p=o.length;c&&!n.options.autoClose&&o!==l||(p=0,o=""),e===t&&(e=!1,s[0]!==r&&(e=!n.listView.selectedDataItems()[0])),n._prev=o,s.toggleClass("k-readonly",e).val(e?l:o),c&&!i&&a.caret(s[0],p,p)},_option:function(e,i,n){var s="<option";return e!==t&&(-1!==(e+="").indexOf('"')&&(e=e.replace(j,"&quot;")),s+=' value="'+e+'"'),n&&(s+=" selected"),s+=">",i!==t&&(s+=a.htmlEncode(i)),s+"</option>"},_render:function(e){var t=this.listView.selectedDataItems();var i=this.listView.value();var a=e.length;var n;var s="";var r;var l;var o;i.length!==t.length&&(t=this._buildSelectedItems(i));var u={};var c={};for(o=0;o<a;o++)r=e[o],l=this._value(r),-1!==(n=this._selectedItemIndex(l,t))&&t.splice(n,1),c[l]=o,s+=this._option(l,this._text(r),-1!==n);if(t.length)for(o=0;o<t.length;o++)r=t[o],u[l=this._value(r)]=a,c[l]=a,a+=1,s+=this._option(l,this._text(r),!0);this._customOptions=u,this._optionsMap=c,this.element.html(s)},_buildSelectedItems:function(e){var t=this.options.dataValueField;var i=this.options.dataTextField;var a=[];var n;for(var s=0;s<e.length;s++)(n={})[t]=e[s],n[i]=e[s],a.push(n);return a},_selectedItemIndex:function(e,t){var i=this._value;var a=0;for(;a<t.length;a++)if(e===i(t[a]))return a;return-1},_search:function(e){let t=this;!0!==e?(clearTimeout(t._typingTimeout),t._typingTimeout=setTimeout((function(){t._performSearch()}),t.options.delay)):t._performSearch()},_performSearch:function(){var e=this,t=e._inputValue();e._prev!==t&&(e._prev=t,e.search(t),e._toggleCloseVisibility())},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&s.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,t){var i=this;var n=i.dataSource.total();var s=i.tagList;var r=i._value;var l;var o;var u;if(this.persistTagList)return this.updatePersistTagList(e,t),void i._refreshTagListAria();if("multiple"===i.options.tagMode){for(u=t.length-1;u>-1;u--)l=t[u],s.children(d).length&&(s[0].removeChild(s[0].children[l.position]),i._setOption(r(l.dataItem),!1));for(u=0;u<e.length;u++)o=e[u],i.tagList.append(i.tagTemplate(o.dataItem)),i._setOption(r(o.dataItem),!0);a.applyStylesFromKendoAttributes(i.tagList,["background-color"])}else{for((!i._maxTotal||i._maxTotal<n)&&(i._maxTotal=n),this._updateTagListHTML(),u=t.length-1;u>-1;u--)i._setOption(r(t[u].dataItem),!1);for(u=0;u<e.length;u++)i._setOption(r(e[u].dataItem),!0)}i._refreshTagListAria(),i._refreshFloatingLabel(),i._placeholder()},_refreshTagListAria:function(){var t=this;l.renderChipList(t.tagList,e.extend({selectable:0===t.value().length?"none":"multiple"},t.options))},_updateTagListHTML:function(){var t=this;var i=t.value();var n=t.dataSource.total();t.tagList.children(d).each((function(t,i){e(i).remove()})),i.length&&(t.tagList.append(t.tagTemplate({values:i,dataItems:t.dataItems(),maxTotal:t._maxTotal,currentTotal:n})),a.applyStylesFromKendoAttributes(t.tagList,["background-color"])),t._refreshTagListAria()},_select:function(t){var i=e.Deferred().resolve();if(!t)return i;var a=this;var n=a.listView;var s=n.dataItemByIndex(n.getElementIndex(t));var r=t.hasClass("k-selected");return a._state===_&&(a._state=""),a._allowSelection()||r?a.trigger(r?T:b,{dataItem:s,item:t})?(a._close(),i):(a.persistTagList=!1,n.select(t).done((function(){a._placeholder(),a._state===f&&(a._state=h,n.skipUpdate(!0))}))):i},_selectIndices:function(t){let i=this.listView;let a=this;i.select(t).done((function(){t.forEach((function(t){var n=i.dataItemByIndex(t);var s=i.element.children()[t];var r=e(s).hasClass("k-selected");a.trigger(r?b:T,{dataItem:n,item:e(s)})})),a._change()}))},_selectRange:function(e,t){var i=this;var a=this.options.maxSelectedItems;var n=this._getSelectedIndices().slice();var s=[];var r;if(n.length-1==t-e)return i._selectIndices(n);if(e<t)for(r=e;r<=t;r++)s.push(r);else for(r=e;r>=t;r--)s.push(r);for(null!==a&&s.length>a&&(s=s.slice(0,a)),r=0;r<s.length;r++){var l=s[r];-1==this._getSelectedIndices().indexOf(l)?n.push(l):n.splice(n.indexOf(l),1)}return n.length?(i.persistTagList=!1,i._selectIndices(n)):void 0},_input:function(){var t=this;var i=t.element;var a=i[0].accessKey;var n=t._inputValuesContainer.children("input.k-input-inner");n[0]||(n=e('<input class="k-input-inner" />').appendTo(t._inputValuesContainer)),i.removeAttr("accesskey"),n.attr("data-validate","false"),n.attr("inputmode",t.options.inputMode),t._focused=t.input=n.attr({autocomplete:"off",title:i[0].title}),a&&t._focused.attr("accesskey",a)},_inputValuesContainer:function(){var t=this,i=t.wrapper.children(".k-input-values");i[0]||(i=e('<div class="k-input-values"></div>').appendTo(t.wrapper)),t._inputValuesContainer=i},_tagList:function(){var t=this,i=t.options,a=t._inputValuesContainer.children(".k-chip-list");a[0]||(a=e(l.renderChipList('<div unselectable="on" class="k-selection-multiple" />',e.extend({selectable:"none"},i))).appendTo(t._inputValuesContainer)),t.tagList=a},_tagTemplate:function(){var t=this;var i=t.options;var n=i.tagTemplate;var s=i.dataSource;var o="multiple"===i.tagMode;var u=i.messages.singleTag;var c;t.element[0].length&&!s&&(i.dataTextField=i.dataTextField||"text",i.dataValueField=i.dataValueField||"value"),c=o?e=>r(a.getter(i.dataTextField)(e)):({values:e})=>`${e.length} ${r(u)}`,t.tagTextTemplate=n=n?a.template(n):c,t.tagTemplate=function(a){return l.renderChip('<span unselectable="on"></span>',e.extend({},i,{fillMode:"solid",rounded:"medium",enabled:!0,themeColor:"base",text:n(a),attr:{unselectable:"on","aria-selected":!0,role:"option","aria-keyshortcuts":o?"Enter Delete":"Enter"},removable:o,removableAttr:{unselectable:"on","aria-hidden":!0,"aria-label":t.options.messages.deleteTag,title:t.options.messages.deleteTag},icon:o?"":"caret-alt-down",iconAttr:{unselectable:"on","aria-hidden":!0,"aria-label":"open"}}))}},_popup:function(){s.fn._popup.call(this),this.popup.element.addClass("k-multiselect-popup")},_clearButton:function(){s.fn._clearButton.call(this),this.options.clearButton&&this._clear.insertAfter(this._inputValuesContainer)},_arrowButton:function(){var t=r(this.options.messages.downArrow),i=e(l.renderButton('<button type="button" aria-label="'+t+'" class="k-input-button"></button>',e.extend({},this.options,{icon:"caret-alt-down",rounded:null})));this._arrow&&(this._arrow.remove(),this._arrow=null),this.options.downArrow&&(this._arrow=i.attr({tabIndex:-1}),this._arrow.appendTo(this.wrapper))},_textContainer:function(){var t=a.getComputedStyles(this.input[0],q);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var e=this.element,t=e.parent("span.k-multiselect");t[0]||((t=e.wrap('<span class="k-multiselect k-input" unselectable="on" />').parent())[0].style.cssText=e[0].style.cssText),this.wrapper=t.addClass(e[0].className).removeClass("input-validation-error").css("display","")},_closeHandler:function(e){this.trigger(g)?e.preventDefault():(this.input.attr(k,!1),this.ul.attr(x,!0))},_openHandler:function(e){this._adjustListWidth(),this.trigger(v)?e.preventDefault():(this.input.attr(k,!0),this.ul.attr(x,!1))}});n.plugin(R),a.cssProperties.registerPrefix("MultiSelect","k-input-"),a.cssProperties.registerValues("MultiSelect",[{prop:"rounded",values:a.cssProperties.roundedValues.concat([["full","full"]])}])}(window.kendo.jQuery);var a=kendo;e.__meta__={id:"multiselect",name:"MultiSelect",category:"web",description:"The MultiSelect widget allows the selection from pre-defined values.",depends:["list","html.chip","html.chiplist","html.button"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.multiselect.min.js.map
