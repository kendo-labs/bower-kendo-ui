/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.draganddrop.js"),require("kendo.data.js"),require("kendo.selectable.js"),require("kendo.html.button.js")):"function"==typeof define&&define.amd?define(["exports","kendo.draganddrop.min","kendo.data.min","kendo.selectable.min","kendo.html.button.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendolistbox=e.kendolistbox||{},e.kendolistbox.js={}))}(this,(function(e){!function(e,t){var a=window.kendo;var r=a.attr;var n=a.data;var o=a.keys;var i=a.template;var l=a.ui.Widget;var s=n.DataSource;var d=a.ui.Selectable;var c=a.ui.DataBoundWidget;var u=a.Class;var v=e.extend;var m=e.noop;var g="-";var p="kendoListBox";var f="."+p;var _="k-disabled";var h="k-selected";var b=".k-list-item:not(.k-disabled)";var x=".k-list-ul:not(.k-disabled) >"+b;var T="k-listbox-actions";var k=".k-button";var S="k-focus";var C="click"+f;var y="keydown"+f;var I="blur"+f;var B=a._outerWidth;var D=a._outerHeight;var E="change";var w="dataBound";var L="add";var A="remove";var F="reorder";var N="moveUp";var U="moveDown";var H="transferTo";var W="transferFrom";var K="transferAllTo";var O="transferAllFrom";var j="caret-alt-right";var q="caret-alt-left";var P="caret-double-alt-right";var V="caret-double-alt-left";var $="k-ghost";var M="id";var R="tabindex";var G="dragstart";var Q="drag";var z="drop";var J="dragend";var X="right";var Y="aria-activedescendant";var Z="aria-busy";var ee="aria-label";var te=[T+g+"left",T+g+X,T+g+"top",T+g+"bottom"];function ae(t){return e.map(t,(function(t){return e(t).index()}))}function re(e){return void 0===e}function ne(e){return e.clone().attr("class","").addClass("k-drag-clue")}function oe(){return e("<li>").addClass("k-drop-hint")}var ie=c.extend({init:function(e,t){var a=this;l.fn.init.call(a,e,t),a._wrapper(),a._list(),a._ariaLabel(a._getList()),(e=a.element.attr("multiple","multiple").hide())[0]&&!a.options.dataSource&&(a.options.dataTextField=a.options.dataTextField||"text",a.options.dataValueField=a.options.dataValueField||"value"),a._templates(),a._selectable(),a._dataSource(),a._createToolbar(),a._createDraggable(),a._createNavigatable()},destroy:function(){var e=this;c.fn.destroy.call(e),isNaN(e._listTabIndex)||(e._getList().off(),e._listTabIndex=null),e._unbindDataSource(),e._destroySelectable(),e._destroyToolbar(),e.wrapper.off(f),e._target&&(e._target=null),e._draggable&&(e._draggable.destroy(),e.placeholder=null),a.destroy(e.element)},setOptions:function(e){l.fn.setOptions.call(this,e),this._templates(),this._dataSource()},events:[E,w,L,A,F,G,Q,z,J],options:{name:"ListBox",autoBind:!0,template:"",dataTextField:"",dataValueField:"",selectable:"single",draggable:null,dropSources:[],connectWith:"",navigatable:!0,toolbar:{position:X,tools:[]},messages:{tools:{remove:"Delete",moveUp:"Move Up",moveDown:"Move Down",transferTo:"Transfer To",transferFrom:"Transfer From",transferAllTo:"Transfer All To",transferAllFrom:"Transfer All From"}}},add:function(e){var t=this;var a=e&&e.length?e:[e];var r=a.length;var n=t._getList();var o;for(t._unbindDataSource(),t._unbindDataChange(),o=0;o<r;o++)t._addItem(a[o],n);t._bindDataChange(),t._bindDataSource(),t._syncElement()},_addItem:function(t,a){var r=this;var n=e(r.templates.itemTemplate({item:t,r:r.templates.itemContent}));r._setItemId(n,t.uid),n.appendTo(a),"string"==typeof t?r.dataSource._data.push(t):r.dataSource.add(t)},_addItemAt:function(t,a){var r=this;var n=e(r.templates.itemTemplate({item:t,r:r.templates.itemContent}));r._unbindDataSource(),"string"==typeof t?(r._insertElementAt(n,a),r.dataSource._data.push(t)):(r._setItemId(n,t.uid),r._insertElementAt(n,a),r.dataSource.add(t)),r._bindDataSource(),r._syncElement()},_insertElementAt:function(t,a){var r=this._getList();a>0?e(t).insertAfter(r.children().eq(a-1)):e(r).prepend(t)},_createNavigatable:function(){var e=this;e.options.navigatable&&e._getList().on(C,b,e._click.bind(e)).on(y,e._keyDown.bind(e)).on(I,e._blur.bind(e))},_getTabIndex:function(){var e=this;var t;return isNaN(e._listTabIndex)?(t=e.element.attr(R),e._listTabIndex=isNaN(t)?0:t,e.element.removeAttr(R),e._listTabIndex):e._listTabIndex},_blur:function(){this._target&&(this._target.removeClass(S),this._getList().removeAttr(Y)),this._target=null},_click:function(t){var r=this;var n=e(t.currentTarget);var o=r._target;var i=r._getList();var l=a._activeElement();var s=e.contains(i,l);o&&o.removeClass(S),r._target=n,n.addClass(S),i.attr(Y,n.attr(M)),i[0]===l||s&&e(l).is(":button,a,:input,a>.k-icon,a>.k-svg-icon,textarea,span.k-select,span.k-icon,span.k-svg-icon,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist")||r.focus()},_getNavigatableItem:function(e){var t=this;var a;return a=t._target?t._target:t.items().filter(b).first(),e===o.UP&&t._target&&(a=t._target.prevAll(b).first()),e===o.DOWN&&t._target&&(a=t._target.nextAll(b).first()),a.length?a:null},_scrollIntoView:function(e){if(e){e[0]&&(e=e[0]);var t=this._getList().parent()[0];var a=e.offsetTop;var r=t.scrollTop;var n=t.clientHeight;var o=a+e.offsetHeight;r>a?r=a:o>r+n&&(r=o-n),t.scrollTop=r}},_keyDown:function(e){var t=this;var a=e.keyCode;var r=t._getNavigatableItem(a);var n;if((!e.shiftKey||e.ctrlKey||a!==o.DOWN&&a!==o.UP)&&(t._shiftSelecting=!1),a==o.DELETE)t._executeCommand(A),t._target&&(t._target.removeClass(S),t._getList().removeAttr(Y),t._target=null),n=!0;else if(a===o.DOWN||a===o.UP){if(!r)return void e.preventDefault();if(e.shiftKey&&!e.ctrlKey)t._target&&t._target.removeClass(S),t._shiftSelecting||(t.clearSelection(),t._shiftSelecting=!0),t._target&&r.hasClass("k-selected")?t._target.removeClass(h):"single"==t.options.selectable?t.select(r):t.select(r.add(t._target)),t._updateToolbar(),t._updateAllToolbars(),t.trigger(E);else{if(e.shiftKey&&e.ctrlKey)return t._executeCommand(a===o.DOWN?U:N),t._scrollIntoView(t._target),void e.preventDefault();e.shiftKey||e.ctrlKey||(t._target&&t._target.removeClass(S),"multiple"===t.options.selectable&&t.clearSelection(),t.select(r),t._updateToolbar(),t._updateAllToolbars(),t.trigger(E))}r&&t._target&&t._target[0]!==r[0]&&t._target.removeClass(S),t._target=r,t._target?(t._target.addClass(S),t._scrollIntoView(t._target),t._getList().attr(Y,t._target.attr(M))):t._getList().removeAttr(Y),n=!0}else a==o.SPACEBAR?(e.ctrlKey&&t._target?(t._target.hasClass(h)?t._target.removeClass(h):t.select(t._target),t.trigger(E)):(t.clearSelection(),t.select(t._target),t.trigger(E)),t._updateToolbar(),t._updateAllToolbars(),n=!0):e.ctrlKey&&a==o.RIGHT?(e.shiftKey?t._executeCommand(K):t._executeCommand(H),t._target=t.select().length?t.select():null,n=!0):e.ctrlKey&&a==o.LEFT?(e.shiftKey?t._executeCommand(O):t._executeCommand(W),n=!0):a===o.F10&&t.toolbar&&(t.toolbar.element.find(k).not("[tabindex=-1]").trigger("focus"),n=!0);n&&e.preventDefault()},focus:function(){a.focusElement(this._getList())},_createDraggable:function(){var t=this;var r=t.options.draggable;var n;if(r){if(n=r.hint,!t.options.selectable)throw new Error("Dragging requires selection to be enabled");n||(n=ne),t._draggable=new a.ui.Draggable(t.wrapper,{filter:r.filter?r.filter:"ul.k-list-ul>li.k-list-item",hint:a.isFunction(n)?n:e(n),dragstart:t._dragstart.bind(t),dragcancel:t._clear.bind(t),drag:t._drag.bind(t),dragend:t._dragend.bind(t)})}},_dragstart:function(t){var r=this;var n=r.draggedElement=t.currentTarget;var o=r.options.draggable.placeholder;var i={dataItems:r.dataItem(n),items:e(n),draggableEvent:t};!1!==r.options.draggable.enabled?(o||(o=oe),r.placeholder=a.isFunction(o)?e(o.call(r,n)):e(o),n.is("."+_)||r.trigger(G,i)?t.preventDefault():(r.clearSelection(),r.select(n),n.addClass($))):t.preventDefault()},_clear:function(){this.draggedElement.removeClass($),this.placeholder.remove()},_findElementUnderCursor:function(t){var r=a.elementUnderCursor(t);var n=t.sender;return(e.contains(n.hint[0],r)||n.hint[0]===r)&&(n.hint.hide(),r=a.elementUnderCursor(t),n.hint.show()),r},_findTarget:function(t){var a=this;var r=a._findElementUnderCursor(t);var n=e(r);var o=a._getList();var i;var l;return e.contains(o[0],r)?(i=a.items(),r=n.is("li")?r:n.closest("li")[0],(l=i.filter(r)[0]||i.has(r)[0])?(l=e(l)).hasClass(_)?null:{element:l,listBox:a}:null):o[0]==r||o.parent()[0]==r?{element:e(o),appendToBottom:!0,listBox:a}:a._searchConnectedListBox(n)},_getElementCenter:function(e){var t=e.length?a.getOffset(e):null;return t&&(t.top+=D(e)/2,t.left+=B(e)/2),t},_searchConnectedListBox:function(t){var a;var r;var n;var o=t;var i;return(i=t.hasClass("k-list-scroller k-selectable")?t:t.closest(".k-list-scroller.k-selectable")).length&&(a=i.parent().find("[data-role='listbox']").getKendoListBox())&&-1!==e.inArray(this.element[0].id,a.options.dropSources)?(r=a.items(),t=t.is("li")?t[0]:t.closest("li")[0],(n=r.filter(t)[0]||r.has(t)[0])?(n=e(n)).hasClass(_)?null:{element:n,listBox:a}:!r.length||o.hasClass("k-list-scroller k-selectable")||o.hasClass("k-list-content")?{element:a._getList(),listBox:a,appendToBottom:!0}:null):null},_drag:function(t){var a=this;var r=a.draggedElement;var n=a._findTarget(t);var o=t.x.location,i=t.y.location;var l={dataItems:[a.dataItem(r)],items:e(r),draggableEvent:t};var s;var d;var c;if(a.trigger(Q,l))t.preventDefault();else if(n){if(s=this._getElementCenter(n.element),d={left:Math.round(o-s.left),top:Math.round(i-s.top)},n.appendToBottom)return void a._movePlaceholder(n,null,r);d.top<0?c="prev":d.top>0&&(c="next"),c&&n.element[0]!=a.placeholder[0]&&a._movePlaceholder(n,c,r)}else a.placeholder.parent().length&&a.placeholder.remove()},_movePlaceholder:function(t,r,n){var o=this;var i=o.placeholder;var l=t.listBox.options.draggable;i.parent().length&&(o.placeholder.remove(),l&&l.placeholder?o.placeholder=a.isFunction(l.placeholder)?e(l.placeholder.call(o,n)):e(l.placeholder):o.placeholder=e(oe.call(o,n))),r?"prev"===r?t.element.before(o.placeholder):"next"===r&&t.element.after(o.placeholder):t.element.append(o.placeholder)},_dragend:function(t){var a=this;var r=a.draggedElement;var n=a.items();var o=n.not(a.draggedElement).index(a.placeholder);var i=n.not(a.placeholder).index(a.draggedElement);var l=a.dataItem(r);var s={dataItems:[l],items:e(r)};var d=a.placeholder.closest(".k-listbox").find("[data-role='listbox']").getKendoListBox();if(a.trigger(z,v({},s,{draggableEvent:t})))return t.preventDefault(),void this._clear();o>=0?o===i||a.trigger(F,v({},s,{offset:o-i}))||(r.removeClass($),a.reorder(r,o)):d&&(a.trigger(A,s)||a.remove(e(r)),d.trigger(L,s)||d._addItemAt(l,d.items().index(a.placeholder))),a._clear(),a._draggable.dropped=!0,a.trigger(J,v({},s,{draggableEvent:t})),a._updateToolbar(),a._updateAllToolbars()},reorder:function(t,a){var r=this;var n=r.dataSource;var o=r.dataItem(t);var i=n.at(a);var l=r.items()[a];var s=e(t);o&&l&&i&&(r._removeElement(s),r._insertElementAt(s,a),r._updateToolbar())},remove:function(t){var a=this;var r=a._getItems(t);var n=r.length;var o;for(a._unbindDataSource(),a._unbindDataChange(),o=0;o<n;o++)a._removeItem(e(r[o]));a._bindDataChange(),a._bindDataSource(),a._syncElement(),a._updateToolbar(),a._updateAllToolbars()},_removeItem:function(e){var t=this;var a=t.dataSource;var r=t.dataItem(e);var n=a.transport;if(r&&a){if("string"==typeof r){var o=a._data;for(var i=0;i<o.length;i++)if(r===o[i]){o[i]=o[o.length-1],o.pop();break}}else a.remove(r),!n||!n.destroy&&!(n.options||{}).destroy||r.isNew&&r.isNew()||a._destroyed.push(r);t._removeElement(e)}},_removeElement:function(t){a.destroy(t),e(t).off().remove()},dataItem:function(t){var a=r("uid");var n=e(t).attr(a)||e(t).closest("["+a+"]").attr(a);return n?this.dataSource.getByUid(n):e(t).find(".k-list-item-text").html()},_dataItems:function(t){var a=[];var r=e(t);var n=r.length;var o;for(o=0;o<n;o++)a.push(this.dataItem(r.eq(o)));return a},items:function(){return this._getList().children()},select:function(e){const t=this,a=t.selectable;let r;if(re(e))return a.value();r=t.items().filter(e).filter(x),a.options.multiple||(a.clear(),r=r.first());const n=a.value(r);return t._updateAllToolbars(),n},clearSelection:function(){const e=this.selectable;e&&e.clear(),this._updateAllToolbars()},enable:function(t,a){var r=this;var n=!!re(a)||!!a;var o=r._getItems(t);var i=o.length;var l;for(l=0;l<i;l++)r._enableItem(e(o[l]),n);r._updateAllToolbars()},_enableItem:function(t,a){this.dataItem(t)&&(a?e(t).removeClass(_):e(t).addClass(_).removeClass(h))},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},_dataSource:function(){var e=this;var t=e.options;var a=t.dataSource||{};(a=Array.isArray(a)?{data:a}:a).select=e.element,a.fields=[{field:t.dataTextField},{field:t.dataValueField}],e._unbindDataSource(),e.dataSource=s.create(a),e._bindDataSource(),e.options.autoBind&&(e.wrapper.attr(Z,!0),e.dataSource.fetch())},_bindDataChange:function(){var e=this.dataSource;e._data&&e._changeHandler&&(e._data.bind(E,e._changeHandler),e._data.trigger(E))},_unbindDataChange:function(){var e=this.dataSource;e._data&&e._changeHandler&&e._data.unbind(E,e._changeHandler)},_bindDataSource:function(){var e=this;var t=e.dataSource;e._dataChangeHandler=e.refresh.bind(e),t&&t.bind(E,e._dataChangeHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&e.unbind(E,this._dataChangeHandler)},_wrapper:function(){var t=this,a=t.element,r=a.parent("div.k-listbox");r[0]||((r=a.wrap('<div class="k-listbox" unselectable="on" />').parent())[0].style.cssText=a[0].style.cssText,r[0].title=a[0].title,e('<div class="k-list-scroller"><div class="k-list k-list-md"><div class="k-list-content"></div></div></div>').insertBefore(a)),t.wrapper=r.addClass(a[0].className).css("display",""),t._innerWrapper=e(r[0].firstChild)},_list:function(){var t=this,a=e("<ul class='k-list-ul' role='listbox'></ul>"),r=t.options.selectable;d.parseOptions(r).multiple&&a.attr("aria-multiselectable","true"),a.appendTo(t.wrapper.find(".k-list-content")),t.options.navigatable&&t._getList().attr(R,t._getTabIndex())},_templates:function(){var e=this.options;var t;t=e.template&&"string"==typeof e.template?a.template(e.template):e.template?e.template:a.template((t=>`${a.getter(e.dataTextField)(t)}`)),this.templates={itemTemplate:a.template((({item:e,r:t})=>`<li class='k-list-item' role='option' aria-selected='false'><span class='k-list-item-text'>${t(e)}</span></li>`)),itemContent:t,toolbar:`<div role='toolbar' class='${T}'></div>`}},refresh:function(){var e=this;var t=e.dataSource.view();var a=e.templates.itemTemplate;var r="";for(var n=0;n<t.length;n++)r+=a({item:t[n],r:e.templates.itemContent});e._getList().html(r),e._setItemIds(),e.toolbar||e._createToolbar(),e._syncElement(),e._updateToolbar(),e._updateAllToolbars(),e.trigger(w),e.wrapper.attr(Z,!1)},_syncElement:function(){var e="";var t=this.dataSource.view();for(var a=0;a<t.length;a++)e+=this._option(t[a][this.options.dataValueField]||t[a],t[a][this.options.dataTextField]||t[a],!0);this.element.html(e)},_option:function(e,r){var n="<option";return e!==t&&(-1!==(e+="").indexOf('"')&&(e=e.replace(/"/g,"&quot;")),n+=' value="'+e+'"'),n+=" selected>",r!==t&&(n+=a.htmlEncode(r)),n+"</option>"},_setItemId:function(e,t){e.length&&e.attr(r("uid"),t).attr(M,t)},_setItemIds:function(){var e=this;var t=e.items();var a=e.dataSource.view();var r=a.length;var n;for(n=0;n<r;n++)e._setItemId(t.eq(n),a[n].uid)},_selectable:function(){var e=this;var t=e.options.selectable;var a=d.parseOptions(t);e.selectable=new d(e._innerWrapper,{aria:!0,selectedClass:"k-selected",multiple:a.multiple,filter:b,change:e._onSelect.bind(e)})},_onSelect:function(){var e=this;e._updateToolbar(),e._updateAllToolbars(),e.trigger(E)},_destroySelectable:function(){var e=this;e.selectable&&e.selectable.element&&(e.selectable.destroy(),e.selectable=null)},_getList:function(){return this.wrapper.find(".k-list-ul")},_getItems:function(e){return this.items().filter(e)},_createToolbar:function(){var t=this;var a=t.options.toolbar;var r=a.position||X;var n=a.tools||[];var o=t.options.messages;if(t._destroyToolbar(),t.wrapper.removeClass(te.join(" ")),n.length&&n.length>0){var i=e(t.templates.toolbar).insertBefore(t._innerWrapper);t.toolbar=new he(i,v({},a,{listBox:t,messages:o})),t.wrapper.addClass(T+g+r)}},_destroyToolbar:function(){var e=this;e.toolbar&&(e.toolbar.destroy(),e.toolbar=null)},_executeCommand:function(e){var t=this;var a=le.current.create(e,{listBox:t});a&&(a.execute(),t._updateToolbar(),t._updateAllToolbars())},_updateToolbar:function(){var e=this.toolbar;e&&e._updateToolStates()},_updateAllToolbars:function(){var t=e("select[data-role='listbox']");var a=t.length;var r;var n;for(n=0;n<a;n++)(r=e(t[n]).data(p))&&r._updateToolbar()}});a.ui.plugin(ie);var le=u.extend({init:function(){this._commands=[]},register:function(e,t){this._commands.push({commandName:e,commandType:t})},create:function(e,t){var a=this._commands;var r=a.length;var n=e?e.toLowerCase():"";var o;var i;var l;for(l=0;l<r;l++)if((i=a[l]).commandName.toLowerCase()===n){o=i;break}if(o)return new o.commandType(t)}});le.current=new le;var se=u.extend({init:function(e){var t=this;t.options=v({},t.options,e),t.listBox=t.options.listBox},options:{listBox:null},getItems:function(){return e(this.listBox.select())},execute:m,canExecute:m});var de=se.extend({execute:function(){var e=this.listBox;var t=this.getItems();e.trigger(A,{dataItems:e._dataItems(t),items:t})||e.remove(t)},canExecute:function(){return this.listBox.select().length>0}});le.current.register(A,de);var ce=se.extend({execute:function(){this.canExecute()&&this.moveItems()},canExecute:m,moveItems:function(){var t=this;var a=t.listBox;var r=t.options;var n=t.getItems();var o=r.offset;var i=ae(n);var l=e.makeArray([].sort.call(n,t.itemComparer));var s=r.moveAction;var d;if(!a.trigger(F,{dataItems:a._dataItems(l),items:e(l),offset:o}))for(;l.length>0&&i.length>0;)d=l[s](),a.reorder(d,i[s]()+o)},options:{offset:0,moveAction:"pop"},itemComparer:function(t,a){var r=e(t).index();var n=e(a).index();return r===n?0:r>n?1:-1}});var ue=ce.extend({options:{offset:-1,moveAction:"shift"},canExecute:function(){var e=ae(this.getItems());return e.length>0&&e[0]>0}});le.current.register(N,ue);var ve=ce.extend({options:{offset:1,moveAction:"pop"},canExecute:function(){var t=ae(this.getItems());return t.length>0&&e(t).last()[0]<this.listBox.items().length-1}});le.current.register(U,ve);var me=se.extend({options:{filter:b},execute:function(){var e=this;var t=e.getSourceListBox();var a=e.getItems().filter(e.options.filter);var r=t?t._dataItems(a):[];var n=e.getDestinationListBox();var o=e.getUpdatedSelection(a);n&&a.length>0&&(n.trigger(L,{dataItems:r,items:a})||n.add(r),t.trigger(A,{dataItems:r,items:a})||(t.remove(a),e.updateSelection(o)))},getUpdatedSelection:function(t){if(1!==t.length)return null;var a=this.options.filter;var r=this.getSourceListBox();var n=r?r.items().filter(a).last():null;var o=e(t).filter(n).length>0?e(t).prevAll(a)[0]:e(t).nextAll(a)[0];return o||null},updateSelection:function(t){var a=this.getSourceListBox();a&&t&&(a.select(e(t)),a.selectable.trigger(E),a._scrollIntoView(t))},getSourceListBox:m,getDestinationListBox:m});var ge=me.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.select().length>0},getSourceListBox:function(){return this.listBox},getDestinationListBox:function(){var t=this.getSourceListBox();return t&&t.options.connectWith?e("#"+t.options.connectWith).data(p):null},getItems:function(){var t=this.getSourceListBox();return t?e(t.select()):e()}});le.current.register(H,ge);var pe=me.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.select().length>0},getSourceListBox:function(){var t=this.getDestinationListBox();return t&&t.options.connectWith?e("#"+t.options.connectWith).data(p):null},getDestinationListBox:function(){return this.listBox},getItems:function(){var t=this.getSourceListBox();return t?e(t.select()):e()}});le.current.register(W,pe);var fe=ge.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.wrapper.find(x).length>0},getItems:function(){var t=this.getSourceListBox();return t?t.items():e()},getUpdatedSelection:m,updateSelection:m});le.current.register(K,fe);var _e=pe.extend({canExecute:function(){var e=this.getSourceListBox();return!!e&&e.wrapper.find(x).length>0},getItems:function(){var t=this.getSourceListBox();return t?t.items():e()},getUpdatedSelection:m,updateSelection:m});le.current.register(O,_e);var he=u.extend({init:function(t,a){var r=this;r.element=e(t).addClass(T),r.options=v({},r.options,a),r.listBox=r.options.listBox,r._initTemplates(),r._createTools(),r._updateToolStates(),r._attachEventHandlers(),r._aria(),r._tabindex()},destroy:function(){var e=this;e._detachEventHandlers(),a.destroy(e.element),e.element.remove(),e.element=null},options:{position:X,tools:[]},_aria:function(){var t=this.listBox._getList(),r=t.attr("aria-labelledby"),n=r?e("#"+r).text():t.attr(ee),o=t.attr("id")||a.guid();t.attr("id",o),this.element.attr("aria-controls",o),n&&this.element.attr(ee,n+" toolbar.")},_attachEventHandlers:function(){var e=this;e.element.on(C,"button.k-button:not(.k-disabled)",e._onToolClick.bind(e)).on(y,e._keyDown.bind(e))},_createTools:function(){var t=this;var r=a.support.isRtl(t.element);var n=t.options.tools;var o=n.length;var i=t.options.messages.tools;var l=t.element;var s;var d;for(he.defaultTools=a.deepExtend({},he.defaultTools,{transferTo:{icon:r?q:j},transferFrom:{icon:r?j:q},transferAllTo:{icon:r?V:P},transferAllFrom:{icon:r?P:V}}),d=0;d<o;d++)(s=v({},he.defaultTools[n[d]],{text:i[n[d]]}))&&l.append(e(t.templates.tool(s)));t.element.append(l)},_detachEventHandlers:function(){this.element.off(f).find("*").off(f)},_executeToolCommand:function(e){var t=this.listBox;t&&t._executeCommand(e)},_focusTool:function(){this.element.find(k).not("[tabindex=-1]").trigger("focus")},_initTemplates:function(){this.templates={tool:i((({icon:e,iconClass:t,command:r,text:n})=>a.html.renderButton(`<button data-command='${r}' title='${n}' aria-label='${n}'></button>`,{icon:e,iconClass:t})))}},_keyDown:function(t){var r=t.keyCode,n=e(t.target),o=n.is(k)?n:n.closest("li");r===a.keys.UP||r===a.keys.LEFT?(t.preventDefault(),o.prev().length&&this._tabindex(o.prev()),this._focusTool()):r!==a.keys.DOWN&&r!==a.keys.RIGHT||(t.preventDefault(),o.next()&&this._tabindex(o.next()),this._focusTool())},_onToolClick:function(t){t.preventDefault();var a=e(t.currentTarget);this._tabindex(a),this._executeToolCommand(a.data("command")),this._focusTool()},_tabindex:function(e){var t,a=this.element.find(k);t=e&&e.length?e:a.first(),a.attr(R,-1),t.removeAttr(R)},_updateToolStates:function(){var e=this;var t=e.options.tools;var a=t.length;var r;var n=e.element.find(k).not("[tabindex=-1]");for(r=0;r<a;r++)e._updateToolState(t[r]);e._tabindex(n)},_updateToolState:function(e){var t=le.current.create(e,{listBox:this.listBox});var a=this.element.find("[data-command='"+e+"']");a[0]&&t&&t.canExecute&&(t.canExecute()?a.removeClass(_).removeAttr(R):a.addClass(_).attr(R,"-1"))}});he.defaultTools={remove:{command:A,icon:"x"},moveUp:{command:N,icon:"caret-alt-up"},moveDown:{command:U,icon:"caret-alt-down"},transferTo:{command:H,icon:j},transferFrom:{command:W,icon:q},transferAllTo:{command:K,icon:P},transferAllFrom:{command:O,icon:V}},v(ie,{ToolBar:he})}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"listbox",name:"ListBox",category:"web",depends:["draganddrop","data","selectable","html.button"]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.listbox.min.js.map
