/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendodata=e.kendodata||{},e.kendodata.odata=e.kendodata.odata||{},e.kendodata.odata.js={}))}(this,(function(e){!function(e){var t=window.kendo,n=e.extend,a="\r\n",r="\r\n\r\n",o=t.isFunction,s={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith",isnull:"eq",isnotnull:"ne",isnullorempty:"eq",isnotnullorempty:"ne",isempty:"eq",isnotempty:"ne"},d=n({},s,{contains:"contains"}),i={pageSize:e.noop,page:e.noop,filter:function(e,t,n){t&&(t=c(t,n))&&(e.$filter=t)},sort:function(t,n){var a=e.map(n,(function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t})).join(",");a&&(t.$orderby=a)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},p={read:{dataType:"jsonp"}};function c(e,n){var a,r,o,i,p,l,u,f,y=[],h=e.logic||"and",g=e.filters;for(a=0,r=g.length;a<r;a++)o=(e=g[a]).field,u=e.value,l=e.operator,e.filters?e=c(e,n):(f=e.ignoreCase,o=o.replace(/\./g,"/"),e=s[l],n&&(e=d[l]),"isnullorempty"===l?e=t.format("({0} {1} null or {0} {1} '')",o,e):"isnotnullorempty"===l?e=t.format("({0} {1} null and {0} {1} '')",o,e):"isnull"===l||"isnotnull"===l?e=t.format("{0} {1} null",o,e):"isempty"===l||"isnotempty"===l?e=t.format("{0} {1} ''",o,e):e&&undefined!==u&&("string"===(i=t.type(u))?(p="'{1}'",u=u.replace(/'/g,"''"),!0===f&&(o="tolower("+o+")")):"date"===i?n?(p="{1:yyyy-MM-ddTHH:mm:ss+00:00}",u=t.timezone.apply(u,"Etc/UTC")):p="datetime'{1:yyyy-MM-ddTHH:mm:ss}'":p="{1}",e.length>3?"substringof"!==e?p="{0}({2},"+p+")":(p="{0}("+p+",{2})","doesnotcontain"===l&&(n?(p="{0}({2},'{1}') eq -1",e="indexof"):p+=" eq false")):p="{2} {0} "+p,e=t.format(p,e,u,o))),y.push(e);return e=y.join(" "+h+" "),y.length>1&&(e="("+e+")"),e}function l(e){for(var t in e)0===t.indexOf("@odata")&&delete e[t]}function u(){return Math.floor(65536*(1+Math.random())).toString(16).substr(1)}function f(e){return e+u()+"-"+u()+"-"+u()}function y(e,t){var n="\r\n--"+e;return t&&(n+="--"),n}function h(e,n,a,r){var s=e.options[r].url;var d=t.format("{0} ",a);return o(s)?d+s(n):d+s}function g(e,t){var n="";return n+=y(e,!1),n+="\r\nContent-Type: application/http",n+="\r\nContent-Transfer-Encoding: binary",n+="\r\nContent-ID: "+t}function m(e,n,o,s,d,i,p){var c="";return c+=function(e,t){var n="";return n+="--"+e+a,n+="Content-Type: multipart/mixed; boundary="+t+a,n}(n,o),c+=function(e,n,o,s,d,i){var p="";for(var c=0;c<e.length;c++)p+=g(n,o),p+=r+h(d,e[c],d.options[s].type,s)+" HTTP/1.1",i||(p+=(l=e[c],u=void 0,u="",u+="\r\nContent-Type: application/json;odata=minimalmetadata",u+="\r\nPrefer: return=representation",u+=r+t.stringify(l))),p+=a,o++;var l,u;return p}(e,o,s,i,d,p),c+=y(o,!0),c+=a}n(!0,t.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,n,a){var r,o,s,d;if(e=e||{},n=n||"read",d=(d=(this.options||p)[n])?d.dataType:"json","read"===n)for(s in r={$inlinecount:"allpages"},"json"!=d&&(r.$format="json"),e)i[s]?i[s](r,e[s],a):r[s]=e[s];else{if("json"!==d)throw new Error("Only json dataType can be used for "+n+" operation.");if("destroy"!==n){for(s in e)"number"==typeof(o=e[s])&&(e[s]=o+"");r=t.stringify(e)}}return r}}}}),n(!0,t.data,{schemas:{"odata-v4":{type:"json",data:function(t){if(Array.isArray(t)){for(var n=0;n<t.length;n++)l(t[n]);return t}return l(t=e.extend({},t)),t.value?t.value:[t]},total:function(e){return e["@odata.count"]}}},transports:{"odata-v4":{batch:{type:"POST"},read:{cache:!0,dataType:"json"},update:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json;IEEE754Compatible=true",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,n){var a=t.data.transports.odata.parameterMap(e,n,!0);return"read"==n&&(a.$count=!0,delete a.$inlinecount),a&&a.$filter&&(a.$filter=a.$filter.replace(/('[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}')/gi,(function(e){return e.substring(1,e.length-1)}))),a},submit:function(a){var r=function(e,t){var a=n({},e.options.batch);var r=f("sf_batch_");var s="";var d=0;var i=e.options.batch.url;var p=f("sf_changeset_");return a.type=e.options.batch.type,a.url=o(i)?i():i,a.headers=n(a.headers||{},{"Content-Type":"multipart/mixed; boundary="+r}),t.updated.length&&(s+=m(t.updated,r,p,d,e,"update",!1),d+=t.updated.length,p=f("sf_changeset_")),t.destroyed.length&&(s+=m(t.destroyed,r,p,d,e,"destroy",!0),d+=t.destroyed.length,p=f("sf_changeset_")),t.created.length&&(s+=m(t.created,r,p,d,e,"create",!1)),s+=y(r,!0),a.data=s,a}(this,a.data);var s=a.data;(s.updated.length||s.destroyed.length||s.created.length)&&e.ajax(n(!0,{},{success:function(e){var n=function(e){var n=e.match(/--changesetresponse_[a-z0-9-]+$/gm);var a=0;var r=[];var o;var s;var d;var i;var p;r.push({models:[],passed:!0});for(var c=0;c<n.length;c++)(i=n[c]).lastIndexOf("--",i.length-1)?c<n.length-1&&r.push({models:[],passed:!0}):(a=a?e.indexOf(i,a+i.length):e.indexOf(i),s=(o=e.substring(a,e.indexOf("--",a+1))).match(/^HTTP\/1\.\d (\d{3}) (.*)$/gm).pop(),(d=t.parseFloat(s.match(/\d{3}/g).pop()))>=200&&d<=299?(p=o.match(/\{.*\}/gm))&&r[r.length-1].models.push(JSON.parse(p[0])):r[r.length-1].passed=!1);return r}(e);var r=0;var o;s.updated.length&&((o=n[r]).passed&&a.success(o.models.length?o.models:[],"update"),r++),s.destroyed.length&&((o=n[r]).passed&&a.success([],"destroy"),r++),s.created.length&&(o=n[r]).passed&&a.success(o.models,"create")},error:function(e,t,n){a.error(e,t,n)}},r))}}}})}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"data.odata",name:"OData",category:"framework",depends:["core"],hidden:!0},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.data.odata.min.js.map
