/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.sortable.min",["kendo.draganddrop.min"],function(){var e={id:"sortable",name:"Sortable",category:"framework",depends:["draganddrop"]},u=window.kendo.jQuery,t=void 0,o=window.kendo,i=o.ui.Widget,l=o._outerWidth,a=o._outerHeight,d="start",r="beforeMove",s="move",h="end",f="change",n="cancel",g="sort",p="remove",m="receive",v,c=-1;function _(e,t){try{return u.contains(e,t)||e==t}catch(e){return false}}function x(e){return e.clone()}function b(e){return e.clone().removeAttr("id").css("visibility","hidden")}var y=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);if(!n.options.placeholder)n.options.placeholder=b;if(!n.options.hint)n.options.hint=x;n.draggable=n._createDraggable()},events:[d,r,s,h,f,n],options:{name:"Sortable",hint:null,placeholder:null,filter:">*",holdToDrag:false,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,ignore:null,autoScroll:false,cursor:"auto",moveOnDragEnter:false},destroy:function(){this.draggable.destroy();i.fn.destroy.call(this)},_createDraggable:function(){var e=this,t=e.element,n=e.options;return new o.ui.Draggable(t,{filter:n.filter,hint:o.isFunction(n.hint)?n.hint:u(n.hint),holdToDrag:n.holdToDrag,container:n.container?u(n.container):null,cursorOffset:n.cursorOffset,axis:n.axis,ignore:n.ignore,autoScroll:n.autoScroll,dragstart:e._dragstart.bind(e),dragcancel:e._dragcancel.bind(e),drag:e._drag.bind(e),dragend:e._dragend.bind(e)})},_dragstart:function(e){var t=this.draggedElement=e.currentTarget,n=this.options.disabled,i=this.options.handler,r=this.options.placeholder,s=this.placeholder=o.isFunction(r)?u(r.call(this,t)):u(r);if(n&&t.is(n))e.preventDefault();else if(i&&!u(e.initialTarget).is(i))e.preventDefault();else if(this.trigger(d,{item:t,draggableEvent:e}))e.preventDefault();else{t.css("display","none");t.before(s);this._setCursor()}},_dragcancel:function(){this._cancel();this.trigger(n,{item:this.draggedElement});this._resetCursor()},_drag:function(e){var h=this.draggedElement,t=this._findTarget(e),n,f={left:e.x.location,top:e.y.location},i,r={x:e.x.delta,y:e.y.delta},s,o,c,l=this.options.axis,a=this.options.moveOnDragEnter,d={item:h,list:this,draggableEvent:e};if(l==="x"||l==="y"){this._movementByAxis(l,f,r[l],d);return}if(t){n=this._getElementCenter(t.element);i={left:Math.round(f.left-n.left),top:Math.round(f.top-n.top)};u.extend(d,{target:t.element});if(t.appendToBottom){this._movePlaceholder(t,null,d);return}if(t.appendAfterHidden)this._movePlaceholder(t,"next",d);if(this._isFloating(t.element)){if(r.x<0&&a||!a&&i.left<0)s="prev";else if(r.x>0&&a||!a&&i.left>0)s="next"}else if(r.y<0&&a||!a&&i.top<0)s="prev";else if(r.y>0&&a||!a&&i.top>0)s="next";if(s){c=s==="prev"?jQuery.fn.prev:jQuery.fn.next;o=c.call(t.element);while(o.length&&!o.is(":visible"))o=c.call(o);if(o[0]!=this.placeholder[0])this._movePlaceholder(t,s,d)}}},_dragend:function(e){var t=this.placeholder,n=this.draggedElement,i=this.indexOf(n),r=this.indexOf(t),s=this.options.connectWith,o,l,a,d;this._resetCursor();a={action:g,item:n,oldIndex:i,newIndex:r,draggableEvent:e};if(r>=0)l=this.trigger(h,a);else{o=t.parents(s).getKendoSortable();a.action=p;d=u.extend({},a,{action:m,oldIndex:c,newIndex:o.indexOf(t)});l=!(!this.trigger(h,a)&&!o.trigger(h,d))}if(l||r===i){this._cancel();return}t.replaceWith(n);n.show();this.draggable.dropped=true;a={action:this.indexOf(n)!=c?g:p,item:n,oldIndex:i,newIndex:this.indexOf(n),draggableEvent:e};this.trigger(f,a);if(o){d=u.extend({},a,{action:m,oldIndex:c,newIndex:o.indexOf(n)});o.trigger(f,d)}},_findTarget:function(e){var t=this._findElementUnderCursor(e),n,i=this.options.connectWith,r;if(u.contains(this.element[0],t)){n=this.items();r=n.filter(t)[0]||n.has(t)[0];return r?{element:u(r),sortable:this}:null}else if(this.element[0]==t&&this._isEmpty())return{element:this.element,sortable:this,appendToBottom:true};else if(this.element[0]==t&&this._isLastHidden()){r=this.items().eq(0);return{element:r,sortable:this,appendAfterHidden:true}}else if(i)return this._searchConnectedTargets(t,e)},_findElementUnderCursor:function(e){var t=o.elementUnderCursor(e),n=e.sender;if(_(n.hint[0],t)){n.hint.hide();t=o.elementUnderCursor(e);if(!t)t=o.elementUnderCursor(e);n.hint.show()}return t},_searchConnectedTargets:function(e,t){var n=u(this.options.connectWith),i,r,s;for(var o=0;o<n.length;o++){i=n.eq(o).getKendoSortable();if(u.contains(n[o],e)){if(i){r=i.items();s=r.filter(e)[0]||r.has(e)[0];if(s){i.placeholder=this.placeholder;return{element:u(s),sortable:i}}else return null}}else if(n[o]==e)if(i&&i._isEmpty())return{element:n.eq(o),sortable:i,appendToBottom:true};else if(this._isCursorAfterLast(i,t)){s=i.items().last();return{element:s,sortable:i}}}},_isCursorAfterLast:function(e,t){var n=e.items().last(),i={left:t.x.location,top:t.y.location},r,s;r=o.getOffset(n);r.top+=a(n);r.left+=l(n);if(this._isFloating(n))s=r.left-i.left;else s=r.top-i.top;return s<0?true:false},_movementByAxis:function(e,t,n,i){var r=e==="x"?t.left:t.top,s=n<0?this.placeholder.prev():this.placeholder.next(),o=this.items(),l;if(s.length&&!s.is(":visible"))s=n<0?s.prev():s.next();if(!o.filter(s).length)return;u.extend(i,{target:s});l=this._getElementCenter(s);if(l)l=e==="x"?l.left:l.top;if(s.length&&n<0&&r-l<0)this._movePlaceholder({element:s,sortable:this},"prev",i);else if(s.length&&n>0&&r-l>0)this._movePlaceholder({element:s,sortable:this},"next",i)},_movePlaceholder:function(e,t,n){var i=this.placeholder;if(!e.sortable.trigger(r,n)){if(!t)e.element.append(i);else if(t==="prev")e.element.before(i);else if(t==="next")e.element.after(i);e.sortable.trigger(s,n)}},_setCursor:function(){var e=this.options.cursor,t;if(e&&e!=="auto"){t=u(document.body);this._originalCursorType=t.css("cursor");t.css({cursor:e});if(!this._cursorStylesheet)this._cursorStylesheet=u("<style>* { cursor: "+e+" !important; }</style>");this._cursorStylesheet.appendTo(t)}},_resetCursor:function(){if(this._originalCursorType){u(document.body).css("cursor",this._originalCursorType);this._originalCursorType=null;this._cursorStylesheet.remove()}},_getElementCenter:function(e){var t=e.length?o.getOffset(e):null;if(t){t.top+=a(e)/2;t.left+=l(e)/2}return t},_isFloating:function(e){var t=/left|right/.test(e.css("float"));var n=/inline|table-cell/.test(e.css("display"));var i=/flex/.test(e.parent().css("display"))&&(/row|row-reverse/.test(e.parent().css("flex-direction"))||!e.parent().css("flex-direction"));return t||n||i},_cancel:function(){this.draggedElement.show();this.placeholder.remove();this.draggable.dropped=true},_items:function(){var e=this.options.filter,t;if(e)t=this.element.find(e);else t=this.element.children();return t},indexOf:function(e){var t=this._items(),n=this.placeholder,i=this.draggedElement;if(n&&e[0]==n[0])return t.not(i).index(e);else return t.not(n).index(e)},items:function(){var e=this.placeholder,t=this._items();if(e)t=t.not(e);return t},_isEmpty:function(){return!this.items().length},_isLastHidden:function(){return this.items().length===1&&this.items().is(":hidden")}});return o.ui.plugin(y),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.sortable.min.js.map
