{"version":3,"file":"kendo.selectable.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendoselectable","js","this","$","undefined$1","kendo","window","Widget","ui","abs","Math","ARIASELECTED","SELECTED","ACTIVE","SELECTABLE","CHANGE","UNSELECT","UNSELECTING","INPUTSELECTOR_ICONSSELECTOR_FONT","INPUTSELECTOR_ICONSSELECTOR_SVG","replaceAll","INPUTSELECTOR","msie","support","browser","supportEventDelegation","extend","on","find","trigger","end","off","Selectable","init","element","options","multiple","dragToSelect","that","fn","call","_marquee","_lastActive","addClass","relatedTarget","userEvents","UserEvents","allowSelection","filter","tap","_tap","bind","touchAction","_start","_move","_end","_select","events","name","inputSelectors","noop","ignoreOverlapped","addIdToRanges","_isElement","target","idx","elements","length","result","e","selected","ctrlKey","event","metaKey","shiftKey","selectedClass","whichCode","which","buttonCode","button","closest","_allowSelection","hasClass","add","_lastRange","compareElements","selectRange","_firstSelectee","_notify","_unselect","value","clear","_downTarget","currentElement","useAllItems","_items","sender","capture","appendTo","document","body","css","left","x","client","top","y","width","height","_selectElement","cancel","position","startLocation","location","initialDelta","_invalidateSelectables","preventDefault","rangeSelectedAttr","attr","uid","guid","remove","removeClass","i","_currentlyActive","related","toSelect","items","eq","collision","_collidesWithActiveElement","push","marqueeRect","activeElementRect","activeElements","elemRect","getBoundingClientRect","leftRight","isRtl","tempRect","right","bottom","overlaps","val","selectElement","each","selectedRanges","map","_","elem","rangeId","mapLocation","selectedSingleItems","toArray","preventNotify","isPrevented","aria","args","removeAttr","_activeElement","is","resetTouchEvents","start","tmp","continuousItems","inArray","destroy","toCompare","elementPosition","getOffset","_outerWidth","_outerHeight","firstRect","secondRect","parseOptions","selectable","selectableMode","mode","asLowerString","toLowerCase","indexOf","cell","plugin","jQuery"],"sources":["kendo.selectable.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.core.js'), require('kendo.userevents.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.core', 'kendo.userevents'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendoselectable = global.kendoselectable || {}, global.kendoselectable.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"selectable\",\n        name: \"Selectable\",\n        category: \"framework\",\n        depends: [ \"core\", \"userevents\" ],\n        advanced: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            Widget = kendo.ui.Widget,\n            abs = Math.abs,\n            ARIASELECTED = \"aria-selected\",\n            SELECTED = \"k-selected\",\n            ACTIVE = \"k-selecting\",\n            SELECTABLE = \"k-selectable\",\n            CHANGE = \"change\",\n            NS = \".kendoSelectable\",\n            UNSELECT = \"unselect\",\n            UNSELECTING = \"k-unselecting\",\n            INPUTSELECTOR_ICONSSELECTOR_FONT = \"span.k-icon.k-i-caret-alt-down,span.k-icon.k-i-caret-alt-up,.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-icon.k-i-caret-alt-left\",\n            INPUTSELECTOR_ICONSSELECTOR_SVG = INPUTSELECTOR_ICONSSELECTOR_FONT.replaceAll('k-i', 'k-svg-i'),\n            INPUTSELECTOR = \"input,a,textarea,.k-multiselect-wrap,select,button,\" + INPUTSELECTOR_ICONSSELECTOR_FONT + \",\" + INPUTSELECTOR_ICONSSELECTOR_SVG + \",.k-button>span,.k-button>img,label.k-checkbox-label.k-no-text,span.k-numeric-wrap,.k-focusable\",\n            msie = kendo.support.browser.msie,\n            supportEventDelegation = false,\n            extend = $.extend;\n\n            (function($) {\n                (function() {\n                    $('<div class=\"parent\"><span></span></div>')\n                    .on(\"click\", \">*\", function() {\n                        supportEventDelegation = true;\n                    })\n                    .find(\"span\")\n                    .trigger(\"click\")\n                    .end()\n                    .off();\n                })();\n            })($);\n\n        var Selectable = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    multiple,\n                    dragToSelect;\n\n                Widget.fn.init.call(that, element, options);\n\n                that._marquee = $(\"<div class='k-marquee'><div class='k-marquee-color'></div></div>\");\n                that._lastActive = null;\n                that.element.addClass(SELECTABLE);\n\n                that.relatedTarget = that.options.relatedTarget;\n\n                multiple = that.options.multiple;\n                dragToSelect = that.options.dragToSelect;\n\n                that.userEvents = new kendo.UserEvents(that.element, {\n                    global: true,\n                    allowSelection: true,\n                    filter: (!supportEventDelegation ? \".\" + SELECTABLE + \" \" : \"\") + that.options.filter,\n                    tap: that._tap.bind(that),\n                    touchAction: multiple ? \"none\" : \"pan-x pan-y\"\n                });\n\n                if (multiple) {\n                    if (dragToSelect) {\n                        that.userEvents\n                            .bind(\"start\", that._start.bind(that))\n                            .bind(\"move\", that._move.bind(that))\n                            .bind(\"end\", that._end.bind(that));\n                    }\n                    that.userEvents\n                       .bind(\"select\", that._select.bind(that));\n                }\n            },\n\n            events: [CHANGE, UNSELECT],\n\n            options: {\n                name: \"Selectable\",\n                filter: \">*\",\n                inputSelectors: INPUTSELECTOR,\n                multiple: false,\n                dragToSelect: true,\n                relatedTarget: $.noop,\n                ignoreOverlapped: false,\n                addIdToRanges: false\n            },\n\n            _isElement: function(target) {\n                var elements = this.element;\n                var idx, length = elements.length, result = false;\n\n                target = target[0];\n\n                for (idx = 0; idx < length; idx ++) {\n                    if (elements[idx] === target) {\n                        result = true;\n                        break;\n                    }\n                }\n\n                return result;\n            },\n\n            _tap: function(e) {\n                var target = $(e.target),\n                    that = this,\n                    ctrlKey = e.event.ctrlKey || e.event.metaKey,\n                    multiple = that.options.multiple,\n                    shiftKey = multiple && e.event.shiftKey,\n                    selectedClass = that.options.selectedClass || SELECTED,\n                    selected,\n                    whichCode = e.event.which,\n                    buttonCode = e.event.button;\n\n                //in case of hierarchy or right-click\n                if (!that._isElement(target.closest(\".\" + SELECTABLE)) || whichCode && whichCode == 3 || buttonCode && buttonCode == 2) {\n                    return;\n                }\n\n                if (!this._allowSelection(e.event.target)) {\n                    return;\n                }\n\n                selected = target.hasClass(selectedClass);\n\n                target = target.add(that.relatedTarget(target));\n\n                if (!multiple) {\n                    if (selected && ctrlKey) {\n                        that._unselect(target);\n                        that._notify(CHANGE, e);\n                    } else if (!selected) {\n                        that.clear();\n                        that.value(target, e);\n                        that._notify(CHANGE, e);\n                    }\n                } else {\n                    if (shiftKey) {\n                        if (!that._lastRange || !compareElements(that._lastRange, target)) {\n                            that.selectRange(that._firstSelectee(), target, e);\n                            that._notify(CHANGE, e);\n                        }\n                        that._lastRange = target;\n                    } else {\n                        that._lastRange = null;\n                        if (selected && ctrlKey) {\n                            that._unselect(target);\n                            that._notify(CHANGE, e);\n                        } else if (ctrlKey) {\n                            that.value(target, e);\n                            that._notify(CHANGE, e);\n                        } else if (!selected || that.value().length > 1) {\n                            that.clear();\n                            that.value(target, e);\n                            that._notify(CHANGE, e);\n                        }\n\n                        that._lastActive = that._downTarget = target;\n                    }\n                }\n            },\n\n            _start: function(e) {\n                var that = this,\n                    target = $(e.target),\n                    selectedClass = that.options.selectedClass || SELECTED,\n                    selected = target.hasClass(selectedClass),\n                    currentElement,\n                    ctrlKey = e.event.ctrlKey || e.event.metaKey;\n\n                if (!this._allowSelection(e.event.target)) {\n                    return;\n                }\n\n                that._downTarget = target;\n\n                //in case of hierarchy\n                if (!that._isElement(target.closest(\".\" + SELECTABLE))) {\n                    that.userEvents.cancel();\n                    return;\n                }\n\n                if (that.options.useAllItems) {\n                    that._items = that.element.find(that.options.filter);\n                } else {\n                    currentElement = target.closest(that.element);\n                    that._items = currentElement.find(that.options.filter);\n                }\n\n                e.sender.capture();\n\n                that._marquee\n                    .appendTo(document.body)\n                    .css({\n                        left: e.x.client + 1,\n                        top: e.y.client + 1,\n                        width: 0,\n                        height: 0\n                    });\n\n                if (!ctrlKey) {\n                    that.clear();\n                }\n\n                target = target.add(that.relatedTarget(target));\n                if (selected) {\n                    that._selectElement(target, true);\n                    if (ctrlKey) {\n                        target.addClass(UNSELECTING);\n                    }\n                }\n            },\n\n            _move: function(e) {\n                var that = this,\n                    position = {\n                        left: e.x.startLocation > e.x.location ? e.x.location : e.x.startLocation,\n                        top: e.y.startLocation > e.y.location ? e.y.location : e.y.startLocation,\n                        width: abs(e.x.initialDelta),\n                        height: abs(e.y.initialDelta)\n                    };\n\n                that._marquee.css(position);\n\n                that._invalidateSelectables(position, (e.event.ctrlKey || e.event.metaKey));\n\n                e.preventDefault();\n            },\n\n            _end: function(e) {\n                var that = this,\n                rangeSelectedAttr = kendo.attr(\"range-selected\"),\n                uid = kendo.guid();\n\n                that._marquee.remove();\n\n                that._unselect(that.element\n                    .find(that.options.filter + \".\" + UNSELECTING))\n                    .removeClass(UNSELECTING);\n\n\n                var target = that.element.find(that.options.filter + \".\" + ACTIVE);\n                target = target.add(that.relatedTarget(target));\n\n                if (that.options.addIdToRanges) {\n                    for (var i = 0; i < that._currentlyActive.length; i++) {\n                        $(that._currentlyActive[i]).attr(rangeSelectedAttr, uid);\n                    }\n                }\n\n                if (!that._lastRange || !compareElements(that._lastRange, target)) {\n                    that.value(target, e);\n                    that._notify(CHANGE, e);\n                }\n                that._lastRange = target;\n                that._lastActive = that._downTarget;\n                that._items = null;\n            },\n\n            _invalidateSelectables: function(position, ctrlKey) {\n                var idx,\n                    length,\n                    target = this._downTarget[0],\n                    items = this._items,\n                    selectedClass = this.options.selectedClass || SELECTED,\n                    related,\n                    toSelect;\n\n                this._currentlyActive = [];\n\n                for (idx = 0, length = items.length; idx < length; idx ++) {\n                    toSelect = items.eq(idx);\n                    related = toSelect.add(this.relatedTarget(toSelect));\n\n                    if (collision(toSelect, position)) {\n                        if (toSelect.hasClass(selectedClass)) {\n                            if (ctrlKey && target !== toSelect[0]) {\n                                related.removeClass(selectedClass).addClass(UNSELECTING);\n                            }\n                        } else if (!toSelect.hasClass(ACTIVE) && !toSelect.hasClass(UNSELECTING) && !this._collidesWithActiveElement(related, position)) {\n                            related.addClass(ACTIVE);\n                        }\n                        this._currentlyActive.push(related[0]);\n                    } else {\n                        if (toSelect.hasClass(ACTIVE)) {\n                            related.removeClass(ACTIVE);\n                        } else if (ctrlKey && toSelect.hasClass(UNSELECTING)) {\n                            related.removeClass(UNSELECTING).addClass(selectedClass);\n                        }\n                    }\n                }\n            },\n\n            _collidesWithActiveElement: function(element, marqueeRect) {\n                if (!this.options.ignoreOverlapped) {\n                    return false;\n                }\n\n                var activeElements = this._currentlyActive;\n                var elemRect = element[0].getBoundingClientRect();\n                var activeElementRect;\n                var collision = false;\n                var isRtl = kendo.support.isRtl(element);\n                var leftRight = isRtl ? \"right\" : \"left\";\n                var tempRect = {};\n\n                marqueeRect.right = marqueeRect.left + marqueeRect.width;\n                marqueeRect.bottom = marqueeRect.top + marqueeRect.height;\n\n                for (var i = 0; i < activeElements.length; i++) {\n                    activeElementRect = activeElements[i].getBoundingClientRect();\n                    if (overlaps(elemRect, activeElementRect)) {\n                        tempRect[leftRight] = leftRight === \"left\" ? activeElementRect.right : activeElementRect.left;\n                        elemRect = extend({}, elemRect, tempRect);\n                        if (elemRect.left > elemRect.right) {\n                            return true;\n                        }\n                        collision = !overlaps(elemRect, marqueeRect);\n                    }\n                }\n                return collision;\n            },\n\n            value: function(val) {\n                var that = this,\n                    selectElement = that._selectElement.bind(that);\n\n                if (val) {\n                    val.each(function() {\n                        selectElement(this);\n                    });\n\n                    return;\n                }\n\n                return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED));\n            },\n\n            selectedRanges: function() {\n                var that = this;\n                var rangeSelectedAttr = kendo.attr(\"range-selected\");\n                var map = {};\n\n                that.element.find(\"[\" + rangeSelectedAttr + \"]\").each(function(_, elem) {\n                    var rangeId = $(elem).attr(rangeSelectedAttr);\n                    var mapLocation = map[rangeId];\n\n                    if (!mapLocation) {\n                        mapLocation = map[rangeId] = [];\n                    }\n\n                    mapLocation.push($(elem));\n                });\n\n                return map;\n            },\n\n            selectedSingleItems: function() {\n                var that = this;\n                var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n                return that.element.find(that.options.filter + \".\" + (that.options.selectedClass || SELECTED) + \":not([\" + rangeSelectedAttr + \"])\").toArray().map(function(elem) {\n                    return $(elem);\n                });\n            },\n\n            _firstSelectee: function() {\n                var that = this,\n                    selected;\n\n                if (that._lastActive !== null) {\n                    return that._lastActive;\n                }\n\n                selected = that.value();\n                return selected.length > 0 ?\n                        selected[0] :\n                        that.element.find(that.options.filter)[0];\n            },\n\n            _selectElement: function(element, preventNotify) {\n                var toSelect = $(element),\n                    selectedClass = this.options.selectedClass || SELECTED,\n                    isPrevented = !preventNotify && this._notify(\"select\", { element: element });\n\n                toSelect.removeClass(ACTIVE);\n                if (!isPrevented) {\n                     toSelect.addClass(selectedClass);\n\n                    if (this.options.aria) {\n                        toSelect.attr(ARIASELECTED, true);\n                    }\n                }\n            },\n\n            _notify: function(name, args) {\n                args = args || { };\n                return this.trigger(name, args);\n            },\n\n            _unselect: function(element) {\n                if (this.trigger(UNSELECT, { element: element })) {\n                    return;\n                }\n\n                var rangeSelectedAttr = kendo.attr(\"range-selected\");\n\n                element.removeClass(this.options.selectedClass || SELECTED).removeAttr(rangeSelectedAttr);\n\n                if (this.options.aria) {\n                    element.attr(ARIASELECTED, false);\n                }\n\n                return element;\n            },\n\n            _select: function(e) {\n                if (this._allowSelection(e.event.target)) {\n                    if (!msie || (msie && !$(kendo._activeElement()).is(this.options.inputSelectors))) {\n                        e.preventDefault();\n                    }\n                }\n            },\n\n            _allowSelection: function(target) {\n                if ($(target).is(this.options.inputSelectors)) {\n                    this.userEvents.cancel();\n                    this._downTarget = null;\n                    return false;\n                }\n\n                return true;\n            },\n\n            resetTouchEvents: function() {\n                this.userEvents.cancel();\n            },\n\n            clear: function() {\n                var items = this.element.find(this.options.filter + \".\" + (this.options.selectedClass || SELECTED));\n                this._unselect(items);\n            },\n\n            selectRange: function(start, end) {\n                var that = this,\n                    idx,\n                    tmp,\n                    items;\n\n                that.clear();\n\n                if (that.element.length > 1) {\n                    items = that.options.continuousItems();\n                }\n\n                if (!items || !items.length) {\n                    items = that.element.find(that.options.filter);\n                }\n\n                start = $.inArray($(start)[0], items);\n                end = $.inArray($(end)[0], items);\n\n                if (start > end) {\n                    tmp = start;\n                    start = end;\n                    end = tmp;\n                }\n\n                if (!that.options.useAllItems) {\n                    end += that.element.length - 1;\n                }\n\n                for (idx = start; idx <= end; idx ++ ) {\n                    that._selectElement(items[idx], true);\n                }\n            },\n\n            destroy: function() {\n                var that = this;\n\n                Widget.fn.destroy.call(that);\n\n                that.element.off(NS);\n\n                that.userEvents.destroy();\n\n                that._marquee = that._lastActive = that.element = that.userEvents = null;\n            }\n        });\n\n        Selectable.parseOptions = function(selectable) {\n            var selectableMode = selectable.mode || selectable;\n            var asLowerString = typeof selectableMode === \"string\" && selectableMode.toLowerCase();\n            return {\n                multiple: asLowerString && asLowerString.indexOf(\"multiple\") > -1,\n                cell: asLowerString && asLowerString.indexOf(\"cell\") > -1\n            };\n        };\n\n        function compareElements(element, toCompare) {\n\n            if (element.length !== toCompare.length) {\n                return false;\n            }\n\n            for (var i = 0; i < element.length; i++) {\n                if (element[i] !== toCompare[i]) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n\n        function collision(element, position) {\n            if (!element.is(\":visible\")) {\n                return false;\n            }\n\n            var elementPosition = kendo.getOffset(element),\n                right = position.left + position.width,\n                bottom = position.top + position.height;\n\n            elementPosition.right = elementPosition.left + kendo._outerWidth(element);\n            elementPosition.bottom = elementPosition.top + kendo._outerHeight(element);\n\n            return !(elementPosition.left > right ||\n                elementPosition.right < position.left ||\n                elementPosition.top > bottom ||\n                elementPosition.bottom < position.top);\n        }\n\n        function overlaps(firstRect, secondRect) {\n            return !(firstRect.right <= secondRect.left ||\n                firstRect.left >= secondRect.right ||\n                firstRect.bottom <= secondRect.top ||\n                firstRect.top >= secondRect.bottom);\n        }\n\n        kendo.ui.plugin(Selectable);\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}