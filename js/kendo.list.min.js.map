{"version":3,"file":"kendo.list.min.js","names":["factory","define","amd","$","undefined$1","kendo","window","ui","outerHeight","_outerHeight","percentageUnitsRegex","Widget","keys","support","htmlEncode","activeElement","_activeElement","outerWidth","_outerWidth","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","KSELECTED","LOADING","LIST_UL","FIXED_GROUP_HEADER","ITEMSELECTOR","OPEN","CLOSE","CASCADE","SELECT","CLICK","MOUSEENTER","ACTIVATE","DEACTIVATE","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","SELECTED","REQUESTSTART","REQUESTEND","FOCUS","extend","isArray","Array","browser","HIDDENCLASS","WIDTH","TEXT","isIE","msie","quotRegExp","alternativeNames","ComboBox","DropDownList","MultiColumnComboBox","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_SELECTED","GROUP_ROW_SEL","List","DataBoundWidget","init","element","options","id","that","this","fn","call","_isSelect","is","length","dataSource","dataTextField","dataValueField","adaptiveMode","largeMQL","mediaQuery","mediumMQL","smallMQL","_listSize","cssProperties","getValidClass","widget","propName","value","size","_filterHeader","ul","attr","tabIndex","list","addClass","append","guid","columns","removeClass","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","messages","noData","clear","setOptions","enable","enabled","_renderFooter","_renderNoData","label","_inputLabel","_unwrapFloating","remove","_label","focus","_focused","trigger","readonly","_editable","disable","floatingLabel","labelOptions","isPlainObject","content","Label","floatCheck","_floatCheck","bind","listView","text","popup","visible","_refreshFloatingLabel","refresh","header","template","_angularElement","destroy","parent","before","filterTemplate","icon","iconClass","_isFilterEnabled","filterInput","placeholder","title","filterTitle","role","columnsHeader","colGroup","row","idx","currentColumn","field","columnsHeaderTemplate","currentWidth","width","currentWidthInt","parseInt","widthStyle","isNaN","test","prepend","angular","elements","appendTo","footer","footerEl","_listOptions","currentOptions","virtual","changeEventOption","change","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","autoBind","selectable","click","_click","activate","_activateItem","deactivate","_deactivateItem","dataBinding","dataBound","height","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","getter","$angular","_initList","opts","skipValueUpdate","listOptions","selectedItemChange","VirtualList","Object","assign","_hasActionSheet","StaticList","_setListValue","done","_updateSelectionState","noop","_listMousedown","e","target","preventDefault","filter","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","_filter","word","open","highlightFirst","_change","_clearFilter","bound","_filterSource","force","isMultiColumnFiltering","filterFields","logic","filters","expression","resetPageSettings","removed","removeFiltersForField","_clearFilterExpressions","Deferred","reject","promise","newExpression","push","_pushFilterExpression","isValidFilterExpr","concat","_cascading","setDSFilter","dataSourceState","page","pageSize","sort","group","aggregate","_mergeState","filtersToRemove","i","splice","action","html","instance","_toggleNoData","show","toggle","_toggleHeader","prev","children","first","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","type","ignoreCase","_focus","candidate","widgetOptions","fromFilter","_buildExpression","_open","accentFoldingFiltering","toLocaleLowerCase","toLowerCase","operator","_clearButton","clearTitle","clearButton","search","_inputValue","clearTimeout","_typingTimeout","minLength","_state","_emptySearch","trim","_searchByWord","current","items","ns","_unbindDataSource","off","_form","_resetHandler","dataItem","index","selectedDataItems","getByUid","add","removeAttr","textField","valueField","_text","_value","_aria","autocomplete","suggest","_ariaLabel","_blur","close","_userTriggered","_isValueChanged","unifyType","selectedIndex","optionValue","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","prevAll","each","_height","popups","isMccb","closest","hide","scrollHeight","_openHandler","_adjustListWidth","computedStyle","computedWidth","style","wrapper","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","closeButton","_onCloseButtonPressed","_focusItem","noFocusedItem","last","select","scrollToIndex","_calculateGroupPadding","li","groupHeader","padding","direction","display","scrollbar","parents","_calculatePopupHeight","_calculateColumnsHeaderPadding","isRtl","_refreshScroll","enableYScroll","overflowX","overflowY","mediaQueryList","matches","_resizePopup","one","isDefaultPrevented","_popup","wrap","onEnter","_createPopup","_createActionSheet","fullscreen","this$1$1","_cachedFilterValue","_removeFilterHeader","_removeStaticHeader","Popup","anchor","animation","autosize","_addFilterHeader","popupFilter","find","_postCreatePopup","_onActionSheetCreate","ActionSheet","renderButton","fillMode","focusOnActivate","adaptive","document","body","listViewValue","on","_clean","tagList","empty","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","valueMapper","Error","toString","Boolean","Number","inArray","node","parentNode","siblings","Select","_initial","setDataSource","_dataSource","_initialIndex","_current","fetch","_parentWidget","_cascadeSelect","_select","_cascadeValue","_accessorInput","_accessorSelect","getSelectedOption","selected","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","_move","pressed","moveIndex","selectCandidate","key","keyCode","down","DOWN","isVirtual","UP","altKey","firstChild","_fetch","hasClass","total","_get","item","ENTER","TAB","selection","activeFilter","shouldTrigger","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","option","dataText","dataValue","htmlElement","indexOf","replace","setAttribute","_reset","formId","form","name","parentElement","_cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","filterValue","cascadeFromParentField","cascadeFromField","cascadeOnCustomValue","handler","currentHandler","shift","STATIC_LIST_NS","_touchHandlers","thead","_optionID","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_createOnScrollProxy","events","source","_refreshHandler","_fixedHeader","startY","endY","itemSelector","tapPosition","event","originalEvent","changedTouches","pageY","Math","abs","_touchTriggered","_triggerClick","get","skip","_render","_scrollId","clientHeight","scroll","scrollTop","itemOffsetTop","offsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","result","singleSelection","selectedIndices","uiSelectedIndices","added","deferred","resolve","filtered","_deselectFiltered","_deselect","_valueComparer","removeAt","position","setValue","_valueDeferred","state","_valueIndices","_onScroll","_renderHeader","_valueExpr","values","comparer","normalized","_valueType","_dataItemPosition","valueExpr","j","templates","forEach","column","templateText","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","hasColumns","altRow","newGroup","isLastGroupedItem","_renderColumns","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","itemsToMatch","found","itemsLength","selectedLength","changed","unchanged","mapChangedItems","_bound","isEmptyObject","grep","plugin","registerPrefix","jQuery"],"sources":["kendo.list.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.data', 'kendo.popup', 'kendo.label', 'kendo.icons', 'kendo.actionsheet'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"list\",\n        name: \"List\",\n        category: \"framework\",\n        depends: [ \"data\", \"popup\", \"label\", \"icons\", \"actionsheet\" ],\n        hidden: true\n    };\n\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            outerHeight = kendo._outerHeight,\n            percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i,\n            Widget = ui.Widget,\n            keys = kendo.keys,\n            support = kendo.support,\n            htmlEncode = kendo.htmlEncode,\n            activeElement = kendo._activeElement,\n            outerWidth = kendo._outerWidth,\n            ObservableArray = kendo.data.ObservableArray,\n            ID = \"id\",\n            CHANGE = \"change\",\n            FOCUSED = \"k-focus\",\n            HOVER = \"k-hover\",\n            KSELECTED = \"k-selected\",\n            LOADING = \"k-i-loading k-input-loading-icon\",\n            LIST = \"k-list\",\n            TABLE = \"k-table\",\n            DATA_TABLE = \"k-data-table\",\n            TABLE_MD = \"k-table-md\",\n            LIST_UL = \"k-list-ul\",\n            TABLE_LIST = \"k-table-list\",\n            FIXED_GROUP_HEADER = \".k-list-group-sticky-header\",\n            GROUP_LABEL = \".k-list-item-group-label\",\n            ITEMSELECTOR = \".k-list-item\",\n            ITEMSELECTORTABLE = \".k-table-row\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            CASCADE = \"cascade\",\n            SELECT = \"select\",\n            CLICK = \"click\",\n            MOUSELEAVE = \"mouseleave\",\n            MOUSEENTER = \"mouseenter\",\n            ACTIVATE = \"activate\",\n            DEACTIVATE = \"deactivate\",\n            DATA_BINDING = \"dataBinding\",\n            DATA_BOUND = \"dataBound\",\n            SELECTED_ITEM_CHANGE = \"selectedItemChange\",\n            SELECTED = \"selected\",\n            REQUESTSTART = \"requestStart\",\n            REQUESTEND = \"requestEnd\",\n            BLUR = \"blur\",\n            FOCUS = \"focus\",\n            FOCUSOUT = \"focusout\",\n            extend = $.extend,\n            isArray = Array.isArray,\n            browser = support.browser,\n            HIDDENCLASS = \"k-hidden\",\n            WIDTH = \"width\",\n            TEXT = \"text\",\n            VALUE = \"value\",\n            isIE = browser.msie,\n            quotRegExp = /\"/g,\n            alternativeNames = {\n                \"ComboBox\": [ \"DropDownList\", \"MultiColumnComboBox\" ],\n                \"DropDownList\": [ \"ComboBox\", \"MultiColumnComboBox\" ],\n                \"MultiColumnComboBox\": [ \"ComboBox\", \"DropDownList\" ]\n            },\n\n            UL_EL = '<ul unselectable=\"on\"/>',\n            LIST_EL = \"<div class='k-list'/>\",\n            NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>',\n            LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>',\n            TABLE_FOOTER_EL = '<div class=\"k-table-footer\">' +\n                    '<span class=\"k-table-td\"></span>' +\n                '</div>',\n            MOUSEDOWN = \"mousedown\",\n            LIST_SUFFIX = \"-list\",\n            LISTBOX_SUFFIX = \"_listbox\",\n            ARIA_LABELLEDBY = \"aria-labelledby\",\n            ARIA_LABEL = \"aria-label\",\n            ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n            ARIA_AUTOCOMPLETE = \"aria-autocomplete\",\n            ARIA_CONTROLS = \"aria-controls\",\n            ARIA_LIVE = \"aria-live\",\n            ARIA_EXPANDED = \"aria-expanded\",\n            ARIA_HIDDEN = \"aria-hidden\",\n            ARIA_BUSY = \"aria-busy\",\n            ARIA_MULTISELECTABLE = \"aria-multiselectable\",\n            ARIA_SELECTED = \"aria-selected\",\n            GROUP_ROW_SEL = \".k-table-group-row\";\n\n        var List = kendo.ui.DataBoundWidget.extend({\n            init: function(element, options) {\n                var that = this,\n                    id;\n\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n\n                that._isSelect = element.is(SELECT);\n\n                if (that._isSelect && that.element[0].length) {\n                    if (!options.dataSource) {\n                        options.dataTextField = options.dataTextField || TEXT;\n                        options.dataValueField = options.dataValueField || VALUE;\n                    }\n                }\n\n                if (options.adaptiveMode === \"auto\") {\n                    that.largeMQL = kendo.mediaQuery(\"large\");\n                    that.mediumMQL = kendo.mediaQuery(\"medium\");\n                    that.smallMQL = kendo.mediaQuery(\"small\");\n                }\n\n                that._listSize = kendo.cssProperties.getValidClass({\n                    widget: \"List\",\n                    propName: \"size\",\n                    value: options.size\n                });\n\n                that._filterHeader();\n\n                that.ul = $(UL_EL).attr({\n                    tabIndex: -1,\n                    \"aria-hidden\": true\n                });\n\n                that.list = $(LIST_EL)\n                    .addClass(that._listSize)\n                    .append(that.ul);\n\n                id = element.attr(ID);\n\n                if (!id) {\n                    id = kendo.guid();\n                }\n\n                that.list.attr(ID, id + LIST_SUFFIX);\n                that.ul.attr(ID, id + LISTBOX_SUFFIX);\n\n                if (options.columns && options.columns.length) {\n                    that.list.removeClass(LIST).addClass(DATA_TABLE);\n                    that.list.removeClass(that._listSize).addClass(TABLE_MD);\n\n                    that.ul.removeClass(LIST_UL).addClass(TABLE);\n\n                    that._columnsHeader();\n                }\n\n                that._header();\n                that._noData();\n                that._footer();\n                that._accessors();\n                that._initValue();\n            },\n\n            options: {\n                valuePrimitive: false,\n                footerTemplate: \"\",\n                headerTemplate: \"\",\n                noDataTemplate: true,\n                size: \"medium\",\n                messages: {\n                    \"noData\": \"No data found.\",\n                    \"clear\": \"clear\"\n                },\n                adaptiveMode: \"none\"\n            },\n\n            setOptions: function(options) {\n                Widget.fn.setOptions.call(this, options);\n\n                if (options && options.enable !== undefined$1) {\n                    options.enabled = options.enable;\n                }\n\n                if (options.columns && options.columns.length) {\n                    this._columnsHeader();\n                }\n\n                this._header();\n                this._noData();\n                this._footer();\n\n                this._renderFooter();\n                this._renderNoData();\n\n                if (options.label && this._inputLabel) {\n                    this.label.setOptions(options.label);\n                } else if (options.label === false) {\n                    this.label._unwrapFloating();\n                    this._inputLabel.remove();\n                    delete this._inputLabel;\n                } else if (options.label) {\n                    this._label();\n                }\n            },\n\n            focus: function() {\n                this._focused.trigger(FOCUS);\n            },\n\n            readonly: function(readonly) {\n                this._editable({\n                    readonly: readonly === undefined$1 ? true : readonly,\n                    disable: false\n                });\n\n                if (this.label && this.label.floatingLabel) {\n                    this.label.floatingLabel.readonly(readonly === undefined$1 ? true : readonly);\n                }\n            },\n\n            enable: function(enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined$1 ? true : enable)\n                });\n\n                if (this.label && this.label.floatingLabel) {\n                    this.label.floatingLabel.enable(enable = enable === undefined$1 ? true : enable);\n                }\n            },\n\n            _label: function() {\n                var that = this;\n                var options = that.options;\n                var labelOptions = $.isPlainObject(options.label) ? options.label : {\n                    content: options.label\n                };\n\n                that.label = new kendo.ui.Label(null, $.extend({}, labelOptions, {\n                    widget: that,\n                    floatCheck: that._floatCheck.bind(that)\n                }));\n\n                that._inputLabel = that.label.element;\n            },\n\n            _floatCheck: function() {\n                if (this.listView) {\n                    var hasValue = this.value() || (this.text ? this.text() : false);\n                    return !hasValue && !this.popup.visible();\n                }\n\n                return true;\n            },\n\n            _refreshFloatingLabel: function() {\n                var that = this;\n\n                if (that.label && that.label.floatingLabel) {\n                    that.label.floatingLabel.refresh();\n                }\n            },\n\n            _header: function() {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n\n                this._angularElement(header, \"cleanup\");\n                kendo.destroy(header);\n                header.remove();\n\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n\n                var headerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n\n                list.header = header[0] ? header : null;\n\n                if (list.list.parent.length > 0) {\n                    list.list.before(header);\n                }\n\n                this._angularElement(list.header, \"compile\");\n            },\n\n            _filterHeader: function() {\n                this.filterTemplate = '<div class=\"k-list-filter\">' +\n                    '<span class=\"k-searchbox k-input k-input-md k-rounded-md k-input-solid\" type=\"text\" autocomplete=\"off\">' +\n                        kendo.ui.icon({ icon: \"search\", iconClass: \"k-input-icon\" }) +\n                    '</span>' +\n                '</div>';\n\n                if (this._isFilterEnabled()) {\n                    this.filterInput = $('<input class=\"k-input-inner\" type=\"text\" />')\n                        .attr({\n                            placeholder: this.element.attr(\"placeholder\"),\n                            title: this.options.filterTitle || this.element.attr(\"title\"),\n                            role: \"searchbox\",\n                            \"aria-label\": this.options.filterTitle,\n                            \"aria-haspopup\": \"listbox\",\n                            \"aria-autocomplete\": \"list\"\n                        });\n                }\n            },\n\n            _columnsHeader: function() {\n                var list = this;\n                var columnsHeader = $(list.columnsHeader);\n\n                this._angularElement(columnsHeader, \"cleanup\");\n                kendo.destroy(columnsHeader);\n                columnsHeader.remove();\n\n                var header = \"<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>\";\n                var colGroup = \"<colgroup>\";\n                var row = \"<tr class='k-table-row'>\";\n\n                for (var idx = 0; idx < this.options.columns.length; idx++) {\n                    var currentColumn = this.options.columns[idx];\n                    var title = currentColumn.title || currentColumn.field || \"\";\n                    var titleFunc = function () { return title; };\n                    var template = currentColumn.headerTemplate || titleFunc;\n                    var columnsHeaderTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n                    var currentWidth = currentColumn.width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += \"style='width:\";\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                        widthStyle += \";'\";\n                    }\n\n                    colGroup += \"<col \" + widthStyle + \"/>\";\n\n                    row += \"<th class='k-table-th'>\";\n                    row += columnsHeaderTemplate(currentColumn);\n                    row += \"</th>\";\n                }\n                colGroup += \"</colgroup>\";\n                row += \"</tr>\";\n                header += colGroup;\n                header += \"<thead class='k-table-thead'>\";\n                header += row;\n                header += \"</thead></table></div></div>\";\n\n                list.columnsHeader = columnsHeader = $(header);\n                list.list.prepend(columnsHeader);\n\n                this._angularElement(list.columnsHeader, \"compile\");\n            },\n\n            _noData: function() {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate === true ? function () { return list.options.messages.noData; } : list.options.noDataTemplate;\n\n                list.angular(\"cleanup\", function() { return { elements: noData }; });\n                kendo.destroy(noData);\n                noData.remove();\n\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n\n                list.noData = $(NO_DATA_EL).appendTo(list.list);\n                list.noDataTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            },\n\n            _footer: function() {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n                var footerEl = this.options.columns && this.options.columns.length ? TABLE_FOOTER_EL : LIST_FOOTER_EL;\n\n                this._angularElement(footer, \"cleanup\");\n                kendo.destroy(footer);\n                footer.remove();\n\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n\n                list.footer = $(footerEl).appendTo(list.list);\n                list.footerTemplate = typeof template !== \"function\" ? kendo.template(template) : template;\n            },\n\n            _listOptions: function(options) {\n                var that = this;\n                var currentOptions = that.options;\n                var virtual = currentOptions.virtual;\n                var changeEventOption = { change: that._listChange.bind(that) };\n                var listBoundHandler = that._listBound.bind(that);\n                var focusedElm = that._focused;\n                var inputId = that.element.attr(\"id\");\n                var labelElm = $(\"label[for=\\\"\" + that.element.attr(\"id\") + \"\\\"]\");\n                var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n\n                if (!labelledBy && labelElm.length) {\n                    labelledBy = labelElm.attr(\"id\") || that._generateLabelId(labelElm, inputId || kendo.guid());\n                }\n\n                virtual = typeof virtual === \"object\" ? virtual : {};\n\n                options = $.extend({\n                    autoBind: false,\n                    selectable: true,\n                    dataSource: that.dataSource,\n                    click: that._click.bind(that),\n                    activate: that._activateItem.bind(that),\n                    columns: currentOptions.columns,\n                    deactivate: that._deactivateItem.bind(that),\n                    dataBinding: function() {\n                        that.trigger(DATA_BINDING);\n                    },\n                    dataBound: listBoundHandler,\n                    height: currentOptions.height,\n                    dataValueField: currentOptions.dataValueField,\n                    dataTextField: currentOptions.dataTextField,\n                    groupTemplate: currentOptions.groupTemplate,\n                    fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                    template: currentOptions.template,\n                    ariaLabel: focusedElm.attr(ARIA_LABEL),\n                    ariaLabelledBy: labelledBy,\n                    listSize: that._listSize\n                }, options, virtual, changeEventOption);\n\n                if (!options.template) {\n                    options.template = function (data) { return htmlEncode(kendo.getter(options.dataTextField)(data)); };\n                }\n\n                if (currentOptions.$angular) {\n                    options.$angular = currentOptions.$angular;\n                }\n\n                return options;\n            },\n\n            _initList: function(opts) {\n                var that = this;\n                var skipValueUpdate = opts && opts.skipValueUpdate;\n                var listOptions = that._listOptions({\n                    selectedItemChange: that._listChange.bind(that)\n                });\n\n                if (!that.options.virtual) {\n                    that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n                } else {\n                    that.listView = new kendo.ui.VirtualList(that.ul, Object.assign(listOptions, {\n                        height: that._hasActionSheet() ? 362 : that.options.height, // Hardcoded virtual list height for action sheet untill better solution is found\n                    }));\n                    that.list.addClass(\"k-virtual-list\");\n                }\n\n                that.listView.bind(\"listBound\", that._listBound.bind(that));\n\n                if (!skipValueUpdate) {\n                    that._setListValue();\n                }\n            },\n\n            _setListValue: function(value) {\n                value = value || this.options.value;\n\n                if (value !== undefined$1) {\n                    this.listView.value(value)\n                        .done(this._updateSelectionState.bind(this));\n                }\n            },\n\n            _updateSelectionState: $.noop,\n\n            _listMousedown: function(e) {\n                if (!this.filterInput || this.filterInput[0] !== e.target) {\n                    e.preventDefault();\n                }\n            },\n\n            _isFilterEnabled: function() {\n                var filter = this.options.filter;\n                return filter && filter !== \"none\";\n            },\n\n            _hideClear: function() {\n                var list = this;\n\n                if (list._clear) {\n                    list._clear.addClass(HIDDENCLASS);\n                }\n            },\n\n            _showClear: function() {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n\n            _clearValue: function() {\n                this._clearText();\n                this._accessor(\"\");\n                this.listView.value([]);\n\n                if (this._isSelect) {\n                    this._customOption = undefined$1;\n                }\n\n                if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                    this._filter({ word: \"\", open: false });\n\n                    if (this.options.highlightFirst) {\n                        this.listView.focus(0);\n                    }\n                }\n                this._change();\n            },\n\n            _clearText: function() {\n                this.text(\"\");\n            },\n\n            _clearFilter: function() {\n                if (!this.options.virtual) {\n                    this.listView.bound(false);\n                }\n\n                this._filterSource();\n            },\n\n            _filterSource: function(filter, force) {\n                var that = this;\n                var options = that.options;\n                var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n                var dataSource = that.dataSource;\n                var expression = extend({}, dataSource.filter() || {});\n                var resetPageSettings = filter || (expression.filters && expression.filters.length && !filter);\n\n                var removed = removeFiltersForField(expression, options.dataTextField);\n\n                this._clearFilterExpressions(expression);\n\n                if ((filter || removed) && that.trigger(\"filtering\", { filter: filter })) {\n                    return $.Deferred().reject().promise();\n                }\n\n                var newExpression = {\n                    filters: [],\n                    logic: \"and\"\n                };\n\n                if (isMultiColumnFiltering) {\n                    newExpression.filters.push(filter);\n                } else {\n                    this._pushFilterExpression(newExpression, filter);\n                }\n\n                if (isValidFilterExpr(expression)) {\n                    if (newExpression.logic === expression.logic) {\n                        newExpression.filters = newExpression.filters.concat(expression.filters);\n                    } else {\n                        newExpression.filters.push(expression);\n                    }\n                }\n\n                if (that._cascading) {\n                    this.listView.setDSFilter(newExpression);\n                }\n\n                var dataSourceState = extend({}, {\n                    page: resetPageSettings ? 1 : dataSource.page(),\n                    pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                    sort: dataSource.sort(),\n                    filter: dataSource.filter(),\n                    group: dataSource.group(),\n                    aggregate: dataSource.aggregate()\n                }, { filter: newExpression });\n\n                return dataSource[force ? \"read\" : \"query\"](dataSource._mergeState(dataSourceState));\n            },\n\n            _pushFilterExpression: function(newExpression, filter) {\n                if (isValidFilterExpr(filter) && filter.value !== \"\") {\n                    newExpression.filters.push(filter);\n                }\n            },\n\n            _clearFilterExpressions: function(expression) {\n                if (!expression.filters) {\n                    return;\n                }\n\n                var filtersToRemove;\n\n                for (var i = 0; i < expression.filters.length; i++) {\n                    if (\"fromFilter\" in expression.filters[i]) {\n                        filtersToRemove = i;\n                    }\n                }\n\n                if (!isNaN(filtersToRemove)) {\n                    expression.filters.splice(filtersToRemove, 1);\n                }\n            },\n\n            _angularElement: function(element, action) {\n                if (!element) {\n                    return;\n                }\n\n                this.angular(action, function() {\n                    return { elements: element };\n                });\n            },\n\n            _renderNoData: function() {\n                var list = this;\n                var noData = list.noData;\n\n                if (!noData) {\n                    return;\n                }\n\n                this._angularElement(noData, \"cleanup\");\n                noData.html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, \"compile\");\n            },\n\n            _toggleNoData: function(show) {\n                $(this.noData).toggle(show);\n            },\n\n            _toggleHeader: function(show) {\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                groupHeader.toggle(show);\n            },\n\n            _renderFooter: function() {\n                var list = this,\n                    footer = list.footer ? this.options.columns && this.options.columns.length ? list.footer.children().first() : list.footer : null;\n\n                if (!footer) {\n                    return;\n                }\n\n                this._angularElement(footer, \"cleanup\");\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, \"compile\");\n            },\n\n            _allowOpening: function() {\n                return this.options.noDataTemplate || this.dataSource.flatView().length;\n            },\n\n            _initValue: function() {\n                var that = this,\n                    value = that.options.value;\n\n                if (value !== null) {\n                    that.element.val(value);\n                } else {\n                    value = that._accessor();\n                    that.options.value = value;\n                }\n\n                that._old = value;\n            },\n\n            _ignoreCase: function() {\n                var that = this,\n                    model = that.dataSource.reader.model,\n                    field;\n\n                if (model && model.fields) {\n                    field = model.fields[that.options.dataTextField];\n\n                    if (field && field.type && field.type !== \"string\") {\n                        that.options.ignoreCase = false;\n                    }\n                }\n            },\n\n            _focus: function(candidate) {\n                return this.listView.focus(candidate);\n            },\n\n            _filter: function(options) {\n                var that = this;\n                var widgetOptions = that.options;\n                var word = options.word;\n                var filterFields = widgetOptions.filterFields;\n                var field = widgetOptions.dataTextField;\n                var expression;\n\n                if (filterFields && filterFields.length) {\n                    expression = {\n                        logic: \"or\",\n                        filters: [],\n                        fromFilter: true\n                    };\n                    for (var i = 0; i < filterFields.length; i++) {\n                        this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                    }\n                } else {\n                    expression = that._buildExpression(word, field);\n                }\n\n                that._open = options.open;\n                that._filterSource(expression);\n            },\n\n            _buildExpression: function(value, field) {\n                var that = this;\n                var widgetOptions = that.options;\n                var ignoreCase = widgetOptions.ignoreCase;\n                var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n\n                return {\n                    value: ignoreCase ? (accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase()) : value,\n                    field: field,\n                    operator: widgetOptions.filter,\n                    ignoreCase: ignoreCase\n                };\n            },\n\n            _clearButton: function() {\n                var list = this;\n                var clearTitle = list.options.messages.clear;\n\n                if (!list._clear) {\n                    list._clear = $((\"<span unselectable=\\\"on\\\" class=\\\"k-clear-value\\\" title=\\\"\" + clearTitle + \"\\\">\" + (kendo.ui.icon(\"x\")) + \"</span>\")).attr({\n                        \"role\": \"button\",\n                        \"tabIndex\": -1\n                    });\n                }\n\n                if (!list.options.clearButton) {\n                    list._clear.remove();\n                }\n                this._hideClear();\n            },\n\n            search: function(word) {\n                var options = this.options;\n\n                word = typeof word === \"string\" ? word : this._inputValue();\n\n                clearTimeout(this._typingTimeout);\n\n                if ((!options.enforceMinLength && !word.length) || word.length >= options.minLength) {\n                    this._state = \"filter\";\n                    if (this.listView) {\n                        this.listView._emptySearch = !kendo.trim(word).length;\n                    }\n\n                    if (!this._isFilterEnabled()) {\n                        this._searchByWord(word);\n                    } else {\n                        this._filter({ word: word, open: true });\n                    }\n                }\n            },\n\n            current: function(candidate) {\n                return this._focus(candidate);\n            },\n\n            items: function() {\n                return this.ul[0].children;\n            },\n\n            destroy: function() {\n                var that = this;\n                var ns = that.ns;\n\n                Widget.fn.destroy.call(that);\n\n                that._unbindDataSource();\n\n                if (that.largeMQL || that.mediumMQL || that.smallMQL) {\n                    that.largeMQL.destroy();\n                    that.mediumMQL.destroy();\n                    that.smallMQL.destroy();\n                }\n\n                that.listView.destroy();\n                that.list.off(ns);\n\n                that.popup.destroy();\n\n                if (that._form) {\n                    that._form.off(\"reset\", that._resetHandler);\n                }\n\n                if (that.label) {\n                    that.label.destroy();\n                }\n            },\n\n            dataItem: function(index) {\n                var that = this;\n\n                if (index === undefined$1) {\n                    return that.listView.selectedDataItems()[0];\n                }\n\n                if (typeof index !== \"number\") {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data(\"uid\"));\n                    }\n\n                    index = $(that.items()).index(index);\n                }\n\n                return that.dataSource.flatView()[index];\n            },\n\n            _activateItem: function() {\n                var current = this.listView.focus();\n                if (current && this.popup.visible()) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n                }\n            },\n\n            _deactivateItem: function() {\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            },\n\n            _accessors: function() {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr(\"text-field\"));\n                var valueField = element.attr(kendo.attr(\"value-field\"));\n\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n\n                that._text = getter(options.dataTextField);\n                that._value = getter(options.dataValueField);\n            },\n\n            _aria: function(id) {\n                var that = this,\n                    options = that.options,\n                    element = that._focused,\n                    autocomplete;\n\n                if (options.suggest !== undefined$1) {\n                    if (options.filter === \"none\") {\n                        if (options.suggest === true) {\n                            autocomplete = \"inline\";\n                        } else {\n                            autocomplete = \"none\";\n                        }\n                    } else {\n                        if (options.suggest === true) {\n                            autocomplete = \"both\";\n                        } else {\n                            autocomplete = \"list\";\n                        }\n                    }\n\n                    element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n                }\n\n                id = id ? id + \" \" + that.ul[0].id : that.ul[0].id;\n\n                element.attr({\n                    \"aria-controls\": id\n                });\n\n                if (that.filterInput && that.filterInput.length > 0) {\n                    that.filterInput.attr(ARIA_CONTROLS, id);\n                }\n\n                that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? \"off\" : \"polite\");\n\n                that._ariaLabel(that._focused);\n            },\n\n            _blur: function() {\n                var that = this;\n\n                that._change();\n                that.close();\n                that._userTriggered = false;\n            },\n\n            _isValueChanged: function(value) {\n                return value !== unifyType(this._old, typeof value);\n            },\n\n            _change: function() {\n                var that = this;\n                var index = that.selectedIndex;\n                var optionValue = that.options.value;\n                var value = that.value();\n                var trigger;\n\n                if (that._isSelect && !that.listView.bound() && optionValue) {\n                    value = optionValue;\n                }\n\n                if (that._isValueChanged(value)) {\n                    trigger = true;\n                } else if (that._valueBeforeCascade !== undefined$1 && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                    trigger = true;\n                } else if (index !== undefined$1 && index !== that._oldIndex && !that.listView.isFiltered()) {\n                    trigger = true;\n                }\n\n                if (trigger) {\n\n                    if (that._old === null || that._old === \"\" || value === \"\") {\n                        that._valueBeforeCascade = that._old = value;\n                    } else {\n                        if (that.dataItem()) {\n                            that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                        } else {\n                            that._valueBeforeCascade = that._old = null;\n                        }\n                    }\n                    that._oldIndex = index;\n\n                    if (!that._typing) {\n                        // trigger the DOM change event so any subscriber gets notified\n                        that.element.trigger(CHANGE);\n                    }\n\n                    that.trigger(CHANGE);\n                }\n\n                that.typing = false;\n            },\n\n            _data: function() {\n                return this.dataSource.view();\n            },\n\n            _enable: function() {\n                var that = this,\n                    options = that.options,\n                    disabled = that.element.is(\"[disabled]\");\n\n                if (options.enable !== undefined$1) {\n                    options.enabled = options.enable;\n                }\n\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is(\"[readonly]\"));\n                }\n            },\n\n            _dataValue: function(dataItem) {\n                var value = this._value(dataItem);\n\n                if (value === undefined$1) {\n                    value = this._text(dataItem);\n                }\n\n                return value;\n            },\n\n            _offsetHeight: function() {\n                var offsetHeight = 0;\n                var siblings = this.listView.content.parent().prevAll(\":visible\");\n\n                siblings.each(function() {\n                    var element = $(this);\n\n                    offsetHeight += outerHeight(element, true);\n                });\n\n                return offsetHeight;\n            },\n\n            _height: function(length) {\n                var that = this;\n                var list = that.list;\n                var height = that.options.height;\n                var visible = that.popup.visible();\n                var isMccb = this.options.columns && this.options.columns.length;\n                var offsetTop, popups;\n\n                if (length || that.options.noDataTemplate) {\n                    // Check where animation container stays\n                    popups = list.parent().add(list.closest(\".k-animation-container\")).show();\n\n                    if (!list.parent().is(\":visible\")) {\n                        popups.hide();\n                        return;\n                    }\n\n                    height = that.listView.content[0].scrollHeight > height ? height : \"auto\";\n\n                    popups.height(height);\n\n                    if (height !== \"auto\") {\n                        offsetTop = that._offsetHeight();\n\n                        height = height - offsetTop;\n\n                        if (isMccb) {\n                            height = height - (outerHeight($(that.footer)) || 0) - (outerHeight($(that.columnsHeader)) || 0);\n                        }\n                    }\n\n                    if (isMccb) {\n                        that.listView.content.outerHeight(height);\n                    } else {\n                        that.listView.content.parent().outerHeight(height);\n                    }\n\n                    if (!visible) {\n                        list.parent().hide();\n                    }\n                }\n\n                return height;\n            },\n\n            _openHandler: function(e) {\n                var current;\n\n                this._adjustListWidth();\n\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, true);\n                    this.ul.attr(ARIA_HIDDEN, false);\n\n                    current = this.listView.focus();\n                    if (current) {\n                        this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr(\"id\"));\n                    }\n                }\n            },\n\n            _adjustListWidth: function() {\n                var that = this,\n                    list = that.list.parent(),\n                    width = list[0].style.width,\n                    wrapper = that.wrapper,\n                    computedStyle, computedWidth;\n\n                if ((!list.data(WIDTH) && width) || that._hasActionSheet()) {\n                    return;\n                }\n\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n\n                if (computedStyle && browser.msie) { // getComputedStyle returns different box in IE.\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n\n                if (list.css(\"box-sizing\") !== \"border-box\") {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n\n                list.css({\n                    fontFamily: wrapper.css(\"font-family\"),\n                    width: that.options.autoWidth ? \"auto\" : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? \"nowrap\" : \"normal\"\n                })\n                .data(WIDTH, width);\n\n                return true;\n            },\n\n            _closeHandler: function(e) {\n                if (e.closeButton) {\n                    this._onCloseButtonPressed();\n                }\n\n\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, false);\n                    this.ul.attr(ARIA_HIDDEN, true);\n                    this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n                }\n            },\n\n            _focusItem: function() {\n                var listView = this.listView;\n                var noFocusedItem = !listView.focus();\n                var index = last(listView.select());\n\n                if (index === undefined$1 && this.options.highlightFirst && noFocusedItem) {\n                    index = 0;\n                }\n\n                if (index !== undefined$1) {\n                    listView.focus(index);\n                } else if (noFocusedItem) {\n                    listView.scrollToIndex(0);\n                }\n            },\n\n            _calculateGroupPadding: function(height) {\n                var li = this.ul.children(\".k-first\").first();\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                var padding = 0;\n                var direction = 'right';\n\n                if (groupHeader[0] && groupHeader[0].style.display !== \"none\") {\n                    if (height !== \"auto\") {\n                        padding = kendo.support.scrollbar();\n                    }\n\n                    if (this.element.parents('.k-rtl').length) {\n                        direction = 'left';\n                    }\n\n                    padding += parseFloat(li.css(\"border-\" + direction + \"-width\"), 10) + parseFloat(li.children(GROUP_LABEL).css(\"padding-\" + direction), 10);\n                    groupHeader.css(\"padding-\" + direction, padding);\n                }\n            },\n\n            _calculatePopupHeight: function(force) {\n                var height = this._height(this.dataSource.flatView().length || force);\n                this._calculateGroupPadding(height);\n                this._calculateColumnsHeaderPadding(height);\n            },\n\n            _calculateColumnsHeaderPadding: function(height) {\n                if (this.options.columns && this.options.columns.length) {\n                    var list = this;\n                    var isRtl = support.isRtl(list.wrapper);\n                    var scrollbar = kendo.support.scrollbar();\n\n                    list.columnsHeader.css((isRtl ? \"padding-left\" : \"padding-right\"), height !== \"auto\" ? scrollbar : 0);\n                }\n            },\n\n            _refreshScroll: function() {\n                var listView = this.listView;\n                var enableYScroll = listView.element.height() > listView.content.height();\n\n                if (this.options.autoWidth) {\n                    listView.content.css({\n                        overflowX: \"hidden\",\n                        overflowY: enableYScroll ? \"scroll\" : \"auto\"\n                    });\n                }\n            },\n\n            _hasActionSheet: function() {\n                return this.options.adaptiveMode === \"auto\" && (this.mediumMQL.mediaQueryList.matches\n                        || this.smallMQL.mediaQueryList.matches);\n            },\n\n            _resizePopup: function(force) {\n                if (this.options.virtual\n                        || this._hasActionSheet()) {\n                    return;\n                }\n\n                if (!this.popup.element.is(\":visible\")) {\n                    this.popup.one(\"open\", (function(force) {\n                        return (function(e) {\n                            if (!e.isDefaultPrevented()) {\n                                this._calculatePopupHeight(force);\n                            }\n                        }).bind(this);\n                    }).call(this, force));\n\n                    this.popup.one(ACTIVATE, this._refreshScroll.bind(this));\n                } else {\n                    this._calculatePopupHeight(force);\n                }\n            },\n\n            _popup: function() {\n                var list = this;\n\n                list.list.wrap(\"<div>\");\n\n                if (list.options.adaptiveMode === \"auto\") {\n                    list.largeMQL.onEnter(list._createPopup.bind(list));\n                    list.mediumMQL.onEnter(list._createActionSheet.bind(list));\n                    list.smallMQL\n                        .onEnter(function () {\n                            if (!list.popup) {\n                                list._createActionSheet();\n                            }\n\n                            list.popup.fullscreen(true);\n                        });\n                } else {\n                    list._createPopup();\n                }\n            },\n\n            _createPopup: function() {\n                var this$1$1 = this;\n\n                var list = this;\n\n                if (list.popup) {\n                    list._cachedFilterValue = list.filterInput ? list.filterInput.val() : null;\n                    list.popup.destroy();\n                    list._removeFilterHeader();\n                    list._removeStaticHeader();\n                }\n\n                list.popup = new ui.Popup(list.list.parent(), extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: list._openHandler.bind(list),\n                    close: list._closeHandler.bind(list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth,\n                    activate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    },\n                    deactivate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    }\n                }));\n\n                list._addFilterHeader = list._isFilterEnabled() && list.options.popupFilter ? function () {\n                    list._filterHeader();\n                    list.list\n                        .parent()\n                        .prepend($(list.filterTemplate))\n                        .find(\".k-searchbox\")\n                        .append(list.filterInput);\n                    list.enable();\n                } : $.noop;\n\n                list._postCreatePopup();\n            },\n\n            _onActionSheetCreate: $.noop,\n            _onCloseButtonPressed: $.noop,\n\n            _createActionSheet: function() {\n                var this$1$1 = this;\n\n                var list = this;\n\n                if (list.popup) {\n                    list._cachedFilterValue = list.filterInput ? list.filterInput.val() : null;\n                    list.popup.destroy();\n                    list._removeFilterHeader();\n                    list._removeStaticHeader();\n                    list.list.parent().css({\n                        width: \"\",\n                        height: \"\",\n                        minWidth: \"\"\n                    });\n                }\n\n                list.popup = new ui.ActionSheet(list.list.parent(), {\n                    headerTemplate: function (options) { return \"<div class=\\\"k-text-center k-actionsheet-titlebar\\\" >\" +\n                            '<div class=\"k-actionsheet-titlebar-group k-hbox\">' +\n                                \"<div  class=\\\"k-actionsheet-title\\\">\" +\n                                    (list.options.label ? (\"<div class=\\\"k-text-center\\\">\" + (list.options.label) + \"</div>\") : '') +\n                                    (list.options.placeholder ? (\"<div class=\\\"k-actionsheet-subtitle k-text-center\\\">\" + (list.options.placeholder || \"\") + \"</div>\") : \"\") +\n                                '</div>' +\n                                (options.closeButton ?\n                                '<div class=\"k-actionsheet-actions\">' +\n                                    kendo.html.renderButton((\"<button tabindex=\\\"-1\\\" \" + (kendo.attr(\"ref-actionsheet-close-button\")) + \"></button>\"), { icon: \"x\", fillMode: \"flat\", size: \"large\" }) +\n                                '</div>'\n                                : \"\") +\n                            '</div>' +\n                        (this$1$1._isFilterEnabled() ? (\"<div class=\\\"k-actionsheet-titlebar-group k-actionsheet-filter\\\">\" + (list.filterTemplate) + \"</div>\") : '') +\n                    '</div>'; },\n                    open: list._openHandler.bind(list),\n                    close: list._closeHandler.bind(list),\n                    focusOnActivate: false,\n                    adaptive: true,\n                    appendTo: (list.options.popup && list.options.popup.appendTo) || document.body,\n                    closeButton: true,\n                    fullscreen: list.smallMQL.mediaQueryList.matches,\n                    activate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    },\n                    deactivate: function () {\n                        this$1$1._refreshFloatingLabel();\n                    },\n                    popup: extend({}, list.options.popup, {\n                        autosize: list.options.autoWidth\n                    })\n                });\n\n                list._addFilterHeader = this._isFilterEnabled() ? function () {\n                    list._filterHeader();\n                    list.popup.element\n                        .find(\".k-searchbox\")\n                        .append(list.filterInput);\n                    list.enable();\n                } : $.noop;\n\n\n                list._postCreatePopup();\n                list._onActionSheetCreate();\n            },\n\n            _removeFilterHeader: function() {\n                if (this.filterInput) {\n                    this.filterInput\n                        .off(this.ns)\n                        .closest(\".k-list-filter\")\n                        .remove();\n\n                    this.filterInput = null;\n                }\n            },\n\n            _removeStaticHeader: function() {\n                this.listView.header.remove();\n            },\n\n            _postCreatePopup: function() {\n                var list = this;\n                var listViewValue;\n\n                list._addFilterHeader();\n\n                if (list.filterInput && list._cachedFilterValue) {\n                    list.filterInput.val(list._cachedFilterValue);\n                }\n\n                list.popup.element.prepend(list.header)\n                    .on(MOUSEDOWN + this.ns, this._listMousedown.bind(this));\n\n                if (list.listView) {\n                    listViewValue = list.listView.value();\n\n                    if (list.listView._clean) {\n                        list.listView._clean();\n                    }\n\n                    // Dirty hack to clean MultiSelect taglist\n                    if (list.tagList && list.options.virtual) {\n                        list.tagList.empty();\n                    }\n\n                    list.listView.destroy();\n                    list._initList({ skipValueUpdate: true });\n                    list.listView.value(listViewValue);\n                }\n            },\n\n            _toggleHover: function(e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n            },\n\n            _toggle: function(open, preventFocus) {\n                var that = this;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n\n                open = open !== undefined$1 ? open : !that.popup.visible();\n\n                if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                    that._prevent = true;\n                    that._focused.trigger(FOCUS);\n                    that._prevent = false;\n                }\n\n                that[open ? OPEN : CLOSE]();\n            },\n\n            _triggerCascade: function() {\n                var that = this;\n\n                if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                    that._cascadedValue = that.value();\n                    that._cascadeTriggered = true;\n                    that.trigger(CASCADE, { userTriggered: that._userTriggered });\n                }\n            },\n\n            _triggerChange: function() {\n                if (this._valueBeforeCascade !== this.value()) {\n                    this.trigger(CHANGE);\n                }\n            },\n\n            _unbindDataSource: function() {\n                var that = this;\n\n                that.dataSource.unbind(REQUESTSTART, that._requestStartHandler)\n                               .unbind(REQUESTEND, that._requestEndHandler)\n                               .unbind(\"error\", that._errorHandler);\n            },\n\n            requireValueMapper: function(options, value) {\n                var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n                if (hasValue && options.virtual && typeof options.virtual.valueMapper !== \"function\") {\n                    throw new Error(\"ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function\");\n                }\n            }\n        });\n\n        function unifyType(value, type) {\n            if (value !== undefined$1 && value !== \"\" && value !== null) {\n                if (type === \"boolean\") {\n                    if (typeof value !== \"boolean\") {\n                        value = value.toString().toLowerCase() === \"true\";\n                    }\n                    value = Boolean(value);\n                } else if (type === \"number\") {\n                    value = Number(value);\n                } else if (type === \"string\") {\n                    value = value.toString();\n                }\n            }\n\n            return value;\n        }\n\n        extend(List, {\n            inArray: function(node, parentNode) {\n                var idx, length, siblings = parentNode.children;\n\n                if (!node || node.parentNode !== parentNode) {\n                    return -1;\n                }\n\n                for (idx = 0, length = siblings.length; idx < length; idx++) {\n                    if (node === siblings[idx]) {\n                        return idx;\n                    }\n                }\n\n                return -1;\n            },\n            unifyType: unifyType\n        });\n\n        kendo.ui.List = List;\n\n        ui.Select = List.extend({\n            init: function(element, options) {\n                List.fn.init.call(this, element, options);\n                this._initial = this.element.val();\n            },\n\n            setDataSource: function(dataSource) {\n                var that = this;\n                var parent;\n\n                that.options.dataSource = dataSource;\n\n                that._dataSource();\n\n                if (that.listView.bound()) {\n                    that._initialIndex = null;\n                    that.listView._current = null;\n                }\n\n                that.listView.setDataSource(that.dataSource);\n\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n\n                parent = that._parentWidget();\n\n                if (parent) {\n                    that._cascadeSelect(parent);\n                }\n            },\n\n            close: function() {\n                this.popup.close();\n            },\n\n            select: function(candidate) {\n                var that = this;\n\n                if (candidate === undefined$1) {\n                    return that.selectedIndex;\n                } else {\n                    return that._select(candidate).done(function() {\n                        that._cascadeValue = that._old = that._accessor();\n                        that._oldIndex = that.selectedIndex;\n\n                        that._refreshFloatingLabel();\n                    });\n                }\n            },\n\n            _accessor: function(value, idx) {\n                return this[this._isSelect ? \"_accessorSelect\" : \"_accessorInput\"](value, idx);\n            },\n\n            _accessorInput: function(value) {\n                var element = this.element[0];\n\n                if (value === undefined$1) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = \"\";\n                    }\n                    element.value = value;\n                }\n            },\n\n            _accessorSelect: function(value, idx) {\n                var element = this.element[0];\n                var hasValue;\n\n                if (value === undefined$1) {\n                    return getSelectedOption(element).value || \"\";\n                }\n\n                getSelectedOption(element).selected = false;\n\n                if (idx === undefined$1) {\n                    idx = -1;\n                }\n\n                hasValue = (value !== null && value !== \"\");\n\n                if (hasValue && idx == -1) {\n                    this._custom(value);\n                } else {\n                    if (value) {\n                        element.value = value;\n                    } else {\n                        element.selectedIndex = idx;\n                    }\n                }\n            },\n\n            _syncValueAndText: function() {\n                return true;\n            },\n\n            _custom: function(value) {\n                var that = this;\n                var element = that.element;\n                var custom = that._customOption;\n\n                if (!custom) {\n                    custom = $(\"<option/>\");\n                    that._customOption = custom;\n\n                    element.append(custom);\n                }\n\n                custom.text(value);\n                custom[0].selected = true;\n            },\n\n            _hideBusy: function() {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrowIcon.removeClass(LOADING);\n                that._focused.attr(ARIA_BUSY, false);\n                that._busy = null;\n                that._showClear();\n            },\n\n            _showBusy: function(e) {\n                var that = this;\n\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                that._request = true;\n\n                if (that._busy) {\n                    return;\n                }\n\n                that._busy = setTimeout(function() {\n                    if (that._arrowIcon) { //destroyed after request start\n                        that._focused.attr(ARIA_BUSY, true);\n                        that._arrowIcon.addClass(LOADING);\n                        that._hideClear();\n                    }\n                }, 100);\n            },\n\n            _requestEnd: function() {\n                this._request = false;\n                this._hideBusy();\n            },\n\n            _dataSource: function() {\n                var that = this,\n                    element = that.element,\n                    options = that.options,\n                    dataSource = options.dataSource || {},\n                    idx;\n\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n\n                if (that._isSelect) {\n                    idx = element[0].selectedIndex;\n                    if (idx > -1) {\n                        options.index = idx;\n                    }\n\n                    dataSource.select = element;\n                    dataSource.fields = [{ field: options.dataTextField },\n                                         { field: options.dataValueField }];\n                }\n\n                if (that.dataSource) {\n                    that._unbindDataSource();\n                } else {\n                    that._requestStartHandler = that._showBusy.bind(that);\n                    that._requestEndHandler = that._requestEnd.bind(that);\n                    that._errorHandler = that._hideBusy.bind(that);\n                }\n\n                that.dataSource = kendo.data.DataSource.create(dataSource)\n                                       .bind(REQUESTSTART, that._requestStartHandler)\n                                       .bind(REQUESTEND, that._requestEndHandler)\n                                       .bind(\"error\", that._errorHandler);\n            },\n\n            _firstItem: function() {\n                this.listView.focusFirst();\n            },\n\n            _lastItem: function() {\n                this.listView.focusLast();\n            },\n\n            _nextItem: function() {\n                return this.listView.focusNext();\n            },\n\n            _prevItem: function() {\n                return this.listView.focusPrev();\n            },\n\n            _getNormalizedDataItem: function(candidate) {\n                var that = this,\n                    listView = that.listView,\n                    isIndex = typeof candidate === \"number\",\n                    hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                    index;\n\n                if (isIndex) {\n                    index = hasOptionLabel ? --candidate : candidate;\n                } else {\n                    index = listView.getElementIndex(candidate);\n                }\n\n                return listView.dataItemByIndex(index);\n            },\n\n            _getNormalizedSelectCandidate: function(candidate) {\n                var that = this,\n                    hasOptionLabel = that.optionLabel && that.optionLabel.length,\n                    isIndex = typeof candidate === \"number\",\n                    normalizedCandidate = candidate;\n\n                if (hasOptionLabel && isIndex) {\n                    normalizedCandidate++;\n                }\n\n                return normalizedCandidate;\n            },\n\n            _move: function(e) {\n                var that = this;\n                var listView = that.listView;\n                var key = e.keyCode;\n                var down = key === keys.DOWN;\n                var isVirtual = that.options.virtual;\n                var dataItem;\n                var pressed;\n                var current;\n                var moveIndex;\n                var selectCandidate;\n\n                if (key === keys.UP || down) {\n                    if (e.altKey) {\n                        that.toggle(down);\n                    } else {\n                        if (!listView.bound() && !that.ul[0].firstChild) {\n                            if (!that._fetch) {\n                                that.dataSource.one(CHANGE, function() {\n                                    that._fetch = false;\n                                    that._move(e);\n                                });\n\n                                that._fetch = true;\n                                that._filterSource();\n                            }\n\n                            e.preventDefault();\n\n                            return true; //pressed\n                        }\n\n                        current = that._focus();\n\n                        if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                            if (down) {\n                                moveIndex = that._nextItem();\n\n                                if ((isVirtual && moveIndex <= 0) || (!that._focus() && !moveIndex) ) {\n                                    that._lastItem();\n                                }\n                            } else {\n                                moveIndex = that._prevItem();\n\n                                if ((isVirtual && moveIndex >= listView.dataSource.total() - 1) || (!that._focus() && !moveIndex)) {\n                                    that._firstItem();\n                                }\n                            }\n                        }\n\n                        selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n\n                        that._select(selectCandidate, true).done(function() {\n                            var done = function() {\n                                if (!that.popup.visible()) {\n                                    that._blur();\n                                }\n\n                                if (that._cascadedValue === null) {\n                                    that._cascadedValue = that.value();\n                                } else {\n                                    that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                                }\n                            };\n\n                            if (that.trigger(SELECT, { dataItem: that._getNormalizedDataItem(selectCandidate), item: that._focus() })) {\n                                that._select(current).done(done);\n                            } else {\n                                done();\n                            }\n                        });\n                    }\n\n                    e.preventDefault();\n                    pressed = true;\n                } else if (key === keys.ENTER || key === keys.TAB) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n\n                    current = that._focus();\n                    dataItem = that.dataItem();\n\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n\n                    var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                    var selection;\n\n                    if (current) {\n                        dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                        var shouldTrigger = true;\n\n                        if (dataItem) {\n                            shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                        }\n\n                        if (shouldTrigger && that.trigger(SELECT, { dataItem: dataItem, item: current })) {\n                            return;\n                        }\n\n                        selection = that._select(current);\n                    } else if (that.input) {\n                        if (that._syncValueAndText() || that._isSelect) {\n                            that._accessor(that.input.val());\n                        }\n                        that.listView.value(that.input.val());\n                    }\n\n                    if (that._focusElement) {\n                        that._focusElement(that.wrapper);\n                    }\n\n                    if (activeFilter && key === keys.TAB) {\n                        that.wrapper.focusout();\n                    } else {\n                        if (selection && typeof selection.done === \"function\") {\n                            selection.done(function() {\n                                that._blur();\n                            });\n                        } else {\n                            that._blur();\n                        }\n                    }\n\n                    that.close();\n                    pressed = true;\n                } else if (key === keys.ESC) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                    e.preventDefault();\n\n                    var direction = key === keys.PAGEDOWN ? 1 : -1;\n                    listView.scrollWith(direction * listView.screenHeight());\n\n                    pressed = true;\n                }\n\n                return pressed;\n            },\n\n            _fetchData: function() {\n                var that = this;\n                var hasItems = !!that.dataSource.view().length;\n\n                if (that._request || that.options.cascadeFrom) {\n                    return;\n                }\n\n                if (!that.listView.bound() && !that._fetch && !hasItems) {\n                    that._fetch = true;\n                    that.dataSource.fetch().done(function() {\n                        that._fetch = false;\n                    });\n                }\n            },\n\n            _options: function(data, optionLabel, value) {\n                var that = this,\n                    element = that.element,\n                    htmlElement = element[0],\n                    length = data.length,\n                    options = \"\",\n                    option,\n                    dataItem,\n                    dataText,\n                    dataValue,\n                    idx = 0;\n\n                if (optionLabel) {\n                    options = optionLabel;\n                }\n\n                for (; idx < length; idx++) {\n                    option = \"<option\";\n                    dataItem = data[idx];\n                    dataText = that._text(dataItem);\n                    dataValue = that._value(dataItem);\n\n                    if (dataValue !== undefined$1) {\n                        dataValue += \"\";\n\n                        if (dataValue.indexOf('\"') !== -1) {\n                            dataValue = dataValue.replace(quotRegExp, \"&quot;\");\n                        }\n\n                        option += ' value=\"' + dataValue + '\"';\n                    }\n\n                    option += \">\";\n\n                    if (dataText !== undefined$1) {\n                        option += htmlEncode(dataText);\n                    }\n\n                    option += \"</option>\";\n                    options += option;\n                }\n\n                element.html(options);\n\n                if (value !== undefined$1) {\n                    htmlElement.value = value;\n                    if (htmlElement.value && !value) {\n                        htmlElement.selectedIndex = -1;\n                    }\n                }\n\n                if (htmlElement.selectedIndex !== -1) {\n                    option = getSelectedOption(htmlElement);\n\n                    if (option) {\n                        option.setAttribute(SELECTED, SELECTED);\n                    }\n                }\n            },\n\n            _reset: function() {\n                var that = this,\n                    element = that.element,\n                    formId = element.attr(\"form\"),\n                    form = formId ? $(\"#\" + formId) : element.closest(\"form\");\n\n                if (form[0]) {\n                    that._resetHandler = function() {\n                        setTimeout(function() {\n                            that.value(that._initial);\n                        });\n                    };\n\n                    that._form = form.on(\"reset\", that._resetHandler);\n                }\n            },\n\n            _parentWidget: function() {\n                var name = this.options.name;\n\n                if (!this.options.cascadeFrom) {\n                    return;\n                }\n\n                var parentElement = $(\"#\" + this.options.cascadeFrom);\n                var parent = parentElement.data(\"kendo\" + name);\n\n                if (!parent) {\n                    for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                        parent = parentElement.data(\"kendo\" + alternativeNames[name][i]);\n\n                        if (!!parent) {\n                            break;\n                        }\n                    }\n                }\n\n                return parent;\n            },\n\n            _cascade: function() {\n                var that = this;\n                var options = that.options;\n                var cascade = options.cascadeFrom;\n                var parent;\n\n                if (cascade) {\n                    parent = that._parentWidget();\n\n                    if (!parent) {\n                        return;\n                    }\n\n                    that._cascadeHandlerProxy = that._cascadeHandler.bind(that);\n                    that._cascadeFilterRequests = [];\n\n                    options.autoBind = false;\n\n                    parent.bind(\"set\", function() { //will cascade\n                        that.one(\"set\", function(e) { //get your value\n                            that._selectedValue = e.value || that._accessor();\n                        });\n                    });\n\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n\n                    //refresh was called\n                    if (parent.listView.bound()) {\n                        that._toggleCascadeOnFocus();\n                        that._cascadeSelect(parent);\n                    } else {\n                        parent.one(DATA_BOUND, function() {\n                            that._toggleCascadeOnFocus();\n                            if (parent.popup.visible()) {\n                                parent._focused.trigger(FOCUS);\n                            }\n                        });\n\n                        if (!parent.value()) {\n                            that.enable(false);\n                        }\n                    }\n                }\n            },\n\n            _toggleCascadeOnFocus: function() {\n                var that = this;\n                var parent = that._parentWidget();\n                var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n\n                parent._focused.add(parent.filterInput).on(FOCUS, function() {\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.first(CHANGE, that._cascadeHandlerProxy);\n                });\n\n                parent._focused.add(parent.filterInput).on(focusout, function() {\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                });\n            },\n\n            _cascadeHandler: function(e) {\n                var parent = this._parentWidget();\n                var valueBeforeCascade = this.value();\n\n                this._userTriggered = e.userTriggered || parent._userTriggered;\n\n                if (this.listView.bound()) {\n                    this._clearSelection(parent, true);\n                }\n\n                this._cascadeSelect(parent, valueBeforeCascade);\n            },\n\n            _cascadeChange: function(parent) {\n                var that = this;\n                var value = that._accessor() || that._selectedValue;\n\n                if (!that._cascadeFilterRequests.length) {\n                    that._selectedValue = null;\n                }\n\n                if (that._userTriggered) {\n                    that._clearSelection(parent, true);\n                } else if (value) {\n                    if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                        that.value(value);\n                    }\n\n                    if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                        that._clearSelection(parent, true);\n                    }\n                } else if (that.dataSource.flatView().length) {\n                    that.select(that.options.index);\n                }\n\n                that.enable();\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            },\n\n            _cascadeSelect: function(parent, valueBeforeCascade) {\n                var that = this;\n                var dataItem = parent.dataItem();\n                var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n                var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n                var expressions;\n\n                // Applicable only when parent is ComboBox or MultiColumnComboBox\n                if (parent.options.cascadeOnCustomValue &&\n                    filterValue === null &&\n                    (!that.options.cascadeFromParentField || that.options.cascadeFromParentField === parent.options.dataValueField)) {\n                        filterValue = parent.value();\n                }\n\n                that._valueBeforeCascade = valueBeforeCascade !== undefined$1 ? valueBeforeCascade : that.value();\n\n                if (filterValue || filterValue === 0) {\n                    expressions = that.dataSource.filter() || {};\n                    removeFiltersForField(expressions, valueField);\n\n                    var handler = function() {\n                        var currentHandler = that._cascadeFilterRequests.shift();\n                        if (currentHandler) {\n                            that.unbind('dataBound', currentHandler);\n                        }\n\n                        currentHandler = that._cascadeFilterRequests[0];\n                        if (currentHandler) {\n                            that.first('dataBound', currentHandler);\n                        }\n\n                        that._cascadeChange(parent);\n                    };\n\n                    that._cascadeFilterRequests.push(handler);\n\n                    if (that._cascadeFilterRequests.length === 1) {\n                        that.first('dataBound', handler);\n                    }\n\n                    that._cascading = true;\n                    that._filterSource({\n                        field: valueField,\n                        operator: \"eq\",\n                        value: filterValue\n                    });\n                    that._cascading = false;\n                } else {\n                    that.enable(false);\n                    that._clearSelection(parent);\n                    that._triggerCascade();\n                    that._triggerChange();\n                    that._userTriggered = false;\n                }\n\n                that._refreshFloatingLabel();\n            }\n        });\n\n        var STATIC_LIST_NS = \".StaticList\";\n\n        var StaticList = kendo.ui.DataBoundWidget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this.element.attr(\"role\", \"listbox\")\n                            .on(CLICK + STATIC_LIST_NS, \"li\", this._click.bind(this))\n                            .on(MOUSEENTER + STATIC_LIST_NS, \"li\", function() { $(this).addClass(HOVER); })\n                            .on(MOUSELEAVE + STATIC_LIST_NS, \"li\", function() { $(this).removeClass(HOVER); });\n\n                if (options && options.ariaLabel) {\n                    this.element.attr(ARIA_LABEL, options.ariaLabel);\n                } else if (options && options.ariaLabelledBy) {\n                    this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n                }\n\n                if (support.touch) {\n                    this._touchHandlers();\n                }\n\n                if (this.options.selectable === \"multiple\") {\n                    this.element.attr(ARIA_MULTISELECTABLE, true);\n                }\n\n                if (this.options.columns && this.options.columns.length) {\n                    var thead = this.element.parent().find('.k-table-thead');\n                    var row = $('<tr class=\"k-table-group-row\">' +\n                        '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' +\n                    '</tr>');\n\n                    thead.append(row);\n\n                    this.header = row.find(\".k-table-th\");\n\n                    this.content = this.element.wrap(\"<div class='k-table-body k-table-scroller' unselectable='on'></div>\").parent();\n\n                    this.element.addClass(TABLE_LIST);\n                } else {\n                    this.content = this.element.wrap(\"<div class='k-list-content k-list-scroller' unselectable='on'></div>\").parent();\n                    this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                    this.element.addClass(LIST_UL);\n                }\n\n                this.bound(false);\n\n                this._optionID = kendo.guid();\n\n                this._selectedIndices = [];\n\n                this._view = [];\n                this._dataItems = [];\n                this._values = [];\n\n                var value = this.options.value;\n\n                if (value) {\n                    this._values = Array.isArray(value) ? value.slice(0) : [value];\n                }\n\n                this._getter();\n                this._templates();\n\n                this.setDataSource(this.options.dataSource);\n\n                this._createOnScrollProxy();\n            },\n\n            options: {\n                name: \"StaticList\",\n                dataValueField: null,\n                valuePrimitive: false,\n                selectable: true,\n                template: null,\n                groupTemplate: null,\n                fixedGroupTemplate: null,\n                ariaLabel: null,\n                ariaLabelledBy: null\n            },\n\n            events: [\n               CLICK,\n                CHANGE,\n               ACTIVATE,\n               DEACTIVATE,\n               DATA_BINDING,\n               DATA_BOUND,\n               SELECTED_ITEM_CHANGE\n            ],\n\n            setDataSource: function(source) {\n                var that = this;\n                var dataSource = source || {};\n                var value;\n\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                dataSource = kendo.data.DataSource.create(dataSource);\n\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n\n                    value = that.value();\n\n                    that.value([]);\n                    that.bound(false);\n\n                    that.value(value);\n                } else {\n                    that._refreshHandler = that.refresh.bind(that);\n                }\n\n                that.setDSFilter(dataSource.filter());\n\n                that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n                that._fixedHeader();\n            },\n\n            _touchHandlers: function() {\n                var that = this,\n                    itemSelector = this.options.columns && this.options.columns.length ? ITEMSELECTORTABLE : ITEMSELECTOR,\n                    startY, endY,\n                    tapPosition = function(event) {\n                        return (event.originalEvent || event).changedTouches[0].pageY;\n                    };\n\n                that.element.on(\"touchstart\" + STATIC_LIST_NS, function(e) {\n                    startY = tapPosition(e);\n                });\n\n                that.element.on(\"touchend\" + STATIC_LIST_NS, function(e) {\n                    if (e.isDefaultPrevented()) {\n                        return;\n                    }\n\n                    endY = tapPosition(e);\n\n                    if (Math.abs(endY - startY) < 10) {\n                        that._touchTriggered = true;\n                        that._triggerClick($(e.target).closest(itemSelector).get(0));\n                    }\n                });\n            },\n\n            skip: function() {\n                return this.dataSource.skip();\n            },\n\n            setOptions: function(options) {\n                Widget.fn.setOptions.call(this, options);\n\n                this._getter();\n                this._templates();\n                this._render();\n\n                if (this.label && options.label) {\n                    this.label.setOptions(options.label);\n                } else if (this.label && options.label === false) {\n                    this.label._unwrapFloating();\n                    this._inputLabel.remove();\n                    delete this._inputLabel;\n                }\n            },\n\n            destroy: function() {\n                this.element.off(STATIC_LIST_NS);\n\n                if (this._refreshHandler) {\n                    this.dataSource.unbind(CHANGE, this._refreshHandler);\n                }\n\n                clearTimeout(this._scrollId);\n\n                Widget.fn.destroy.call(this);\n            },\n\n            dataItemByIndex: function(index) {\n                return this.dataSource.flatView()[index];\n            },\n\n            screenHeight: function() {\n                return this.content[0].clientHeight;\n            },\n\n            scrollToIndex: function(index) {\n                var item = this.element[0].children[index];\n\n                if (item) {\n                    this.scroll(item);\n                }\n            },\n\n            scrollWith: function(value) {\n                this.content.scrollTop(this.content.scrollTop() + value);\n            },\n\n            scroll: function(item) {\n                if (!item) {\n                    return;\n                }\n\n                if (item[0]) {\n                    item = item[0];\n                }\n\n                var content = this.content[0],\n                    itemOffsetTop = item.offsetTop,\n                    itemOffsetHeight = item.offsetHeight,\n                    contentScrollTop = content.scrollTop,\n                    contentOffsetHeight = content.clientHeight,\n                    bottomDistance = itemOffsetTop + itemOffsetHeight;\n\n                    if (contentScrollTop > itemOffsetTop) {\n                        contentScrollTop = itemOffsetTop;\n                    } else if (bottomDistance > (contentScrollTop + contentOffsetHeight)) {\n                        contentScrollTop = (bottomDistance - contentOffsetHeight);\n                    }\n\n                    content.scrollTop = contentScrollTop;\n            },\n\n            selectedDataItems: function(dataItems) {\n                if (dataItems === undefined$1) {\n                    return this._dataItems.slice();\n                }\n\n                this._dataItems = dataItems;\n                this._values = this._getValues(dataItems);\n            },\n\n            _getValues: function(dataItems) {\n                var getter = this._valueGetter;\n\n                return $.map(dataItems, function(dataItem) {\n                    return getter(dataItem);\n                });\n            },\n\n            focusNext: function() {\n                var current = this.focus();\n\n                if (!current) {\n                    current = 0;\n                } else {\n                    current = current.next();\n                }\n\n                this.focus(current);\n            },\n\n            focusPrev: function() {\n                var current = this.focus();\n\n                if (!current) {\n                    current = this.element[0].children.length - 1;\n                } else {\n                    current = current.prev();\n                }\n\n                this.focus(current);\n            },\n\n            focusFirst: function() {\n                this.focus(this.element[0].children[0]);\n            },\n\n            focusLast: function() {\n                this.focus(last(this.element[0].children));\n            },\n\n            focus: function(candidate) {\n                var that = this;\n                var id = that._optionID;\n                var hasCandidate;\n\n                if (candidate === undefined$1) {\n                    return that._current;\n                }\n\n                candidate = last(that._get(candidate));\n                candidate = $(this.element[0].children[candidate]);\n\n                if (that._current) {\n                    that._current\n                        .removeClass(FOCUSED)\n                        .removeAttr(ID);\n\n                    that.trigger(DEACTIVATE);\n                }\n\n                hasCandidate = !!candidate[0];\n\n                if (hasCandidate) {\n                    candidate.addClass(FOCUSED);\n                    that.scroll(candidate);\n\n                    candidate.attr(\"id\", id);\n                }\n\n                that._current = hasCandidate ? candidate : null;\n                that.trigger(ACTIVATE);\n            },\n\n            focusIndex: function() {\n                return this.focus() ? this.focus().index() : undefined$1;\n            },\n\n            skipUpdate: function(skipUpdate) {\n                this._skipUpdate = skipUpdate;\n            },\n\n            select: function(indices) {\n                var that = this;\n                var selectable = that.options.selectable;\n                var singleSelection = selectable !== \"multiple\" && selectable !== false;\n                var selectedIndices = that._selectedIndices;\n                var uiSelectedIndices = [this.element.find(\".k-selected\").index()];\n\n                var added = [];\n                var removed = [];\n                var result;\n\n                if (indices === undefined$1) {\n                    return selectedIndices.slice();\n                }\n\n                indices = that._get(indices);\n\n                if (indices.length === 1 && indices[0] === -1) {\n                    indices = [];\n                }\n\n                var deferred = $.Deferred().resolve();\n                var filtered = that.isFiltered();\n\n                if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                    return deferred;\n                }\n\n                if (singleSelection && !filtered &&\n                    $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n\n                    if (that._dataItems.length && that._view.length) {\n                        that._dataItems = [that._view[selectedIndices[0]].item];\n                    }\n\n                    return deferred;\n                }\n\n                result = that._deselect(indices);\n\n                removed = result.removed;\n                indices = result.indices;\n\n                if (indices.length) {\n                    if (singleSelection) {\n                        indices = [last(indices)];\n                    }\n\n                    added = that._select(indices);\n                }\n\n                if (added.length || removed.length) {\n                    that._valueComparer = null;\n                    that.trigger(CHANGE, {\n                        added: added,\n                        removed: removed\n                    });\n                }\n\n                return deferred;\n            },\n\n            removeAt: function(position) {\n                this._selectedIndices.splice(position, 1);\n                this._values.splice(position, 1);\n                this._valueComparer = null;\n\n                return {\n                    position: position,\n                    dataItem: this._dataItems.splice(position, 1)[0]\n                };\n            },\n\n            setValue: function(value) {\n                value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n\n                this._values = value;\n\n                this._valueComparer = null;\n            },\n\n            value: function(value) {\n                var that = this;\n                var deferred = that._valueDeferred;\n                var indices;\n\n                if (value === undefined$1) {\n                    return that._values.slice();\n                }\n\n                that.setValue(value);\n\n                if (!deferred || deferred.state() === \"resolved\") {\n                    that._valueDeferred = deferred = $.Deferred();\n                }\n\n                if (that.bound()) {\n                    indices = that._valueIndices(that._values);\n\n                    if (that.options.selectable === \"multiple\") {\n                        that.select(-1);\n                    }\n\n                    that.select(indices);\n\n                    deferred.resolve();\n                }\n\n                that._skipUpdate = false;\n\n                return deferred;\n            },\n\n            items: function() {\n                return this.element.children(ITEMSELECTOR);\n            },\n\n            _click: function(e) {\n                if (this._touchTriggered)\n                {\n                    this._touchTriggered = false;\n                    return;\n                }\n\n                if (!e.isDefaultPrevented()) {\n                    this._triggerClick(e.currentTarget);\n                }\n            },\n\n            _createOnScrollProxy: function() {\n                var onScrollProxy = function() {\n                    var that = this;\n                    clearTimeout(that._scrollId);\n\n                    that._scrollId = setTimeout(function() {\n                        that._renderHeader();\n                    }, 50);\n                };\n\n                this._onScroll = onScrollProxy.bind(this);\n            },\n\n            _triggerClick: function(item) {\n                if (!this.trigger(CLICK, { item: $(item) })) {\n                    this.select(item);\n                }\n            },\n\n            _valueExpr: function(type, values) {\n                var that = this;\n                var idx = 0;\n                var comparer;\n                var normalized = [];\n\n                if (!that._valueComparer || that._valueType !== type) {\n                    that._valueType = type;\n\n                    for (; idx < values.length; idx++) {\n                        normalized.push(unifyType(values[idx], type));\n                    }\n\n                    comparer = function (current, values) {\n                        for (var idx = 0; idx < normalized.length; idx++) {\n                            if (current === values[idx]) {\n                                return idx;\n                            }\n                        }\n                        return -1;\n                    };\n\n                    that._valueComparer = function(current) {\n                        return comparer(current, normalized);\n                    };\n                }\n\n                return that._valueComparer;\n            },\n\n            _dataItemPosition: function(dataItem, values) {\n                var value = this._valueGetter(dataItem);\n\n                var valueExpr = this._valueExpr(typeof value, values);\n\n                return valueExpr(value);\n            },\n\n            _getter: function() {\n                this._valueGetter = kendo.getter(this.options.dataValueField);\n            },\n\n            _deselect: function(indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var selectable = that.options.selectable;\n                var selectedIndices = that._selectedIndices;\n                var dataItems = that._dataItems;\n                var values = that._values;\n                var removed = [];\n                var i = 0;\n                var j;\n\n                var index, selectedIndex;\n                var removedIndices = 0;\n\n                indices = indices.slice();\n\n                if (selectable === true || !indices.length) {\n                    for (; i < selectedIndices.length; i++) {\n                        $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n\n                        removed.push({\n                            position: i,\n                            dataItem: dataItems[i]\n                        });\n                    }\n\n                    that._values = [];\n                    that._dataItems = [];\n                    that._selectedIndices = [];\n                } else if (selectable === \"multiple\") {\n                    for (; i < indices.length; i++) {\n                        index = indices[i];\n\n                        if (!$(children[index]).hasClass(KSELECTED)) {\n                            continue;\n                        }\n\n                        for (j = 0; j < selectedIndices.length; j++) {\n                            selectedIndex = selectedIndices[j];\n\n                            if (selectedIndex === index) {\n                                $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                                var dataItem = this._view[index].item;\n                                var position = this._dataItemPosition(dataItem, this._values);\n\n                                removed.push({\n                                    position: position,\n                                    dataItem: dataItem\n                                });\n\n                                dataItems.splice(j, 1);\n                                selectedIndices.splice(j, 1);\n                                indices.splice(i, 1);\n                                values.splice(j, 1);\n\n                                removedIndices += 1;\n                                i -= 1;\n                                j -= 1;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    indices: indices,\n                    removed: removed\n                };\n            },\n\n            _deselectFiltered: function(indices) {\n                var children = this.element[0].children;\n                var dataItem, index, position;\n                var removed = [];\n                var idx = 0;\n\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n\n                    dataItem = this._view[index].item;\n                    position = this._dataItemPosition(dataItem, this._values);\n\n                    if (position > -1) {\n                        removed.push(this.removeAt(position));\n                        $(children[index]).removeClass(KSELECTED);\n                    }\n                }\n\n                if (removed.length) {\n                    this.trigger(CHANGE, {\n                        added: [],\n                        removed: removed\n                    });\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _select: function(indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var data = that._view;\n                var dataItem, index;\n                var added = [];\n                var idx = 0;\n\n                if (last(indices) !== -1) {\n                    that.focus(indices);\n                }\n\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = data[index];\n\n                    if (index === -1 || !dataItem) {\n                        continue;\n                    }\n\n                    dataItem = dataItem.item;\n\n                    that._selectedIndices.push(index);\n                    that._dataItems.push(dataItem);\n                    that._values.push(that._valueGetter(dataItem));\n\n                    $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n\n                    added.push({\n                        dataItem: dataItem\n                    });\n                }\n\n                return added;\n            },\n\n            getElementIndex: function(element) {\n                return $(element).data(\"offset-index\");\n            },\n\n            _get: function(candidate) {\n                if (typeof candidate === \"number\") {\n                    candidate = [candidate];\n                } else if (!isArray(candidate)) {\n                    candidate = this.getElementIndex(candidate);\n                    candidate = [candidate !== undefined$1 ? candidate : -1];\n                }\n\n                return candidate;\n            },\n\n            _templates: function() {\n                var template;\n                var options = this.options;\n                var templates = {\n                    template: options.template,\n                    groupTemplate: options.groupTemplate,\n                    fixedGroupTemplate: options.fixedGroupTemplate\n                };\n\n                if (options.columns) {\n                    options.columns.forEach(function (column, i) {\n                        var templateText = column.field ? column.field.toString() : TEXT;\n                        var templateFunc = function (data) { return htmlEncode(kendo.getter(templateText)(data)); };\n\n                        templates[\"column\" + i] = column.template || templateFunc;\n                    });\n                }\n\n                for (var key in templates) {\n                    template = templates[key];\n                    if (template && typeof template !== \"function\") {\n                        templates[key] = kendo.template(template);\n                    }\n                }\n\n                this.templates = templates;\n            },\n\n            _normalizeIndices: function(indices) {\n                var newIndices = [];\n                var idx = 0;\n\n                for (; idx < indices.length; idx++) {\n                    if (indices[idx] !== undefined$1) {\n                        newIndices.push(indices[idx]);\n                    }\n                }\n\n                return newIndices;\n            },\n\n            _valueIndices: function(values, indices) {\n                var data = this._view;\n                var idx = 0;\n                var index;\n\n                indices = indices ? indices.slice() : [];\n\n                if (!values.length) {\n                    return [];\n                }\n\n                for (; idx < data.length; idx++) {\n                    index = this._dataItemPosition(data[idx].item, values);\n\n                    if (index !== -1) {\n                        indices[index] = idx;\n                    }\n                }\n\n                return this._normalizeIndices(indices);\n            },\n\n            _firstVisibleItem: function() {\n                var element = this.element[0];\n                var content = this.content[0];\n                var scrollTop = content.scrollTop;\n                var itemHeight = $(element.children[0]).height();\n                var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n                var item = element.children[itemIndex] || element.lastChild;\n                var forward = item.offsetTop < scrollTop;\n\n                while (item) {\n                    if (forward) {\n                        if ((item.offsetTop + itemHeight) > scrollTop || !item.nextSibling) {\n                            break;\n                        }\n\n                        item = item.nextSibling;\n                    } else {\n                        if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                            break;\n                        }\n\n                        item = item.previousSibling;\n                    }\n                }\n\n                return this._view[$(item).data(\"offset-index\")];\n            },\n\n            _fixedHeader: function() {\n                if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).show();\n                    } else {\n                        this.header.show();\n                    }\n\n                    this.content.scroll(this._onScroll);\n                } else {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).hide();\n                    } else {\n                        this.header.hide();\n                    }\n\n                    this.content.off(\"scroll\", this._onScroll);\n                }\n            },\n\n            _renderHeader: function() {\n                var template = this.templates.fixedGroupTemplate;\n                if (!template) {\n                    return;\n                }\n\n                var visibleItem = this._firstVisibleItem();\n\n                if (visibleItem && visibleItem.group.toString().length) {\n                    this.header.html(template(visibleItem.group));\n                }\n            },\n\n            _renderItem: function(context) {\n                var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n\n                var dataItem = context.item;\n                var notFirstItem = context.index !== 0;\n                var selected = context.selected;\n                var isGrouped = this.isGrouped();\n                var hasColumns = this.options.columns && this.options.columns.length;\n                var altRow = context.index % 2 === 1 ? \" k-table-alt-row\" : \"\";\n\n                if (hasColumns) {\n                    item += ('class=\"k-table-row' + altRow);\n                } else {\n                    item += 'class=\"k-list-item';\n                }\n\n                if (notFirstItem && context.newGroup) {\n                    item += ' k-first';\n                }\n\n                if (context.isLastGroupedItem && hasColumns) {\n                    item += ' k-last';\n                }\n\n                if (selected) {\n                    item += ' k-selected';\n                }\n\n                item += '\" aria-selected=\"' + (selected ? \"true\" : \"false\") + '\" data-offset-index=\"' + context.index + '\">';\n                if (hasColumns) {\n                    item += this._renderColumns(dataItem);\n                } else {\n                    item += '<span class=\"k-list-item-text\">';\n                    item += this.templates.template(dataItem);\n                    item += '</span>';\n                }\n\n                if (notFirstItem && context.newGroup) {\n                    if (hasColumns) {\n                        item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                    } else {\n                        item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                    }\n                } else if (isGrouped && hasColumns) {\n                    item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n                }\n\n                return item + \"</li>\";\n            },\n\n            _renderColumns: function(dataItem) {\n                var item = \"\";\n\n                for (var i = 0; i < this.options.columns.length; i++) {\n                    var currentWidth = this.options.columns[i].width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += \"style='width:\";\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? \"%\" : \"px\";\n                        widthStyle += \";'\";\n                    }\n                    item += \"<span class='k-table-td' \" + widthStyle + \">\";\n                    item += this.templates[\"column\" + i](dataItem);\n                    item += \"</span>\";\n                }\n\n                return item;\n            },\n\n            _render: function() {\n                var html = \"\";\n\n                var i = 0;\n                var idx = 0;\n                var context;\n                var dataContext = [];\n                var view = this.dataSource.view();\n                var values = this.value();\n\n                var group, newGroup, j;\n                var isGrouped = this.isGrouped();\n\n                if (isGrouped) {\n                    for (i = 0; i < view.length; i++) {\n                        group = view[i];\n                        newGroup = true;\n\n                        for (j = 0; j < group.items.length; j++) {\n                            context = {\n                                selected: this._selected(group.items[j], values),\n                                item: group.items[j],\n                                group: group.value,\n                                newGroup: newGroup,\n                                isLastGroupedItem: j === group.items.length - 1,\n                                index: idx };\n                            dataContext[idx] = context;\n                            idx += 1;\n\n                            html += this._renderItem(context);\n                            newGroup = false;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < view.length; i++) {\n                        context = { selected: this._selected(view[i], values), item: view[i], index: i };\n\n                        dataContext[i] = context;\n\n                        html += this._renderItem(context);\n                    }\n                }\n\n                this._view = dataContext;\n\n                this.element[0].innerHTML = html;\n\n                if (isGrouped && dataContext.length) {\n                    this._renderHeader();\n                }\n            },\n\n            _selected: function(dataItem, values) {\n                var select = !this.isFiltered() || this.options.selectable === \"multiple\";\n                return select && this._dataItemPosition(dataItem, values) !== -1;\n            },\n\n            setDSFilter: function(filter) {\n                this._lastDSFilter = extend({}, filter);\n            },\n\n            isFiltered: function() {\n                if (!this._lastDSFilter) {\n                    this.setDSFilter(this.dataSource.filter());\n                }\n\n                return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n            },\n\n            refresh: function(e) {\n                var that = this;\n                var action = e && e.action;\n                var skipUpdateOnBind = that.options.skipUpdateOnBind;\n                var isItemChange = action === \"itemchange\";\n                var result;\n\n                that.trigger(DATA_BINDING);\n                that._angularItems(\"cleanup\");\n\n                that._fixedHeader();\n\n                that._render();\n\n                that.bound(true);\n\n                if (isItemChange || action === \"remove\") {\n                    result = mapChangedItems(that._dataItems, e.items);\n\n                    if (result.changed.length) {\n                        if (isItemChange) {\n                            that.trigger(SELECTED_ITEM_CHANGE, {\n                                items: result.changed\n                            });\n                        } else {\n                            that.value(that._getValues(result.unchanged));\n                        }\n                    }\n                } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                    that.focus(0);\n                    if (that._skipUpdate) {\n                        that._skipUpdate = false;\n                        that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                    }\n                } else if (!skipUpdateOnBind && (!action || action === \"add\")) {\n                    that.value(that._values);\n                }\n\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n\n                that._angularItems(\"compile\");\n                that.trigger(DATA_BOUND);\n            },\n\n            bound: function(bound) {\n                if (bound === undefined$1) {\n                    return this._bound;\n                }\n\n                this._bound = bound;\n            },\n\n            isGrouped: function() {\n                return (this.dataSource.group() || []).length;\n            }\n        });\n\n        ui.plugin(StaticList);\n\n        function last(list) {\n            return list[list.length - 1];\n        }\n\n        function getSelectedOption(select) {\n            var index = select.selectedIndex;\n            return index > -1 ? select.options[index] : {};\n        }\n\n        function mapChangedItems(selected, itemsToMatch) {\n            var itemsLength = itemsToMatch.length;\n            var selectedLength = selected.length;\n            var dataItem;\n            var found;\n            var i, j;\n\n            var changed = [];\n            var unchanged = [];\n\n            if (selectedLength) {\n                for (i = 0; i < selectedLength; i++) {\n                    dataItem = selected[i];\n                    found = false;\n\n                    for (j = 0; j < itemsLength; j++) {\n                        if (dataItem === itemsToMatch[j]) {\n                            found = true;\n                            changed.push({ index: i, item: dataItem });\n                            break;\n                        }\n                    }\n\n                    if (!found) {\n                        unchanged.push(dataItem);\n                    }\n                }\n            }\n\n            return {\n                changed: changed,\n                unchanged: unchanged\n            };\n        }\n\n        function isValidFilterExpr(expression) {\n            if (!expression || $.isEmptyObject(expression)) {\n                return false;\n            }\n\n            if (expression.filters && !expression.filters.length) {\n                return false;\n            }\n\n            return true;\n        }\n\n        function removeFiltersForField(expression, field) {\n            var filters;\n            var found = false;\n\n            if (expression.filters) {\n                filters = $.grep(expression.filters, function(filter) {\n                    found = removeFiltersForField(filter, field);\n                    if (filter.filters) {\n                        return filter.filters.length;\n                    } else {\n                        return filter.field != field;\n                    }\n                });\n\n                if (!found && expression.filters.length !== filters.length) {\n                    found = true;\n                }\n\n                expression.filters = filters;\n            }\n\n            return found;\n        }\n\n        kendo.cssProperties.registerPrefix(\"List\", \"k-list-\");\n\n    })(window.kendo.jQuery);\n\n}));\n"]}