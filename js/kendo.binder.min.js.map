{"version":3,"file":"kendo.binder.min.js","names":["factory","define","amd","$","undefined$1","kendo","window","encode","htmlEncode","Observable","ObservableObject","data","ObservableArray","toString","binders","Class","VALUE","SOURCE","EVENTS","CHECKED","deleteExpando","FUNCTION","CHANGE","a","document","createElement","test","e","Binding","extend","init","parents","path","that","this","fn","call","source","dependencies","observable","_access","field","_change","change","bind","_parents","value","get","parent","inArray","concat","dependency","ch","trigger","indexOf","charAt","length","start","stop","unbind","index","result","lastIndexOf","substring","currentSource","set","getter","destroy","EventBinding","handler","TemplateBinding","template","render","html","Binder","element","bindings","options","binding","attribute","refresh","TypedBinder","dataType","getAttribute","ns","type","toLowerCase","parsedValue","_parseValue","parseDate","parseFloat","Boolean","dataSourceBinding","bindingName","fieldName","setter","widget","_dataBinding","dataBinding","_dataBound","dataBound","_itemChange","itemChange","bindElement","item","_ns","idx","items","removedItems","unbindElementTree","ui","all","dataviz","mobile","splice","unshift","rolesFromNamespaces","view","addedItems","dataSource","hds","HierarchicalDataSource","addedDataItems","flatView","select","multiselect","action","DataSource","_dataSource","Select","MultiSelect","DropDownTree","treeview","retrievePrimitiveValues","dataValueField","attr","key","setAttribute","css","classes","className","addClass","removeClass","style","enabled","removeAttribute","readonly","disabled","events","handlers","off","on","text","dataFormat","visible","display","invisible","innerHTML","eventName","valueUpdate","_initChange","autoBind","fetch","add","remove","container","nodeName","tBodies","appendChild","valueField","textField","valueAttr","innerText","child","clone","cloneNode","reference","children","insertBefore","roles","parentNode","removeChild","unbindElementChildren","input","checked","Date","i","push","val","selectedIndex","target","option","values","selected","attributes","specified","valueIndex","valuePrimitive","sourceValue","String","apply","optionIndex","optionValue","check","range","end","_range","wrapper","floatingLabel","enable","first","_valueIsObservableObject","_valueIsObservableArray","_source","dataItem","valueLength","sourceItem","dataTextField","isArray","isObservableObject","slice","cascadeFrom","listView","bound","_preselect","dropdowntree","oldValues","selectedNode","nonPrimitiveValues","_isMultipleSelection","_getAllChecked","newValues","removeIndex","newValue","found","newLength","j","old","arraySplice","selectedValue","gantt","dataItems","_isBound","scheduler","elements","grid","badge","arr","addLength","oldLength","shifted","shiftedLength","BindingTarget","toDestroy","hasValue","hasSource","hasEvents","hasChecked","hasCss","widgetBinding","WidgetBindingTarget","specificBinders","applyBinding","name","binder","Error","keyValueRegExp","whiteSpaceRegExp","parseBindings","token","colonIndex","tokens","match","createBindings","role","childrenCopy","deep","unbindElement","initWidget","bindingTargetForRole","replace","parseOptions","click","kendoBindingTarget","dom","object","node","arguments","nodeType","destroyWidget","bindingTarget","widgetInstance","destroyWidgets","notify","namespace","observableHierarchy","array","create","recursiveRead","_initChildren","_data","jQuery"],"sources":["kendo.binder.js"],"mappings":"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","sourcesContent":["(function (factory) {\n  typeof define === 'function' && define.amd ? define(['kendo.core', 'kendo.data'], factory) :\n  factory();\n})((function () {\n  var __meta__ = {\n      id: \"binder\",\n      name: \"MVVM\",\n      category: \"framework\",\n      description: \"Model View ViewModel (MVVM) is a design pattern which helps developers separate the Model (the data) from the View (the UI).\",\n      depends: [ \"core\", \"data\" ]\n  };\n\n\n  (function($, undefined$1) {\n      var kendo = window.kendo,\n          encode = kendo.htmlEncode,\n          Observable = kendo.Observable,\n          ObservableObject = kendo.data.ObservableObject,\n          ObservableArray = kendo.data.ObservableArray,\n          toString = {}.toString,\n          binders = {},\n          Class = kendo.Class,\n          VALUE = \"value\",\n          SOURCE = \"source\",\n          EVENTS = \"events\",\n          CHECKED = \"checked\",\n          CSS = \"css\",\n          deleteExpando = true,\n          FUNCTION = \"function\",\n          CHANGE = \"change\";\n\n      (function() {\n          var a = document.createElement(\"a\");\n\n          try {\n              delete a.test;\n          } catch (e) {\n              deleteExpando = false;\n          }\n      })();\n\n      var Binding = Observable.extend( {\n          init: function(parents, path) {\n              var that = this;\n\n              Observable.fn.init.call(that);\n\n              that.source = parents[0];\n              that.parents = parents;\n              that.path = path;\n              that.dependencies = {};\n              that.dependencies[path] = true;\n              that.observable = that.source instanceof Observable;\n\n              that._access = function(e) {\n                  that.dependencies[e.field] = true;\n              };\n\n              if (that.observable) {\n                  that._change = function(e) {\n                      that.change(e);\n                  };\n\n                  that.source.bind(CHANGE, that._change);\n              }\n          },\n\n          _parents: function() {\n              var parents = this.parents;\n              var value = this.get();\n\n              if (value && typeof value.parent == \"function\") {\n                  var parent = value.parent();\n\n                  if ($.inArray(parent, parents) < 0) {\n                      parents = [parent].concat(parents);\n                  }\n              }\n\n              return parents;\n          },\n\n          change: function(e) {\n              var dependency,\n                  ch,\n                  field = e.field,\n                  that = this;\n\n              if (that.path === \"this\") {\n                  that.trigger(CHANGE, e);\n              } else {\n                  for (dependency in that.dependencies) {\n                      if (dependency.indexOf(field) === 0) {\n                         ch = dependency.charAt(field.length);\n\n                         if (!ch || ch === \".\" || ch === \"[\") {\n                              that.trigger(CHANGE, e);\n                              break;\n                         }\n                      }\n                  }\n              }\n          },\n\n          start: function(source) {\n              source.bind(\"get\", this._access);\n          },\n\n          stop: function(source) {\n              source.unbind(\"get\", this._access);\n          },\n\n          get: function() {\n\n              var that = this,\n                  source = that.source,\n                  index = 0,\n                  path = that.path,\n                  result = source;\n\n              if (!that.observable) {\n                  return result;\n              }\n\n              that.start(that.source);\n\n              result = source.get(path);\n\n              // Traverse the observable hierarchy if the binding is not resolved at the current level.\n              while (result === undefined$1 && source) {\n\n                  source = that.parents[++index];\n\n                  if (source instanceof ObservableObject) {\n                      result = source.get(path);\n                  }\n              }\n\n              // second pass try to get the parent from the object hierarchy\n              if (result === undefined$1) {\n                  source = that.source; //get the initial source\n\n                  while (result === undefined$1 && source) {\n                      source = source.parent();\n\n                      if (source instanceof ObservableObject) {\n                          result = source.get(path);\n                      }\n                  }\n              }\n\n              // If the result is a function - invoke it\n              if (typeof result === \"function\") {\n                  index = path.lastIndexOf(\".\");\n\n                  // If the function is a member of a nested observable object make that nested observable the context (this) of the function\n                  if (index > 0) {\n                      source = source.get(path.substring(0, index));\n                  }\n\n                  // Invoke the function\n                  that.start(source);\n\n                  if (source !== that.source) {\n                      result = result.call(source, that.source);\n                  } else {\n                      result = result.call(source);\n                  }\n\n                  that.stop(source);\n              }\n\n              // If the binding is resolved by a parent object\n              if (source && source !== that.source) {\n\n                  that.currentSource = source; // save parent object\n\n                  // Listen for changes in the parent object\n                  source.unbind(CHANGE, that._change)\n                        .bind(CHANGE, that._change);\n              }\n\n              that.stop(that.source);\n\n              return result;\n          },\n\n          set: function(value) {\n              var source = this.currentSource || this.source;\n\n              var field = kendo.getter(this.path)(source);\n\n              if (typeof field === \"function\") {\n                  if (source !== this.source) {\n                      field.call(source, this.source, value);\n                  } else {\n                      field.call(source, value);\n                  }\n              } else {\n                  source.set(this.path, value);\n              }\n          },\n\n          destroy: function() {\n              if (this.observable) {\n                  this.source.unbind(CHANGE, this._change);\n                  if (this.currentSource) {\n                      this.currentSource.unbind(CHANGE, this._change);\n                  }\n              }\n\n              this.unbind();\n          }\n      });\n\n      var EventBinding = Binding.extend( {\n          get: function() {\n              var source = this.source,\n                  path = this.path,\n                  index = 0,\n                  handler;\n\n              handler = source.get(path);\n\n              while (!handler && source) {\n                  source = this.parents[++index];\n\n                  if (source instanceof ObservableObject) {\n                      handler = source.get(path);\n                  }\n              }\n\n              if (!handler) {\n                  return;\n              }\n\n              return handler.bind(source);\n          }\n      });\n\n      var TemplateBinding = Binding.extend( {\n          init: function(source, path, template) {\n              var that = this;\n\n              Binding.fn.init.call(that, source, path);\n\n              that.template = template;\n          },\n\n          render: function(value) {\n              var html;\n\n              this.start(this.source);\n\n              html = kendo.render(this.template, value);\n\n              this.stop(this.source);\n\n              return html;\n          }\n      });\n\n      var Binder = Class.extend({\n          init: function(element, bindings, options) {\n              this.element = element;\n              this.bindings = bindings;\n              this.options = options;\n          },\n\n          bind: function(binding, attribute) {\n              var that = this;\n\n              binding = attribute ? binding[attribute] : binding;\n\n              binding.bind(CHANGE, function(e) {\n                  that.refresh(attribute || e);\n              });\n\n              that.refresh(attribute);\n          },\n\n          destroy: function() {\n          }\n      });\n\n      var TypedBinder = Binder.extend({\n          dataType: function() {\n              var dataType = this.element.getAttribute(\"data-\" + kendo.ns + \"type\") || this.element.type || \"text\";\n              return dataType.toLowerCase();\n          },\n\n          parsedValue: function() {\n              return this._parseValue(this.element.value, this.dataType());\n          },\n\n          _parseValue: function(value, dataType) {\n              if (dataType == \"date\") {\n                  value = kendo.parseDate(value, \"yyyy-MM-dd\");\n              } else if (dataType == \"datetime-local\") {\n                  value = kendo.parseDate(value, [\"yyyy-MM-ddTHH:mm:ss\", \"yyyy-MM-ddTHH:mm\"] );\n              } else if (dataType == \"number\") {\n                  value = kendo.parseFloat(value);\n              } else if (dataType == \"boolean\") {\n                  value = value.toLowerCase();\n                  if (kendo.parseFloat(value) !== null) {\n                      value = Boolean(kendo.parseFloat(value));\n                  } else {\n                      value = (value.toLowerCase() === \"true\");\n                  }\n              }\n              return value;\n          }\n      });\n\n      binders.attr = Binder.extend({\n          refresh: function(key) {\n              this.element.setAttribute(key, this.bindings.attr[key].get());\n          }\n      });\n\n      binders.css = Binder.extend({\n          init: function(element, bindings, options) {\n              Binder.fn.init.call(this, element, bindings, options);\n              this.classes = {};\n          },\n          refresh: function(className) {\n              var element = $(this.element),\n                  binding = this.bindings.css[className],\n                  hasClass = this.classes[className] = binding.get();\n              if (hasClass) {\n                  element.addClass(className);\n              } else {\n                  element.removeClass(className);\n              }\n          }\n      });\n\n      binders.style = Binder.extend({\n          refresh: function(key) {\n              this.element.style[key] = this.bindings.style[key].get() || \"\";\n          }\n      });\n\n      binders.enabled = Binder.extend({\n          refresh: function() {\n              if (this.bindings.enabled.get()) {\n                  this.element.removeAttribute(\"disabled\");\n              } else {\n                  this.element.setAttribute(\"disabled\", \"disabled\");\n              }\n          }\n      });\n\n      binders.readonly = Binder.extend({\n         refresh: function() {\n              if (this.bindings.readonly.get()) {\n                  this.element.setAttribute(\"readonly\", \"readonly\");\n              } else {\n                  this.element.removeAttribute(\"readonly\");\n              }\n         }\n      });\n\n      binders.disabled = Binder.extend({\n          refresh: function() {\n              if (this.bindings.disabled.get()) {\n                  this.element.setAttribute(\"disabled\", \"disabled\");\n              } else {\n                  this.element.removeAttribute(\"disabled\");\n              }\n          }\n      });\n\n      binders.events = Binder.extend({\n          init: function(element, bindings, options) {\n              Binder.fn.init.call(this, element, bindings, options);\n              this.handlers = {};\n          },\n\n          refresh: function(key) {\n              var element = $(this.element),\n                  binding = this.bindings.events[key],\n                  handler = this.handlers[key];\n\n              if (handler) {\n                  element.off(key, handler);\n              }\n\n              handler = this.handlers[key] = binding.get();\n\n              element.on(key, binding.source, handler);\n          },\n\n          destroy: function() {\n              var element = $(this.element),\n                  handler;\n\n              for (handler in this.handlers) {\n                  element.off(handler, this.handlers[handler]);\n              }\n          }\n      });\n\n      binders.text = Binder.extend({\n          refresh: function() {\n              var text = this.bindings.text.get();\n              var dataFormat = this.element.getAttribute(\"data-\" + kendo.ns + \"format\") || \"\";\n              if (text == null) {\n                  text = \"\";\n              }\n\n              $(this.element).text(kendo.toString(text, dataFormat));\n          }\n      });\n\n      binders.visible = Binder.extend({\n          refresh: function() {\n              if (this.bindings.visible.get()) {\n                  this.element.style.display = \"\";\n              } else {\n                  this.element.style.display = \"none\";\n              }\n          }\n      });\n\n      binders.invisible = Binder.extend({\n          refresh: function() {\n              if (!this.bindings.invisible.get()) {\n                  this.element.style.display = \"\";\n              } else {\n                  this.element.style.display = \"none\";\n              }\n          }\n    });\n\n      binders.html = Binder.extend({\n          refresh: function() {\n              this.element.innerHTML = this.bindings.html.get();\n          }\n      });\n\n      binders.value = TypedBinder.extend({\n          init: function(element, bindings, options) {\n              TypedBinder.fn.init.call(this, element, bindings, options);\n\n              this._change = this.change.bind(this);\n              this.eventName = options.valueUpdate || CHANGE;\n\n              $(this.element).on(this.eventName, this._change);\n\n              this._initChange = false;\n          },\n\n          change: function() {\n              this._initChange = this.eventName != CHANGE;\n\n              this.bindings[VALUE].set(this.parsedValue());\n\n              this._initChange = false;\n          },\n\n          refresh: function() {\n              if (!this._initChange) {\n                  var value = this.bindings[VALUE].get();\n\n                  if (value == null) {\n                      value = \"\";\n                  }\n\n                  var type = this.dataType();\n\n                  if (type == \"date\") {\n                      value = kendo.toString(value, \"yyyy-MM-dd\");\n                  } else if (type == \"datetime-local\") {\n                      value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                  }\n\n                  this.element.value = value;\n              }\n\n              this._initChange = false;\n          },\n\n          destroy: function() {\n              $(this.element).off(this.eventName, this._change);\n          }\n      });\n\n      binders.source = Binder.extend({\n          init: function(element, bindings, options) {\n              Binder.fn.init.call(this, element, bindings, options);\n\n              var source = this.bindings.source.get();\n\n              if (source instanceof kendo.data.DataSource && options.autoBind !== false) {\n                  source.fetch();\n              }\n          },\n\n          refresh: function(e) {\n              var that = this,\n                  source = that.bindings.source.get();\n\n              if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                  e = e || {};\n\n                  if (e.action == \"add\") {\n                      that.add(e.index, e.items);\n                  } else if (e.action == \"remove\") {\n                      that.remove(e.index, e.items);\n                  } else if (e.action != \"itemchange\") {\n                      that.render();\n                  }\n              } else {\n                  that.render();\n              }\n          },\n\n          container: function() {\n              var element = this.element;\n\n              if (element.nodeName.toLowerCase() == \"table\") {\n                  if (!element.tBodies[0]) {\n                      element.appendChild(document.createElement(\"tbody\"));\n                  }\n                  element = element.tBodies[0];\n              }\n\n              return element;\n          },\n\n          template: function() {\n              var options = this.options,\n                  template = options.template,\n                  nodeName = this.container().nodeName.toLowerCase();\n\n              if (!template) {\n                  if (nodeName == \"select\") {\n                      if (options.valueField || options.textField) {\n                          template = function (data) {\n                              var valueAttr = kendo.getter(options.valueField || options.textField)(data);\n                              var innerText = kendo.getter(options.textField || options.valueField)(data);\n                              return (\"<option value=\\\"\" + (encode(valueAttr)) + \"\\\">\" + (encode(innerText)) + \"</option>\");\n                          };\n                      } else {\n                          template = function (data) { return (\"<option>\" + (encode(data)) + \"</option>\"); };\n                      }\n                  } else if (nodeName == \"tbody\") {\n                      template = function (data) { return (\"<tr><td>\" + (encode(data)) + \"</td></tr>\"); };\n                  } else if (nodeName == \"ul\" || nodeName == \"ol\") {\n                      template = function (data) { return (\"<li>\" + (encode(data)) + \"</li>\"); };\n                  } else {\n                      template = function (data) { return (\"\" + (encode(data))); };\n                  }\n                  template = kendo.template(template);\n              }\n\n              return template;\n          },\n\n          add: function(index, items) {\n              var element = this.container(),\n                  parents,\n                  idx,\n                  length,\n                  child,\n                  clone = element.cloneNode(false),\n                  reference = element.children[index];\n\n              $(clone).html(kendo.render(this.template(), items));\n\n              if (clone.children.length) {\n                  parents = this.bindings.source._parents();\n\n                  for (idx = 0, length = items.length; idx < length; idx++) {\n                      child = clone.children[0];\n                      element.insertBefore(child, reference || null);\n                      bindElement(child, items[idx], this.options.roles, [items[idx]].concat(parents));\n                  }\n              }\n          },\n\n          remove: function(index, items) {\n              var idx, element = this.container();\n\n              for (idx = 0; idx < items.length; idx++) {\n                  var child = element.children[index];\n                  unbindElementTree(child, true);\n                  if (child.parentNode == element) {\n                      element.removeChild(child);\n                  }\n              }\n          },\n\n          render: function() {\n              var source = this.bindings.source.get(),\n                  parents,\n                  idx,\n                  length,\n                  element = this.container(),\n                  template = this.template();\n\n              if (source == null) {\n                  return;\n              }\n\n              if (source instanceof kendo.data.DataSource) {\n                  source = source.view();\n              }\n\n              if (!(source instanceof ObservableArray) && toString.call(source) !== \"[object Array]\") {\n                  source = [source];\n              }\n\n              if (this.bindings.template) {\n                  unbindElementChildren(element, true);\n\n                  $(element).html(this.bindings.template.render(source));\n\n                  if (element.children.length) {\n                      parents = this.bindings.source._parents();\n\n                      for (idx = 0, length = source.length; idx < length; idx++) {\n                          bindElement(element.children[idx], source[idx], this.options.roles, [source[idx]].concat(parents));\n                      }\n                  }\n              } else {\n                  $(element).html(kendo.render(template, source));\n              }\n          }\n      });\n\n      binders.input = {\n          checked: TypedBinder.extend({\n              init: function(element, bindings, options) {\n                  TypedBinder.fn.init.call(this, element, bindings, options);\n                  this._change = this.change.bind(this);\n\n                  $(this.element).change(this._change);\n              },\n\n              change: function() {\n                  var element = this.element;\n                  var value = this.value();\n\n                  if (element.type == \"radio\") {\n                      value = this.parsedValue();\n                      this.bindings[CHECKED].set(value);\n                  } else if (element.type == \"checkbox\") {\n                      var source = this.bindings[CHECKED].get();\n                      var index;\n\n                      if (source instanceof ObservableArray) {\n                          value = this.parsedValue();\n                          if (value instanceof Date) {\n                              for (var i = 0; i < source.length; i++) {\n                                  if (source[i] instanceof Date && +source[i] === +value) {\n                                      index = i;\n                                      break;\n                                  }\n                              }\n                          } else {\n                              index = source.indexOf(value);\n                          }\n                          if (index > -1) {\n                              source.splice(index, 1);\n                          } else {\n                              source.push(value);\n                          }\n                      } else {\n                          this.bindings[CHECKED].set(value);\n                      }\n                  }\n              },\n\n              refresh: function() {\n                  var value = this.bindings[CHECKED].get(),\n                      source = value,\n                      type = this.dataType(),\n                      element = this.element;\n\n                  if (element.type == \"checkbox\") {\n                      if (source instanceof ObservableArray) {\n                          var index = -1;\n                          value = this.parsedValue();\n                          if (value instanceof Date) {\n                              for (var i = 0; i < source.length; i++) {\n                                  if (source[i] instanceof Date && +source[i] === +value) {\n                                      index = i;\n                                      break;\n                                  }\n                              }\n                          } else {\n                              index = source.indexOf(value);\n                          }\n                          element.checked = (index >= 0);\n                      } else {\n                          element.checked = source;\n                      }\n                  } else if (element.type == \"radio\") {\n                      if (type == \"date\") {\n                          value = kendo.toString(value, \"yyyy-MM-dd\");\n                      } else if (type == \"datetime-local\") {\n                          value = kendo.toString(value, \"yyyy-MM-ddTHH:mm:ss\");\n                      }\n\n                      if (value !== null && typeof(value) !== \"undefined\" && element.value === value.toString()) {\n                          element.checked = true;\n                      } else {\n                          element.checked = false;\n                      }\n                  }\n              },\n\n              value: function() {\n                  var element = this.element,\n                      value = element.value;\n\n                  if (element.type == \"checkbox\") {\n                      value = element.checked;\n                  }\n\n                  return value;\n              },\n              destroy: function() {\n                  $(this.element).off(CHANGE, this._change);\n              }\n          })\n      };\n\n      binders.select = {\n          source: binders.source.extend({\n              refresh: function(e) {\n                  var that = this,\n                      source = that.bindings.source.get();\n\n                  if (source instanceof ObservableArray || source instanceof kendo.data.DataSource) {\n                      e = e || {};\n                      if (e.action == \"add\") {\n                          that.add(e.index, e.items);\n                      } else if (e.action == \"remove\") {\n                          that.remove(e.index, e.items);\n                      } else if (e.action == \"itemchange\" || e.action === undefined$1) {\n                          that.render();\n                          if (that.bindings.value) {\n                              if (that.bindings.value) {\n                                  var val = retrievePrimitiveValues(that.bindings.value.get(), $(that.element).data(\"valueField\"));\n                                  if (val === null) {\n                                      that.element.selectedIndex = -1;\n                                  } else {\n                                      that.element.value = val;\n                                  }\n                              }\n                          }\n                      }\n                  } else {\n                      that.render();\n                  }\n              }\n          }),\n          value: TypedBinder.extend({\n              init: function(target, bindings, options) {\n                  TypedBinder.fn.init.call(this, target, bindings, options);\n\n                  this._change = this.change.bind(this);\n                  $(this.element).change(this._change);\n              },\n\n              parsedValue: function() {\n                  var dataType = this.dataType();\n                  var values = [];\n                  var value, option, idx, length;\n                  for (idx = 0, length = this.element.options.length; idx < length; idx++) {\n                      option = this.element.options[idx];\n\n                      if (option.selected) {\n                          value = option.attributes.value;\n\n                          if (value && value.specified) {\n                              value = option.value;\n                          } else {\n                              value = option.text;\n                          }\n\n                          values.push(this._parseValue(value, dataType));\n                      }\n                  }\n                  return values;\n              },\n\n              change: function() {\n                  var values = [],\n                      element = this.element,\n                      source,\n                      field = this.options.valueField || this.options.textField,\n                      valuePrimitive = this.options.valuePrimitive,\n                      option,\n                      valueIndex,\n                      value,\n                      idx,\n                      length;\n\n                  for (idx = 0, length = element.options.length; idx < length; idx++) {\n                      option = element.options[idx];\n\n                      if (option.selected) {\n                          value = option.attributes.value;\n\n                          if (value && value.specified) {\n                              value = option.value;\n                          } else {\n                              value = option.text;\n                          }\n\n                          if (field) {\n                              values.push(value);\n                          } else {\n                              values.push(this._parseValue(value, this.dataType()));\n                          }\n\n                      }\n                  }\n\n                  if (field) {\n                      source = this.bindings.source.get();\n                      if (source instanceof kendo.data.DataSource) {\n                          source = source.view();\n                      }\n\n                      for (valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                          for (idx = 0, length = source.length; idx < length; idx++) {\n                              var sourceValue = source[idx].get(field);\n                              var match = (String(sourceValue) === values[valueIndex]);\n                              if (match) {\n                                  values[valueIndex] = source[idx];\n                                  break;\n                              }\n                          }\n                      }\n                  }\n\n                  value = this.bindings[VALUE].get();\n                  if (value instanceof ObservableArray) {\n                      value.splice.apply(value, [0, value.length].concat(values));\n                  } else if (!valuePrimitive && (value instanceof ObservableObject || value === null || value === undefined$1 || !field)) {\n                      this.bindings[VALUE].set(values[0]);\n                  } else {\n                      this.bindings[VALUE].set(values[0].get(field));\n                  }\n              },\n              refresh: function() {\n                  var optionIndex,\n                      element = this.element,\n                      options = element.options,\n                      value = this.bindings[VALUE].get(),\n                      values = value,\n                      field = this.options.valueField || this.options.textField,\n                      found = false,\n                      type = this.dataType(),\n                      optionValue;\n\n                  if (!(values instanceof ObservableArray)) {\n                      values = new ObservableArray([value]);\n                  }\n\n                  element.selectedIndex = -1;\n\n                  for (var valueIndex = 0; valueIndex < values.length; valueIndex++) {\n                      value = values[valueIndex];\n\n\n                      if (field && value instanceof ObservableObject) {\n                          value = value.get(field);\n                      }\n\n                      if (type == \"date\") {\n                          value = kendo.toString(values[valueIndex], \"yyyy-MM-dd\");\n                      } else if (type == \"datetime-local\") {\n                          value = kendo.toString(values[valueIndex], \"yyyy-MM-ddTHH:mm:ss\");\n                      }\n\n                      for (optionIndex = 0; optionIndex < options.length; optionIndex++) {\n                          optionValue = options[optionIndex].value;\n\n                          if (optionValue === \"\" && value !== \"\") {\n                              optionValue = options[optionIndex].text;\n                          }\n\n                          if (value != null && optionValue == value.toString()) {\n                              options[optionIndex].selected = true;\n                              found = true;\n                          }\n                      }\n                  }\n              },\n              destroy: function() {\n                  $(this.element).off(CHANGE, this._change);\n              }\n          })\n      };\n\n      function dataSourceBinding(bindingName, fieldName, setter) {\n          return Binder.extend({\n              init: function(widget, bindings, options) {\n                  var that = this;\n\n                  Binder.fn.init.call(that, widget.element[0], bindings, options);\n\n                  that.widget = widget;\n                  that._dataBinding = that.dataBinding.bind(that);\n                  that._dataBound = that.dataBound.bind(that);\n                  that._itemChange = that.itemChange.bind(that);\n              },\n\n              itemChange: function(e) {\n                  bindElement(e.item[0], e.data, this._ns(e.ns), [e.data].concat(this.bindings[bindingName]._parents()));\n              },\n\n              dataBinding: function(e) {\n                  var idx,\n                      length,\n                      widget = this.widget,\n                      items = e.removedItems || widget.items();\n\n                  for (idx = 0, length = items.length; idx < length; idx++) {\n                      unbindElementTree(items[idx], false);\n                  }\n              },\n\n              _ns: function(ns) {\n                  ns = ns || kendo.ui;\n                  var all = [ kendo.ui, kendo.dataviz.ui, kendo.mobile.ui ];\n                  all.splice($.inArray(ns, all), 1);\n                  all.unshift(ns);\n\n                  return kendo.rolesFromNamespaces(all);\n              },\n\n              dataBound: function(e) {\n                  var idx,\n                      length,\n                      widget = this.widget,\n                      items = e.addedItems || widget.items(),\n                      dataSource = widget[fieldName],\n                      view,\n                      parents,\n                      hds = kendo.data.HierarchicalDataSource;\n\n                  if (hds && dataSource instanceof hds) {\n                      // suppress binding of HDS items, because calling view() on root\n                      // will return only root items, and widget.items() returns all items\n                      return;\n                  }\n\n                  if (items.length) {\n                      view = e.addedDataItems || dataSource.flatView();\n                      parents = this.bindings[bindingName]._parents();\n\n                      for (idx = 0, length = view.length; idx < length; idx++) {\n                          if (items[idx]) {\n                              bindElement(items[idx], view[idx], this._ns(e.ns), [view[idx]].concat(parents));\n                          }\n                      }\n                  }\n              },\n\n              refresh: function(e) {\n                  var that = this,\n                      source,\n                      widget = that.widget,\n                      select, multiselect, dropdowntree;\n\n                  e = e || {};\n\n                  if (!e.action) {\n                      that.destroy();\n\n                      widget.bind(\"dataBinding\", that._dataBinding);\n                      widget.bind(\"dataBound\", that._dataBound);\n                      widget.bind(\"itemChange\", that._itemChange);\n\n                      source = that.bindings[bindingName].get();\n\n                      if (widget[fieldName] instanceof kendo.data.DataSource && widget[fieldName] != source) {\n                          if (source instanceof kendo.data.DataSource) {\n                              widget[setter](source);\n                          } else if (source && source._dataSource) {\n                              widget[setter](source._dataSource);\n                          } else {\n                              select = kendo.ui.Select && widget instanceof kendo.ui.Select;\n                              multiselect = kendo.ui.MultiSelect && widget instanceof kendo.ui.MultiSelect;\n                              dropdowntree = kendo.ui.DropDownTree && widget instanceof kendo.ui.DropDownTree;\n\n                              if (!dropdowntree) {\n                                  widget[fieldName].data(source);\n                              } else {\n                                  widget.treeview[fieldName].data(source);\n                              }\n\n                              if (that.bindings.value && (select || multiselect)) {\n                                  widget.value(retrievePrimitiveValues(that.bindings.value.get(), widget.options.dataValueField));\n                              }\n                          }\n                      }\n                  }\n              },\n\n              destroy: function() {\n                  var widget = this.widget;\n\n                  widget.unbind(\"dataBinding\", this._dataBinding);\n                  widget.unbind(\"dataBound\", this._dataBound);\n                  widget.unbind(\"itemChange\", this._itemChange);\n              }\n          });\n      }\n\n      binders.widget = {\n          events: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n                  this.widget = widget;\n                  this.handlers = {};\n              },\n\n              refresh: function(key) {\n                  var binding = this.bindings.events[key],\n                      handler = this.handlers[key];\n\n                  if (handler) {\n                      this.widget.unbind(key, handler);\n                  }\n\n                  handler = binding.get();\n\n                  this.handlers[key] = function(e) {\n                      e.data = binding.source;\n\n                      handler(e);\n\n                      if (e.data === binding.source) {\n                          delete e.data;\n                      }\n                  };\n\n                  this.widget.bind(key, this.handlers[key]);\n              },\n\n              destroy: function() {\n                  var handler;\n\n                  for (handler in this.handlers) {\n                      this.widget.unbind(handler, this.handlers[handler]);\n                  }\n              }\n          }),\n\n          checked: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n                  this._change = this.change.bind(this);\n                  this.widget.bind(CHANGE, this._change);\n              },\n              change: function() {\n                  this.bindings[CHECKED].set(this.value());\n              },\n\n              refresh: function() {\n                  if (this.element.type === \"radio\") {\n                      this.widget.check(this.bindings[CHECKED].get().toString() === this.value());\n                  } else {\n                      this.widget.check(this.bindings[CHECKED].get() === true);\n                  }\n              },\n\n              value: function() {\n                  var element = this.element,\n                      value = element.value;\n\n                  if (value == \"on\" || value == \"off\" || this.element.type == \"checkbox\") {\n                      value = element.checked;\n                  }\n\n                  return value;\n              },\n\n              destroy: function() {\n                  this.widget.unbind(CHANGE, this._change);\n              }\n          }),\n\n          start: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n                  this._change = this.change.bind(this);\n                  this.widget = widget;\n                  this.widget.bind(CHANGE, this._change);\n              },\n\n              change: function() {\n                  this.bindings.start.set(this.widget.range().start);\n              },\n\n              refresh: function() {\n                  var that = this;\n                  var start = this.bindings.start.get();\n                  var end = that.widget._range ? that.widget._range.end : null;\n                  this.widget.range({ start: start, end: end });\n              },\n\n              destroy: function() {\n                  this.widget.unbind(CHANGE, this._change);\n              }\n          }),\n\n          end: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n                  this._change = this.change.bind(this);\n                  this.widget = widget;\n                  this.widget.bind(CHANGE, this._change);\n              },\n\n              change: function() {\n                  this.bindings.end.set(this.widget.range().end);\n              },\n\n              refresh: function() {\n                  var that = this;\n                  var end = this.bindings.end.get();\n                  var start = that.widget._range ? that.widget._range.start : null;\n                  this.widget.range({ start: start, end: end });\n              },\n\n              destroy: function() {\n                  this.widget.unbind(CHANGE, this._change);\n              }\n          }),\n\n          visible: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n              },\n\n              refresh: function() {\n                  var visible = this.bindings.visible.get();\n                  this.widget.wrapper[0].style.display = visible ? \"\" : \"none\";\n              }\n          }),\n\n          invisible: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n              },\n\n              refresh: function() {\n                  var invisible = this.bindings.invisible.get();\n                  this.widget.wrapper[0].style.display = invisible ? \"none\" : \"\";\n              }\n          }),\n\n          floatingLabel: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  if (!widget.floatingLabel) {\n                      return;\n                  }\n\n                  widget.floatingLabel.refresh();\n              }\n          }),\n\n          enabled: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n              },\n\n              refresh: function() {\n                  if (this.widget.enable) {\n                      this.widget.enable(this.bindings.enabled.get());\n                  }\n              }\n          }),\n\n          disabled: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n              },\n\n              refresh: function() {\n                  if (this.widget.enable) {\n                      this.widget.enable(!this.bindings.disabled.get());\n                  }\n              }\n          }),\n\n          source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\"),\n\n          value: Binder.extend({\n              init: function(widget, bindings, options) {\n                  Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                  this.widget = widget;\n                  this._change = this.change.bind(this);\n                  this.widget.first(CHANGE, this._change);\n\n                  var value = this.bindings.value.get();\n\n                  this._valueIsObservableObject = !options.valuePrimitive && (value == null || value instanceof ObservableObject);\n                  this._valueIsObservableArray = value instanceof ObservableArray;\n                  this._initChange = false;\n              },\n\n              _source: function() {\n                  var source;\n\n                  if (this.widget.dataItem) {\n                      source = this.widget.dataItem();\n                      if (source && source instanceof ObservableObject) {\n                          return [source];\n                      }\n                  }\n\n                  if (this.bindings.source) {\n                      source = this.bindings.source.get();\n                  }\n\n                  if (!source || source instanceof kendo.data.DataSource) {\n                      source = this.widget.dataSource.flatView();\n                  }\n\n                  return source;\n              },\n\n              change: function() {\n                  var value = this.widget.value(),\n                      field = this.options.dataValueField || this.options.dataTextField,\n                      isArray = toString.call(value) === \"[object Array]\",\n                      isObservableObject = this._valueIsObservableObject,\n                      valueIndex, valueLength, values = [],\n                      sourceItem, sourceValue,\n                      idx, length, source;\n\n                  this._initChange = true;\n\n                  if (field) {\n\n                      if (value === \"\" && (isObservableObject || this.options.valuePrimitive)) {\n                          value = null;\n                      } else {\n                          source = this._source();\n\n                          if (isArray) {\n                              valueLength = value.length;\n                              values = value.slice(0);\n                          }\n\n                          for (idx = 0, length = source.length; idx < length; idx++) {\n                              sourceItem = source[idx];\n                              sourceValue = sourceItem.get(field);\n\n                              if (isArray) {\n                                  for (valueIndex = 0; valueIndex < valueLength; valueIndex++) {\n                                      if (sourceValue == values[valueIndex]) {\n                                          values[valueIndex] = sourceItem;\n                                          break;\n                                      }\n                                  }\n                              } else if (sourceValue == value) {\n                                  value = isObservableObject ? sourceItem : sourceValue;\n                                  break;\n                              }\n                          }\n\n                          if (values[0]) {\n                              if (this._valueIsObservableArray) {\n                                  value = values;\n                              } else if (isObservableObject || !field) {\n                                  value = values[0];\n                              } else {\n                                  value = values[0].get(field);\n                              }\n                          }\n                      }\n                  }\n\n                  this.bindings.value.set(value);\n                  this._initChange = false;\n              },\n\n              refresh: function() {\n                  if (!this._initChange) {\n                      var widget = this.widget;\n                      var options = widget.options;\n                      var textField = options.dataTextField;\n                      var valueField = options.dataValueField || textField;\n                      var value = this.bindings.value.get();\n                      var text = options.text || \"\";\n                      var idx = 0, length;\n                      var values = [];\n\n                      if (value === undefined$1) {\n                          value = null;\n                      }\n\n                      if (valueField) {\n                          if (value instanceof ObservableArray) {\n                              for (length = value.length; idx < length; idx++) {\n                                  values[idx] = value[idx].get(valueField);\n                              }\n                              value = values;\n                          } else if (value instanceof ObservableObject) {\n                              text = value.get(textField);\n                              value = value.get(valueField);\n                          }\n                      }\n\n                      if (options.autoBind === false && !options.cascadeFrom && widget.listView && !widget.listView.bound()) {\n                          if (textField === valueField && !text) {\n                              text = value;\n                          }\n\n                          if (!text && (value || value === 0) && options.valuePrimitive) {\n                              widget.value(value);\n                          } else {\n                              widget._preselect(value, text);\n                          }\n                      } else {\n                          widget.value(value);\n                      }\n                  }\n\n                  this._initChange = false;\n              },\n\n              destroy: function() {\n                  this.widget.unbind(CHANGE, this._change);\n              }\n          }),\n          dropdowntree: {\n              value: Binder.extend({\n                  init: function(widget, bindings, options) {\n                      Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                      this.widget = widget;\n                      this._change = this.change.bind(this);\n                      this.widget.first(CHANGE, this._change);\n                      this._initChange = false;\n                  },\n\n                  change: function() {\n                      var that = this,\n                          oldValues = that.bindings[VALUE].get(),\n                          valuePrimitive = that.options.valuePrimitive,\n                          selectedNode = that.widget.treeview.select(),\n                          nonPrimitiveValues = that.widget._isMultipleSelection() ? that.widget._getAllChecked() : (that.widget.treeview.dataItem(selectedNode) || that.widget.value()),\n                          newValues = (valuePrimitive || that.widget.options.autoBind === false) ? that.widget.value() : nonPrimitiveValues;\n\n                      var field = this.options.dataValueField || this.options.dataTextField;\n\n                      newValues = newValues.slice ? newValues.slice(0) : newValues;\n\n                      that._initChange = true;\n\n                      if (oldValues instanceof ObservableArray) {\n                          var remove = [];\n                          var newLength = newValues.length;\n                          var i = 0, j = 0;\n                          var old = oldValues[i];\n                          var same = false;\n                          var removeIndex;\n                          var newValue;\n                          var found;\n\n                          while (old !== undefined$1) {\n                              found = false;\n                              for (j = 0; j < newLength; j++) {\n                                  if (valuePrimitive) {\n                                      same = newValues[j] == old;\n                                  } else {\n                                      newValue = newValues[j];\n\n                                      newValue = newValue.get ? newValue.get(field) : newValue;\n                                      same = newValue == (old.get ? old.get(field) : old);\n                                  }\n\n                                  if (same) {\n                                      newValues.splice(j, 1);\n                                      newLength -= 1;\n                                      found = true;\n                                      break;\n                                  }\n                              }\n\n                              if (!found) {\n                                  remove.push(old);\n                                  arraySplice(oldValues, i, 1);\n                                  removeIndex = i;\n                              } else {\n                                  i += 1;\n                              }\n\n                              old = oldValues[i];\n                          }\n\n                          arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                          if (remove.length) {\n                              oldValues.trigger(\"change\", {\n                                  action: \"remove\",\n                                  items: remove,\n                                  index: removeIndex\n                              });\n                          }\n\n                          if (newValues.length) {\n                              oldValues.trigger(\"change\", {\n                                  action: \"add\",\n                                  items: newValues,\n                                  index: oldValues.length - 1\n                              });\n                          }\n                      } else {\n                          that.bindings[VALUE].set(newValues);\n                      }\n\n                      that._initChange = false;\n                  },\n\n                  refresh: function() {\n                      if (!this._initChange) {\n                          var options = this.options,\n                              widget = this.widget,\n                              field = options.dataValueField || options.dataTextField,\n                              value = this.bindings.value.get(),\n                              data = value,\n                              idx = 0, length,\n                              values = [],\n                              selectedValue;\n\n                          if (field) {\n                              if (value instanceof ObservableArray) {\n                                  for (length = value.length; idx < length; idx++) {\n                                      selectedValue = value[idx];\n                                      values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                  }\n                                  value = values;\n                              } else if (value instanceof ObservableObject) {\n                                  value = value.get(field);\n                              }\n                          }\n                          if (options.autoBind === false && options.valuePrimitive !== true) {\n                              widget._preselect(data, value);\n                          } else {\n                              widget.value(value);\n                          }\n                     }\n                  },\n\n                  destroy: function() {\n                      this.widget.unbind(CHANGE, this._change);\n                  }\n              })\n          },\n          gantt: {\n              dependencies: dataSourceBinding(\"dependencies\", \"dependencies\", \"setDependenciesDataSource\")\n          },\n\n          multiselect: {\n              value: Binder.extend({\n                  init: function(widget, bindings, options) {\n                      Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                      this.widget = widget;\n                      this._change = this.change.bind(this);\n                      this.widget.first(CHANGE, this._change);\n                      this._initChange = false;\n                  },\n\n                  change: function() {\n                      var that = this,\n                          oldValues = that.bindings[VALUE].get(),\n                          valuePrimitive = that.options.valuePrimitive,\n                          newValues = valuePrimitive ? that.widget.value() : that.widget.dataItems();\n\n                      var field = this.options.dataValueField || this.options.dataTextField;\n\n                      newValues = newValues.slice(0);\n\n                      that._initChange = true;\n\n                      if (oldValues instanceof ObservableArray) {\n                          var remove = [];\n\n                          var newLength = newValues.length;\n\n                          var i = 0, j = 0;\n                          var old = oldValues[i];\n                          var same = false;\n                          var removeIndex;\n                          var newValue;\n                          var found;\n\n                          while (old !== undefined$1) {\n                              found = false;\n                              for (j = 0; j < newLength; j++) {\n                                  if (valuePrimitive) {\n                                      same = newValues[j] == old;\n                                  } else {\n                                      newValue = newValues[j];\n\n                                      newValue = newValue.get ? newValue.get(field) : newValue;\n                                      same = newValue == (old.get ? old.get(field) : old);\n                                  }\n\n                                  if (same) {\n                                      newValues.splice(j, 1);\n                                      newLength -= 1;\n                                      found = true;\n                                      break;\n                                  }\n                              }\n\n                              if (!found) {\n                                  remove.push(old);\n                                  arraySplice(oldValues, i, 1);\n                                  removeIndex = i;\n                              } else {\n                                  i += 1;\n                              }\n\n                              old = oldValues[i];\n                          }\n\n                          arraySplice(oldValues, oldValues.length, 0, newValues);\n\n                          if (remove.length) {\n                              oldValues.trigger(\"change\", {\n                                  action: \"remove\",\n                                  items: remove,\n                                  index: removeIndex\n                              });\n                          }\n\n                          if (newValues.length) {\n                              oldValues.trigger(\"change\", {\n                                  action: \"add\",\n                                  items: newValues,\n                                  index: oldValues.length - 1\n                              });\n                          }\n                      } else {\n                          that.bindings[VALUE].set(newValues);\n                      }\n\n                      that._initChange = false;\n                  },\n\n                  refresh: function() {\n                      if (!this._initChange) {\n                          var options = this.options,\n                              widget = this.widget,\n                              field = options.dataValueField || options.dataTextField,\n                              value = this.bindings.value.get(),\n                              data = value,\n                              idx = 0, length,\n                              values = [],\n                              selectedValue;\n\n                          if (value === undefined$1) {\n                              value = null;\n                          }\n\n                          if (field) {\n                              if (value instanceof ObservableArray) {\n                                  for (length = value.length; idx < length; idx++) {\n                                      selectedValue = value[idx];\n                                      values[idx] = selectedValue.get ? selectedValue.get(field) : selectedValue;\n                                  }\n                                  value = values;\n                              } else if (value instanceof ObservableObject) {\n                                  value = value.get(field);\n                              }\n                          }\n\n                          if (options.autoBind === false && options.valuePrimitive !== true && !widget._isBound()) {\n                              widget._preselect(data, value);\n                          } else {\n                              widget.value(value);\n                          }\n                      }\n                  },\n\n                  destroy: function() {\n                      this.widget.unbind(CHANGE, this._change);\n                  }\n\n              })\n          },\n          scheduler: {\n              source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                  dataBound: function(e) {\n                      var idx;\n                      var length;\n                      var widget = this.widget;\n                      var elements = e.addedItems || widget.items();\n                      var data, parents;\n\n                      if (elements.length) {\n                          data = e.addedDataItems || widget.dataItems();\n                          parents = this.bindings.source._parents();\n\n                          for (idx = 0, length = data.length; idx < length; idx++) {\n                              bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                          }\n                      }\n                  }\n              })\n          },\n\n          grid: {\n              source: dataSourceBinding(\"source\", \"dataSource\", \"setDataSource\").extend({\n                  dataBound: function(e) {\n                      var idx,\n                      length,\n                      widget = this.widget,\n                      elements = e.addedItems || widget.items(),\n                      parents,\n                      data;\n\n                      if (elements.length) {\n                          data = e.addedDataItems || widget.dataItems();\n                          parents = this.bindings.source._parents();\n\n                          for (idx = 0, length = data.length; idx < length; idx++) {\n                              bindElement(elements[idx], data[idx], this._ns(e.ns), [data[idx]].concat(parents));\n                          }\n                      }\n                  }\n              })\n          },\n\n          badge: {\n              text: Binder.extend({\n                  init: function(widget, bindings, options) {\n                      Binder.fn.init.call(this, widget.element[0], bindings, options);\n\n                      this.widget = widget;\n                  },\n                  refresh: function() {\n                      var text = this.bindings.text.get();\n\n                      if (text == null) {\n                          text = \"\";\n                      }\n                      this.widget.text(text);\n                  }\n              })\n          }\n      };\n\n      var arraySplice = function(arr, idx, remove, add) {\n          add = add || [];\n          remove = remove || 0;\n\n          var addLength = add.length;\n          var oldLength = arr.length;\n\n          var shifted = [].slice.call(arr, idx + remove);\n          var shiftedLength = shifted.length;\n          var index;\n\n          if (addLength) {\n              addLength = idx + addLength;\n              index = 0;\n\n              for (; idx < addLength; idx++) {\n                  arr[idx] = add[index];\n                  index++;\n              }\n\n              arr.length = addLength;\n          } else if (remove) {\n              arr.length = idx;\n\n              remove += idx;\n              while (idx < remove) {\n                  delete arr[--remove];\n              }\n          }\n\n          if (shiftedLength) {\n              shiftedLength = idx + shiftedLength;\n              index = 0;\n\n              for (; idx < shiftedLength; idx++) {\n                  arr[idx] = shifted[index];\n                  index++;\n              }\n\n              arr.length = shiftedLength;\n          }\n\n          idx = arr.length;\n\n          while (idx < oldLength) {\n              delete arr[idx];\n              idx++;\n          }\n      };\n\n      var BindingTarget = Class.extend( {\n          init: function(target, options) {\n              this.target = target;\n              this.options = options;\n              this.toDestroy = [];\n          },\n\n          bind: function(bindings) {\n              var key,\n                  hasValue,\n                  hasSource,\n                  hasEvents,\n                  hasChecked,\n                  hasCss,\n                  widgetBinding = this instanceof WidgetBindingTarget,\n                  specificBinders = this.binders();\n\n              for (key in bindings) {\n                  if (key == VALUE) {\n                      hasValue = true;\n                  } else if (key == SOURCE) {\n                      hasSource = true;\n                  } else if (key == EVENTS && !widgetBinding) {\n                      hasEvents = true;\n                  } else if (key == CHECKED) {\n                      hasChecked = true;\n                  } else if (key == CSS) {\n                      hasCss = true;\n                  } else {\n                      this.applyBinding(key, bindings, specificBinders);\n                  }\n              }\n              if (hasSource) {\n                  this.applyBinding(SOURCE, bindings, specificBinders);\n              }\n\n              if (hasValue) {\n                  this.applyBinding(VALUE, bindings, specificBinders);\n              }\n\n              if (hasChecked) {\n                  this.applyBinding(CHECKED, bindings, specificBinders);\n              }\n\n              if (hasEvents && !widgetBinding) {\n                  this.applyBinding(EVENTS, bindings, specificBinders);\n              }\n\n              if (hasCss && !widgetBinding) {\n                  this.applyBinding(CSS, bindings, specificBinders);\n              }\n\n              if (widgetBinding && this.target && this.target.floatingLabel) {\n                  this.applyBinding(\"floatingLabel\", bindings, specificBinders);\n              }\n          },\n\n          binders: function() {\n              return binders[this.target.nodeName.toLowerCase()] || {};\n          },\n\n          applyBinding: function(name, bindings, specificBinders) {\n              var binder = specificBinders[name] || binders[name],\n                  toDestroy = this.toDestroy,\n                  attribute,\n                  binding = bindings[name];\n\n              if (binder) {\n                  binder = new binder(this.target, bindings, this.options);\n\n                  toDestroy.push(binder);\n\n                  if (binding instanceof Binding) {\n                      binder.bind(binding);\n                      toDestroy.push(binding);\n                  } else {\n                      for (attribute in binding) {\n                          binder.bind(binding, attribute);\n                          toDestroy.push(binding[attribute]);\n                      }\n                  }\n              } else if (name !== \"template\") {\n                  throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.nodeName.toLowerCase() + \" element\");\n              }\n          },\n\n          destroy: function() {\n              var idx,\n                  length,\n                  toDestroy = this.toDestroy;\n\n              for (idx = 0, length = toDestroy.length; idx < length; idx++) {\n                  toDestroy[idx].destroy();\n              }\n          }\n      });\n\n      var WidgetBindingTarget = BindingTarget.extend( {\n          binders: function() {\n              return binders.widget[this.target.options.name.toLowerCase()] || {};\n          },\n\n          applyBinding: function(name, bindings, specificBinders) {\n              var binder = specificBinders[name] || binders.widget[name],\n                  toDestroy = this.toDestroy,\n                  attribute,\n                  binding = bindings[name];\n\n              if (binder) {\n                  binder = new binder(this.target, bindings, this.target.options);\n\n                  toDestroy.push(binder);\n\n\n                  if (binding instanceof Binding) {\n                      binder.bind(binding);\n                      toDestroy.push(binding);\n                  } else {\n                      for (attribute in binding) {\n                          binder.bind(binding, attribute);\n                          toDestroy.push(binding[attribute]);\n                      }\n                  }\n              } else {\n                  throw new Error(\"The \" + name + \" binding is not supported by the \" + this.target.options.name + \" widget\");\n              }\n          }\n      });\n\n      function bindingTargetForRole(element, roles) {\n          var widget = kendo.initWidget(element, {}, roles);\n\n          if (widget) {\n              return new WidgetBindingTarget(widget);\n          }\n      }\n\n      var keyValueRegExp = /[A-Za-z0-9_\\-]+:(\\{([^}]*)\\}|[^,}]+)/g,\n          whiteSpaceRegExp = /\\s/g;\n\n      function parseBindings(bind) {\n          var result = {},\n              idx,\n              length,\n              token,\n              colonIndex,\n              key,\n              value,\n              tokens;\n\n          tokens = bind.match(keyValueRegExp);\n\n          for (idx = 0, length = tokens.length; idx < length; idx++) {\n              token = tokens[idx];\n              colonIndex = token.indexOf(\":\");\n\n              key = token.substring(0, colonIndex);\n              value = token.substring(colonIndex + 1);\n\n              if (value.charAt(0) == \"{\") {\n                  value = parseBindings(value);\n              }\n\n              result[key] = value;\n          }\n\n          return result;\n      }\n\n      function createBindings(bindings, source, type) {\n          var binding,\n              result = {};\n\n          for (binding in bindings) {\n              result[binding] = new type(source, bindings[binding]);\n          }\n\n          return result;\n      }\n\n      function bindElement(element, source, roles, parents) {\n\n          if (!element || element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n              return;\n          }\n\n          var role = element.getAttribute(\"data-\" + kendo.ns + \"role\"),\n              idx,\n              bind = element.getAttribute(\"data-\" + kendo.ns + \"bind\"),\n              childrenCopy = [],\n              deep = true,\n              bindings,\n              options = {},\n              target;\n\n          parents = parents || [source];\n\n          if (role || bind) {\n              unbindElement(element, false);\n          }\n\n          if (role) {\n              target = bindingTargetForRole(element, roles);\n          }\n\n          if (bind) {\n              bind = parseBindings(bind.replace(whiteSpaceRegExp, \"\"));\n\n              if (!target) {\n                  options = kendo.parseOptions(element, { textField: \"\", valueField: \"\", template: \"\", valueUpdate: CHANGE, valuePrimitive: false, autoBind: true }, source);\n                  options.roles = roles;\n                  target = new BindingTarget(element, options);\n              }\n\n              target.source = source;\n\n              bindings = createBindings(bind, parents, Binding);\n\n              if (options.template) {\n                  bindings.template = new TemplateBinding(parents, \"\", options.template);\n              }\n\n              if (bindings.click) {\n                  bind.events = bind.events || {};\n                  bind.events.click = bind.click;\n                  bindings.click.destroy();\n                  delete bindings.click;\n              }\n\n              if (bindings.source) {\n                  deep = false;\n              }\n\n              if (bind.attr) {\n                  bindings.attr = createBindings(bind.attr, parents, Binding);\n              }\n\n              if (bind.style) {\n                  bindings.style = createBindings(bind.style, parents, Binding);\n              }\n\n              if (bind.events) {\n                  bindings.events = createBindings(bind.events, parents, EventBinding);\n              }\n\n              if (bind.css) {\n                  bindings.css = createBindings(bind.css, parents, Binding);\n              }\n\n              target.bind(bindings);\n          }\n\n          if (target) {\n              element.kendoBindingTarget = target;\n          }\n\n          var children = element.children;\n          if (deep && children && !element.getAttribute(\"data-\" + kendo.ns + \"stop\")) {\n              // https://github.com/telerik/kendo/issues/1240 for the weirdness.\n              for (idx = 0; idx < children.length; idx++) {\n                  childrenCopy[idx] = children[idx];\n              }\n\n              for (idx = 0; idx < childrenCopy.length; idx++) {\n                  bindElement(childrenCopy[idx], source, roles, parents);\n              }\n          }\n      }\n\n      function bind(dom, object) {\n          var idx,\n              length,\n              node,\n              roles = kendo.rolesFromNamespaces([].slice.call(arguments, 2));\n\n          object = kendo.observable(object);\n          dom = $(dom);\n\n          for (idx = 0, length = dom.length; idx < length; idx++) {\n              node = dom[idx];\n              if (node.nodeType === 1) {\n                  bindElement(node, object, roles);\n              }\n          }\n      }\n\n      function unbindElement(element, destroyWidget) {\n          var bindingTarget = element.kendoBindingTarget;\n\n          if (bindingTarget) {\n              bindingTarget.destroy();\n\n              if (deleteExpando) {\n                  delete element.kendoBindingTarget;\n              } else if (element.removeAttribute) {\n                  element.removeAttribute(\"kendoBindingTarget\");\n              } else {\n                  element.kendoBindingTarget = null;\n              }\n          }\n\n          if (destroyWidget) {\n              var widget = kendo.widgetInstance($(element));\n              if (widget && typeof widget.destroy === FUNCTION) {\n                  widget.destroy();\n              }\n          }\n      }\n\n      function unbindElementTree(element, destroyWidgets) {\n          unbindElement(element, destroyWidgets);\n\n          unbindElementChildren(element, destroyWidgets);\n      }\n\n      function unbindElementChildren(element, destroyWidgets) {\n          var children = element.children;\n\n          if (children) {\n              for (var idx = 0, length = children.length; idx < length; idx++) {\n                  unbindElementTree(children[idx], destroyWidgets);\n              }\n          }\n      }\n\n      function unbind(dom) {\n          var idx, length;\n\n          dom = $(dom);\n\n          for (idx = 0, length = dom.length; idx < length; idx++ ) {\n              unbindElementTree(dom[idx], false);\n          }\n      }\n\n      function notify(widget, namespace) {\n          var element = widget.element,\n              bindingTarget = element[0].kendoBindingTarget;\n\n          if (bindingTarget) {\n              bind(element, bindingTarget.source, namespace);\n          }\n      }\n\n      function retrievePrimitiveValues(value, valueField) {\n          var values = [];\n          var idx = 0;\n          var length;\n          var item;\n\n          if (!valueField) {\n              return value;\n          }\n\n          if (value instanceof ObservableArray) {\n              for (length = value.length; idx < length; idx++) {\n                  item = value[idx];\n                  values[idx] = item.get ? item.get(valueField) : item[valueField];\n              }\n              value = values;\n          } else if (value instanceof ObservableObject) {\n              value = value.get(valueField);\n          }\n\n          return value;\n      }\n\n      kendo.unbind = unbind;\n      kendo.bind = bind;\n      kendo.data.binders = binders;\n      kendo.data.Binder = Binder;\n      kendo.notify = notify;\n\n      kendo.observable = function(object) {\n          if (!(object instanceof ObservableObject)) {\n              object = new ObservableObject(object);\n          }\n\n          return object;\n      };\n\n      kendo.observableHierarchy = function(array) {\n          var dataSource = kendo.data.HierarchicalDataSource.create(array);\n\n          function recursiveRead(data) {\n              var i, children;\n\n              for (i = 0; i < data.length; i++) {\n                  data[i]._initChildren();\n\n                  children = data[i].children;\n\n                  children.fetch();\n\n                  data[i].items = children.data();\n\n                  recursiveRead(data[i].items);\n              }\n          }\n\n          dataSource.fetch();\n\n          recursiveRead(dataSource.data());\n\n          dataSource._data._dataSource = dataSource;\n\n          return dataSource._data;\n      };\n\n  })(window.kendo.jQuery);\n\n}));\n"]}