{"version":3,"file":"kendo.mobile.collapsible.min.js","sources":["kendo.mobile.collapsible.js"],"sourcesContent":["(function(f, define){\r\n    define('kendo.mobile.collapsible',[ \"kendo.core\" ], f);\r\n})(function(){\r\n\r\nvar __meta__ = { // jshint ignore:line\r\n    id: \"mobile.collapsible\",\r\n    name: \"Collapsible\",\r\n    category: \"mobile\",\r\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\r\n    depends: [ \"core\", \"userevents\" ]\r\n};\r\n\r\n(function($, undefined) {\r\n    var kendo = window.kendo,\r\n        ui = kendo.mobile.ui,\r\n        Widget = ui.Widget,\r\n        COLLAPSIBLE = \"km-collapsible\",\r\n        HEADER = \"km-collapsible-header\",\r\n        CONTENT = \"km-collapsible-content\",\r\n        INSET = \"km-collapsibleinset\",\r\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\r\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\r\n\r\n        COLLAPSED = \"km-collapsed\",\r\n        EXPANDED = \"km-expanded\",\r\n        ANIMATED = \"km-animated\",\r\n\r\n        //icon position\r\n        LEFT = \"left\",\r\n\r\n        //events\r\n        EXAPND = \"expand\",\r\n        COLLAPSE = \"collapse\";\r\n\r\n    var Collapsible = Widget.extend({\r\n        init: function(element, options) {\r\n            var that = this,\r\n                container = $(element);\r\n\r\n            Widget.fn.init.call(that, container, options);\r\n\r\n            container.addClass(COLLAPSIBLE);\r\n\r\n            that._buildHeader();\r\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\r\n\r\n            that._userEvents = new kendo.UserEvents(that.header, {\r\n                fastTap: true,\r\n                tap: function() { that.toggle(); }\r\n            });\r\n\r\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\r\n\r\n            if (that.options.inset) {\r\n                container.addClass(INSET);\r\n            }\r\n\r\n            if (that.options.animation) {\r\n                that.content.addClass(ANIMATED);\r\n                that.content.height(0);\r\n                if (that.options.collapsed) {\r\n                    that.content.hide();\r\n                }\r\n            } else if (that.options.collapsed) {\r\n                that.content.hide();\r\n            }\r\n        },\r\n\r\n        events: [\r\n            EXAPND,\r\n            COLLAPSE\r\n        ],\r\n\r\n        options: {\r\n            name: \"Collapsible\",\r\n            collapsed: true,\r\n            collapseIcon: \"arrow-n\",\r\n            expandIcon: \"arrow-s\",\r\n            iconPosition: LEFT,\r\n            animation: true,\r\n            inset: false\r\n        },\r\n\r\n        destroy: function() {\r\n            Widget.fn.destroy.call(this);\r\n            this._userEvents.destroy();\r\n        },\r\n\r\n        expand: function(instant) {\r\n            var icon = this.options.collapseIcon,\r\n                content = this.content,\r\n                ios = kendo.support.mobileOS.ios;\r\n\r\n            if (!this.trigger(EXAPND)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.off(\"transitionend\");\r\n                    content.show();\r\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\r\n                    content.height(this._getContentHeight());\r\n                    if (ios) { content.addClass(ANIMATED); }\r\n\r\n                    kendo.resize(content);\r\n                } else {\r\n                    content.show();\r\n                }\r\n            }\r\n        },\r\n\r\n        collapse: function(instant) {\r\n            var icon = this.options.expandIcon,\r\n                content = this.content;\r\n\r\n            if (!this.trigger(COLLAPSE)) {\r\n                if (icon) {\r\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\r\n                }\r\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\r\n\r\n                if (this.options.animation && !instant) {\r\n                    content.one(\"transitionend\", function() { content.hide(); });\r\n                    content.height(0);\r\n                } else {\r\n                    content.hide();\r\n                }\r\n            }\r\n        },\r\n\r\n        toggle: function(instant) {\r\n            if (this.isCollapsed()) {\r\n                this.expand(instant);\r\n            } else {\r\n                this.collapse(instant);\r\n            }\r\n        },\r\n\r\n        isCollapsed: function() {\r\n            return this.element.hasClass(COLLAPSED);\r\n        },\r\n\r\n        resize: function() {\r\n            if (!this.isCollapsed() && this.options.animation) {\r\n                this.content.height(this._getContentHeight());\r\n            }\r\n        },\r\n\r\n        _buildHeader: function() {\r\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\r\n                iconSpan = $('<span class=\"km-icon\"/>'),\r\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\r\n                iconPosition = this.options.iconPosition;\r\n\r\n            if (icon) {\r\n                header.prepend(iconSpan);\r\n                iconSpan.addClass(\"km-\" + icon);\r\n            }\r\n\r\n            this.header = header.parent();\r\n            this.header.addClass(\"km-icon-\" + iconPosition);\r\n        },\r\n\r\n        _getContentHeight: function() {\r\n            var style = this.content.attr(\"style\"),\r\n                height;\r\n\r\n            this.content.css({\r\n                position:   'absolute',\r\n                visibility: 'hidden',\r\n                height: \"auto\"\r\n            });\r\n\r\n            height = this.content.height();\r\n\r\n            this.content.attr(\"style\", style ? style : \"\");\r\n\r\n            return height;\r\n        }\r\n    });\r\n\r\n    ui.plugin(Collapsible);\r\n})(window.kendo.jQuery);\r\n\r\nreturn window.kendo;\r\n\r\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3){ (a3 || a2)(); });\r\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","mobile","Widget","COLLAPSIBLE","HEADER","CONTENT","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","LEFT","EXAPND","COLLAPSE","Collapsible","extend","init","element","options","that","this","container","fn","call","addClass","_buildHeader","content","children","not","header","wrapAll","parent","_userEvents","UserEvents","fastTap","tap","toggle","collapsed","inset","animation","height","hide","events","collapseIcon","expandIcon","iconPosition","destroy","expand","instant","icon","ios","support","mobileOS","trigger","find","removeClass","off","show","_getContentHeight","resize","collapse","one","isCollapsed","hasClass","iconSpan","prepend","style","attr","css","position","visibility","plugin","amd","a1","a2","a3"],"mappings":"CAAA,SAAaA,QACTA,OAAO,2BAA2B,CAAE,cACrC,WAEH,IAAIC,EAAW,CACXC,GAAI,qBACJC,KAAM,cACNC,SAAU,SACVC,YAAa,mGACbC,QAAS,CAAE,OAAQ,eAGbC,EA4KPC,OAAOC,MAAMC,OA5KHC,OAAb,EACQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMI,OAAOD,GAClBE,EAASF,EAAGE,OACZC,EAAc,iBACdC,EACAC,EACAC,EAAQ,sBACRC,EAAiB,8CAHR,wBAGiE,WAC1EC,EAAkB,+CAHR,yBAGmE,WAE7EC,EAAY,eACZC,EAAW,cACXC,EAAW,cAGXC,EAGAC,EAAS,SACTC,EAAW,WAEXC,EAAcb,EAAOc,OAAO,CAC5BC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KACPC,EAAY3B,EAAEuB,GAElBhB,EAAOqB,GAAGN,KAAKO,KAAKJ,EAAME,EAAWH,GAErCG,EAAUG,SAAStB,GAEnBiB,EAAKM,eACLN,EAAKO,QAAUL,EAAUM,WAAWC,IAAIT,EAAKU,QAAQC,QAAQvB,GAAiBwB,SAE9EZ,EAAKa,YAAc,IAAIpC,EAAMqC,WAAWd,EAAKU,OAAQ,CACjDK,QAAS,KACTC,IAAK,WAAahB,EAAKiB,YAG3Bf,EAAUG,SAASL,EAAKD,QAAQmB,UAAY7B,EAAYC,GAExD,GAAIU,EAAKD,QAAQoB,MACbjB,EAAUG,SAASnB,GAGvB,GAAIc,EAAKD,QAAQqB,UAAW,CACxBpB,EAAKO,QAAQF,SAASd,GACtBS,EAAKO,QAAQc,OAAO,GACpB,GAAIrB,EAAKD,QAAQmB,UACblB,EAAKO,QAAQe,YAEd,GAAItB,EAAKD,QAAQmB,UACpBlB,EAAKO,QAAQe,QAIrBC,OAAQ,CACJ9B,EACAC,GAGJK,QAAS,CACL5B,KAAM,cACN+C,UAAW,KACXM,aAAc,UACdC,WAAY,UACZC,aAlDG,OAmDHN,UAAW,KACXD,MAAO,OAGXQ,QAAS,WACL7C,EAAOqB,GAAGwB,QAAQvB,KAAKH,MACvBA,KAAKY,YAAYc,WAGrBC,OAAQ,SAASC,GACb,IAAIC,EAAO7B,KAAKF,QAAQyB,aACpBjB,EAAUN,KAAKM,QACfwB,EAAMtD,EAAMuD,QAAQC,SAASF,IAEjC,IAAK9B,KAAKiC,QAAQzC,GAAS,CACvB,GAAIqC,EACA7B,KAAKS,OAAOyB,KAAK,YAAYC,cAAc/B,SAAS,cAAgByB,GAExE7B,KAAKH,QAAQsC,YAAY/C,GAAWgB,SAASf,GAE7C,GAAIW,KAAKF,QAAQqB,YAAcS,EAAS,CACpCtB,EAAQ8B,IAAI,iBACZ9B,EAAQ+B,OACR,GAAIP,EAAOxB,EAAQ6B,YAAY7C,GAC/BgB,EAAQc,OAAOpB,KAAKsC,qBACpB,GAAIR,EAAOxB,EAAQF,SAASd,GAE5Bd,EAAM+D,OAAOjC,QAEbA,EAAQ+B,SAKpBG,SAAU,SAASZ,GACf,IAAIC,EAAO7B,KAAKF,QAAQ0B,WACpBlB,EAAUN,KAAKM,QAEnB,IAAKN,KAAKiC,QAAQxC,GAAW,CACzB,GAAIoC,EACA7B,KAAKS,OAAOyB,KAAK,YAAYC,cAAc/B,SAAS,cAAgByB,GAExE7B,KAAKH,QAAQsC,YAAY9C,GAAUe,SAAShB,GAE5C,GAAIY,KAAKF,QAAQqB,YAAcS,EAAS,CACpCtB,EAAQmC,IAAI,gBAAiB,WAAanC,EAAQe,SAClDf,EAAQc,OAAO,QAEfd,EAAQe,SAKpBL,OAAQ,SAASY,GACb,GAAI5B,KAAK0C,cACL1C,KAAK2B,OAAOC,QAEZ5B,KAAKwC,SAASZ,IAItBc,YAAa,WACT,OAAO1C,KAAKH,QAAQ8C,SAASvD,IAGjCmD,OAAQ,WACJ,IAAKvC,KAAK0C,eAAiB1C,KAAKF,QAAQqB,UACpCnB,KAAKM,QAAQc,OAAOpB,KAAKsC,sBAIjCjC,aAAc,WACV,IAAII,EAAST,KAAKH,QAAQU,SAAS,WAAWG,QAAQxB,GAClD0D,EAAWtE,EAAE,2BACbuD,EAAO7B,KAAKF,QAAQmB,UAAYjB,KAAKF,QAAQ0B,WAAaxB,KAAKF,QAAQyB,aACvEE,EAAezB,KAAKF,QAAQ2B,aAEhC,GAAII,EAAM,CACNpB,EAAOoC,QAAQD,GACfA,EAASxC,SAAS,MAAQyB,GAG9B7B,KAAKS,OAASA,EAAOE,SACrBX,KAAKS,OAAOL,SAAS,WAAaqB,IAGtCa,kBAAmB,WACf,IAAIQ,EAAQ9C,KAAKM,QAAQyC,KAAK,SAC1B3B,EAEJpB,KAAKM,QAAQ0C,IAAI,CACbC,SAAY,WACZC,WAAY,SACZ9B,OAAQ,SAGZA,EAASpB,KAAKM,QAAQc,SAEtBpB,KAAKM,QAAQyC,KAAK,QAASD,EAAQA,EAAQ,IAE3C,OAAO1B,KAOnB,OAHIzC,EAAGwE,OAAOzD,GAGPnB,OAAOC,QA1Ld,CA4LoB,mBAAVT,QAAwBA,OAAOqF,IAAMrF,OAAS,SAASsF,EAAIC,EAAIC,IAAMA,GAAMD"}