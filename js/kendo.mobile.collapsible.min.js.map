{"version":3,"file":"kendo.mobile.collapsible.min.js","sources":["kendo.mobile.collapsible.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.mobile.collapsible',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.collapsible\",\n    name: \"Collapsible\",\n    category: \"mobile\",\n    description: \"The Kendo mobile Collapsible widget provides ability for creating collapsible blocks of content.\",\n    depends: [ \"core\", \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        COLLAPSIBLE = \"km-collapsible\",\n        HEADER = \"km-collapsible-header\",\n        CONTENT = \"km-collapsible-content\",\n        INSET = \"km-collapsibleinset\",\n        HEADER_WRAPPER = \"<div data-role='collapsible-header' class='\" + HEADER + \"'></div>\",\n        CONTENT_WRAPPER = \"<div data-role='collapsible-content' class='\" + CONTENT + \"'></div>\",\n\n        COLLAPSED = \"km-collapsed\",\n        EXPANDED = \"km-expanded\",\n        ANIMATED = \"km-animated\",\n\n        //icon position\n        LEFT = \"left\",\n\n        //events\n        EXAPND = \"expand\",\n        COLLAPSE = \"collapse\";\n\n    var Collapsible = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                container = $(element);\n\n            Widget.fn.init.call(that, container, options);\n\n            container.addClass(COLLAPSIBLE);\n\n            that._buildHeader();\n            that.content = container.children().not(that.header).wrapAll(CONTENT_WRAPPER).parent();\n\n            that._userEvents = new kendo.UserEvents(that.header, {\n                fastTap: true,\n                tap: function() { that.toggle(); }\n            });\n\n            container.addClass(that.options.collapsed ? COLLAPSED : EXPANDED);\n\n            if (that.options.inset) {\n                container.addClass(INSET);\n            }\n\n            if (that.options.animation) {\n                that.content.addClass(ANIMATED);\n                that.content.height(0);\n                if (that.options.collapsed) {\n                    that.content.hide();\n                }\n            } else if (that.options.collapsed) {\n                that.content.hide();\n            }\n        },\n\n        events: [\n            EXAPND,\n            COLLAPSE\n        ],\n\n        options: {\n            name: \"Collapsible\",\n            collapsed: true,\n            collapseIcon: \"arrow-n\",\n            expandIcon: \"arrow-s\",\n            iconPosition: LEFT,\n            animation: true,\n            inset: false\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        expand: function(instant) {\n            var icon = this.options.collapseIcon,\n                content = this.content,\n                ios = kendo.support.mobileOS.ios;\n\n            if (!this.trigger(EXAPND)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(COLLAPSED).addClass(EXPANDED);\n\n                if (this.options.animation && !instant) {\n                    content.off(\"transitionend\");\n                    content.show();\n                    if (ios) { content.removeClass(ANIMATED); } //required to get the height of the content on iOS\n                    content.height(this._getContentHeight());\n                    if (ios) { content.addClass(ANIMATED); }\n\n                    kendo.resize(content);\n                } else {\n                    content.show();\n                }\n            }\n        },\n\n        collapse: function(instant) {\n            var icon = this.options.expandIcon,\n                content = this.content;\n\n            if (!this.trigger(COLLAPSE)) {\n                if (icon) {\n                    this.header.find(\".km-icon\").removeClass().addClass(\"km-icon km-\" + icon);\n                }\n                this.element.removeClass(EXPANDED).addClass(COLLAPSED);\n\n                if (this.options.animation && !instant) {\n                    content.one(\"transitionend\", function() { content.hide(); });\n                    content.height(0);\n                } else {\n                    content.hide();\n                }\n            }\n        },\n\n        toggle: function(instant) {\n            if (this.isCollapsed()) {\n                this.expand(instant);\n            } else {\n                this.collapse(instant);\n            }\n        },\n\n        isCollapsed: function() {\n            return this.element.hasClass(COLLAPSED);\n        },\n\n        resize: function() {\n            if (!this.isCollapsed() && this.options.animation) {\n                this.content.height(this._getContentHeight());\n            }\n        },\n\n        _buildHeader: function() {\n            var header = this.element.children(\":header\").wrapAll(HEADER_WRAPPER),\n                iconSpan = $('<span class=\"km-icon\"/>'),\n                icon = this.options.collapsed ? this.options.expandIcon : this.options.collapseIcon,\n                iconPosition = this.options.iconPosition;\n\n            if (icon) {\n                header.prepend(iconSpan);\n                iconSpan.addClass(\"km-\" + icon);\n            }\n\n            this.header = header.parent();\n            this.header.addClass(\"km-icon-\" + iconPosition);\n        },\n\n        _getContentHeight: function() {\n            var style = this.content.attr(\"style\"),\n                height;\n\n            this.content.css({\n                position: 'absolute',\n                visibility: 'hidden',\n                height: \"auto\"\n            });\n\n            height = this.content.height();\n\n            this.content.attr(\"style\", style ? style : \"\");\n\n            return height;\n        }\n    });\n\n    ui.plugin(Collapsible);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","mobile","Widget","COLLAPSIBLE","HEADER","CONTENT","INSET","HEADER_WRAPPER","CONTENT_WRAPPER","COLLAPSED","EXPANDED","ANIMATED","LEFT","EXAPND","COLLAPSE","Collapsible","extend","init","element","options","that","this","container","fn","call","addClass","_buildHeader","content","children","not","header","wrapAll","parent","_userEvents","UserEvents","fastTap","tap","toggle","collapsed","inset","animation","height","hide","events","collapseIcon","expandIcon","iconPosition","destroy","expand","instant","icon","ios","support","mobileOS","trigger","find","removeClass","off","show","_getContentHeight","resize","collapse","one","isCollapsed","hasClass","iconSpan","prepend","style","attr","css","position","visibility","plugin","amd","a1","a2","a3"],"mappings":"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"}