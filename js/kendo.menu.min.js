/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.menu.min",["kendo.popup.min","kendo.data.min"],function(){var e={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]},y=window.kendo.jQuery,b=void 0,P=window.kendo,t=P.ui,o=P._activeElement,C=P.support.touch&&P.support.mobileOS,c=Array.isArray,i=P.data.HierarchicalDataSource,r="mousedown",a="click",s=30,T=50,_=y.extend,f=y.each,d=P.template,l=P.keys,m=t.Widget,n=/^(ul|a|div)$/i,g=".kendoMenu",v="img",H="open",k="k-menu",h="k-link k-menu-link",O=".k-link",I=".k-menu-expand-arrow-icon",S="k-last",E="close",W="timer",A="k-first",D="k-image",M="select",N="zIndex",B="activate",R="deactivate",U="touchstart"+g+" MSPointerDown"+g+" pointerdown"+g,z=P.support.pointers,L=P.support.msPointers,F=L||z,G="change",j="error",q=P.support.touch?"touchstart":"",J=z?"pointerover":L?"MSPointerOver":"mouseenter",K=z?"pointerout":L?"MSPointerOut":"mouseleave",X="DOMMouseScroll"+g+" mousewheel"+g,Y=P.support.resize+g,V="scrollWidth",Z="scrollHeight",$="offsetWidth",Q="offsetHeight",ee="group",te="groupparent",ne=y(document.documentElement),ie="kendoPopup",re="k-hover",oe="k-focus",ae="k-disabled",se="k-selected",le=".k-menu",pe=".k-menu-group",w=".k-animation-container",ue=pe+","+w,x=":not(.k-list) > .k-item:not([role='treeitem'])",ce=".k-item.k-disabled",p=".k-item",fe=".k-item:not(.k-disabled)",de=".k-item:not(.k-disabled) > .k-link",me=":not(.k-item.k-separator)",ve="div:not(.k-animation-container,.k-list-container)",he=".k-menu-scroll-button",ge={2:1,touch:1},_e="string",ke="dataBound",we="aria-expanded",be="role",Ce={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},ye={wrapperCssClass:function(e,t){var n="k-item k-menu-item",i=t.index;if(t.enabled===false)n+=" k-disabled";if(e.firstLevel&&i===0)n+=" k-first";if(i==e.length-1)n+=" k-last";if(t.cssClass)n+=" "+t.cssClass;if(t.attr&&t.attr.hasOwnProperty("class"))n+=" "+t.attr["class"];if(t.selected)n+=" "+se;return n},itemCssAttributes:function(e){var t="";var n=e.attr||{};for(var i in n)if(n.hasOwnProperty(i)&&i!=="class")t+=i+'="'+n[i]+'" ';return t},imageCssAttributes:function(e){var t="";var n=e&&e.toJSON?e.toJSON():{};if(!n["class"])n["class"]=D;else n["class"]+=" "+D;for(var i in n)if(n.hasOwnProperty(i))t+=i+'="'+n[i]+'" ';return t},contentCssAttributes:function(e){var t="";var n=e.contentAttr||{};var i="k-content k-group k-menu-group k-menu-group-md";if(!n["class"])n["class"]=i;else n["class"]+=" "+i;for(var r in n)if(n.hasOwnProperty(r))t+=r+'="'+n[r]+'" ';return t},textClass:function(){return h},arrowClass:function(e,t){var n="k-menu-expand-arrow-icon k-icon";if(t.horizontal)n+=" k-i-arrow-s";else n+=" k-i-arrow-e";return n},groupAttributes:function(e){return e.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group k-menu-group-md"},content:function(e){return e.content?e.content:"&nbsp;"}};function Pe(e,t){e=e.split(" ")[!t+0]||e;return e.replace("top","up").replace("bottom","down")}function xe(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},r=/left|right/.test(e);if(r){i.origin=["top",e];i.position[1]=P.directions[e].reverse}else{i.origin[0]=e;i.position[0]=P.directions[e].reverse}i.origin=i.origin.join(" ");i.position=i.position.join(" ");return i}function u(e,t){try{return y.contains(e,t)}catch(e){return false}}function Te(e){e=y(e);var t=e.attr(P.attr("omit-wrap"));if(t)return;e.addClass("k-item k-menu-item").children(v).addClass(D);e.children("a").addClass(h).children(v).addClass(D);e.filter(":not([disabled])");e.filter(".k-separator").removeClass("k-menu-item").addClass("k-menu-separator").empty().append("&nbsp;");e.filter("li[disabled]").addClass(ae).prop("disabled",false).attr("aria-disabled",true);if(!e.filter("[role]").length)e.attr(be,"menuitem");if(!e.children(O).length)e.contents().filter(function(){return!this.nodeName.match(n)&&!(this.nodeType===3&&!P.trim(this.nodeValue))}).wrapAll("<span class='"+h+"'></span>").filter(function(e,t){return t.nodeType===3}).wrap("<span class='k-menu-link-text'></span>");He(e);Ie(e)}function He(e){e=y(e);e.find("> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)").parent().remove();e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e=y(this),t=Oe(e);e.append("<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon "+t+"'></span></span>")})}function Oe(e){var t,n=e.parent().parent(),i=P.support.isRtl(n);if(n.hasClass(k+"-horizontal"))t="k-i-arrow-s";else if(i)t="k-i-arrow-w";else t="k-i-arrow-e";return t}function Ie(e){e=y(e);e.filter(".k-first:not(:first-child)").removeClass(A);e.filter(".k-last:not(:last-child)").removeClass(S);e.filter(":first-child").addClass(A);e.filter(":last-child").addClass(S)}function Se(e){if(e&&e.length)for(var t in e){var n=e.eq(t);if(n.find("ul").length)n.attr("aria-haspopup",true);else n.removeAttr("aria-haspopup")}}function Ee(e){if(!e.hasClass(k))return e.parentsUntil("."+k,"li")}function We(e,t){var n=De(t);if(n)Ae(e,n);if(t.items)y(e).children("ul").children("li").each(function(e){We(this,t.items[e])})}function Ae(e,t){y(e).children(".k-link").data({selectHandler:t})}function De(e){var t=e.select,n=P.isFunction;if(t&&n(t))return t;return null}function Me(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function Ne(e){var t=e?"[data-group='"+e+"']":"[data-group]";return"ul"+t+",div"+t}function Be(r,o){var e=r.find(Me());var a=[];e.each(function(e,t){t=y(t);var n=t.data(te);var i=r;while(n){i=o.find(Ne(n)+":visible");if(i.length)a.push(i);t=i.find(Me());n=t.data(te)}});return a}function Re(e,t){var n=e.data(ee);return n?t.find(Me(n)):y([])}function Ue(e,t){var n=e.data(te);return n?t.children(w).children(Ne(n)):y([])}function ze(e,t){var n=[];var i=function(e){while(e.parentNode&&!t.is(e.parentNode)){n.push(e.parentNode);e=e.parentNode}};var r=e[0]||e;i(r);var o=n[n.length-1];while(y(o).is(w)){var a=y(o).children("ul");r=Re(a,t)[0];if(!r)break;n.push(r);i(r);o=n[n.length-1]}return n}function Le(e){var t=0;if(e.wheelDelta){t=-e.wheelDelta/120;t=t>0?Math.ceil(t):Math.floor(t)}if(e.detail)t=Math.round(e.detail/3);return t}function Fe(e,t){var n=0;var i=e.parentNode;while(i&&!isNaN(i[t])){n+=i[t];i=i.parentNode}return n}function Ge(e){return F&&e.originalEvent&&e.originalEvent.pointerType in ge}function je(e){var t=e.originalEvent;return C&&/touch/i.test(t.type||"")}function qe(e){e.contents().filter(function(){return this.nodeName!="LI"}).remove()}var Je=P.ui.DataBoundWidget.extend({init:function(e,t){var n=this;m.fn.init.call(n,e,t);e=n.wrapper=n.element;t=n.options;n._accessors();n._templates();n._dataSource();n._updateClasses();n._animations(t);n.nextItemZIndex=100;n._tabindex();n._initOverflow(t);n._attachMenuEventsHandlers();if(t.openOnClick)n.clicked=false;e.attr(be,"menubar");if(e[0].id)n._ariaId=P.format("{0}_mn_active",e[0].id);P.notify(n)},events:[H,E,B,R,M,ke],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,scrollable:false,popupCollision:b},_initData:function(){var e=this;if(e.dataSource){e.angular("cleanup",function(){return{elements:e.element.children()}});e.element.empty();e.append(e.dataSource.view(),e.element);e.angular("compile",function(){return{elements:e.element.children()}})}},_attachMenuEventsHandlers:function(){var e=this;var t=e.element;var n=e.options;var i=e._overflowWrapper();e._checkActiveProxy=e._checkActiveElement.bind(e);(i||t).on(U,p,e._focusHandler.bind(e)).on(a+g,ce,false).on(a+g,p,e._click.bind(e)).on(U+" "+r+g,".k-content",e._preventClose.bind(e)).on(J+g,fe,e._mouseenter.bind(e)).on(K+g,fe,e._mouseleave.bind(e)).on(r+g,fe,e._mousedown.bind(e)).on(q+g+" "+J+g+" "+K+g+" "+r+g+" "+a+g,de,e._toggleHover.bind(e));t.on("keydown"+g,e._keydown.bind(e)).on("focus"+g,e._focus.bind(e)).on("focus"+g,".k-content",e._focus.bind(e)).on("blur"+g,e._removeHoverItem.bind(e)).on("blur"+g,"[tabindex]",e._checkActiveProxy);if(i)i.on(K+g,ue,e._mouseleavePopup.bind(e)).on(J+g,ue,e._mouseenterPopup.bind(e));if(n.openOnClick){e._documentClickHandler=e._documentClick.bind(e);y(document).on("click",e._documentClickHandler)}},_detachMenuEventsHandlers:function(){var e=this;var t=e._overflowWrapper();if(t)t.off(g);e.element.off(g);if(e._documentClickHandler)y(document).off("click",e._documentClickHandler)},_initOverflow:function(e){var t=this;var n=e.orientation=="horizontal";var i,r;if(e.scrollable){t._openedPopups={};t._scrollWrapper=t.element.wrap("<div class='k-menu-scroll-wrapper k-"+e.orientation+"'></div>").parent();if(n)qe(t.element);i=y(t.templates.scrollButton({direction:n?"left":"up"}));r=y(t.templates.scrollButton({direction:n?"right":"down"}));i.add(r).appendTo(t._scrollWrapper);t._initScrolling(t.element,i,r,n);var o=t.element.outerWidth();var a=t.element[0].style.width;a=a==="auto"?"":a;if(n)y(window).on(Y,function(){setTimeout(function(){t._setOverflowWrapperWidth(o,a);t._toggleScrollButtons(t.element,i,r,n)},300)});t._setOverflowWrapperWidth(o,a);t._toggleScrollButtons(t.element,i,r,n)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n=this;var i=n._scrollWrapper.css("width");n._scrollWrapper.css({width:""});var r=n._scrollWrapper.outerWidth();n._scrollWrapper.css({width:i});var o=n.element.outerWidth();var a=n.element[0].offsetWidth-n.element[0].clientWidth;if(o!=r&&r>0){var s=t?Math.min(e,r):r;n.element.width(s-a);n._scrollWrapper.width(s)}},_reinitOverflow:function(e){var t=this;var n=e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&e.scrollable.distance!=t.options.scrollable.distance||e.orientation!=t.options.orientation;if(n){t._detachMenuEventsHandlers();t._destroyOverflow();t._initOverflow(e);t._attachMenuEventsHandlers()}},_destroyOverflow:function(){var e=this;var r=e._overflowWrapper();if(r){r.off(g);r.find(he).off(g).remove();r.children(w).each(function(e,t){var n=y(t).children(pe);n.off(X);var i=Re(n,r);if(i.length)i.append(t)});r.find(Me()).removeAttr("data-groupparent");r.find(Ne()).removeAttr("data-group");e.element.off(X);y(window).off(Y);r.contents().unwrap();e._scrollWrapper=e._popupsWrapper=e._openedPopups=b}},_initScrolling:function(o,a,s,l){var p=this;var e=p.options.scrollable;var t=p.isNumeric(e.distance)?e.distance:T;var u=t/2;var c="-="+t;var f="+="+t;var d="-="+t*2;var m="+="+t*2;var n=false;var i=false;var r=function(e){var t=l?{scrollLeft:e}:{scrollTop:e};o.finish().animate(t,"fast","linear",function(){if(n)r(e)});p._toggleScrollButtons(o,a,s,l)};var v=function(e){if(!n&&!i){r(e.data.direction);n=true}};var h=function(e){var t=l?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};i=je(e)||Ge(e);o.stop().animate(t,"fast","linear",function(){if(!i)y(e.currentTarget).trigger(J);else{p._toggleScrollButtons(o,a,s,l);n=true}});n=false;e.stopPropagation();e.preventDefault()};a.on(J+g,{direction:c},v).on(P.eventMap.down+g,{direction:d},h);s.on(J+g,{direction:f},v).on(P.eventMap.down+g,{direction:m},h);a.add(s).on(K+g,function(){o.stop();n=false;p._toggleScrollButtons(o,a,s,l)});o.on(X,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=Le(e.originalEvent);var n=Math.abs(t)*u;var i=(t>0?"+=":"-=")+n;var r=l?{scrollLeft:i}:{scrollTop:i};p._closeChildPopups(o);o.finish().animate(r,"fast","linear",function(){p._toggleScrollButtons(o,a,s,l)});e.preventDefault()}})},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_toggleScrollButtons:function(e,t,n,i){var r=i?P.scrollLeft(e):e.scrollTop();var o=i?V:Z;var a=i?$:Q;t.toggle(r!==0);n.toggle(r<e[0][o]-e[0][a]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e);e.animation=_(true,t,e.animation);if("dataSource"in e)this._dataSource(e);this._updateClasses();this._reinitOverflow(e);m.fn.setOptions.call(this,e)},destroy:function(){var e=this;m.fn.destroy.call(e);e._detachMenuEventsHandlers();e._destroyOverflow();P.destroy(e.element)},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},disable:function(e){this._toggleDisabled(e,false);return this},attemptGetItem:function(e){e=e||this.element;var t=this.element.find(e);var n=this._overflowWrapper();if(t.length||e===this.element)return t;else if(n)return n.find(e);else return y()},append:function(t,e){e=this.attemptGetItem(e);var n=this._insert(t,e,e.length?this._childPopupElement(e):null);f(n.items,function(e){n.group.append(this);He(this);We(this,t[e]||t)});He(e);Ie(n.group.find(".k-first, .k-last").add(n.items));Se(Ee(n.group));return this},insertBefore:function(t,n){n=this.attemptGetItem(n);var e=this._insert(t,n,n.parent());f(e.items,function(e){n.before(this);He(this);Ie(this);We(this,t[e]||t)});Ie(n);return this},insertAfter:function(t,n){n=this.attemptGetItem(n);var e=this._insert(t,n,n.parent());f(e.items,function(e){n.after(this);He(this);Ie(this);We(this,t[e]||t)});Ie(n);return this},_insert:function(e,t,n){var i=this,r,o;if(!t||!t.length)n=i.element;var a=y.isPlainObject(e)||e instanceof P.data.ObservableObject,s={firstLevel:n.hasClass(k),horizontal:n.hasClass(k+"-horizontal"),expanded:true,length:n.children().length};if(t&&!n.length)n=y(i.renderGroup({group:s,options:i.options})).appendTo(t);if(a||c(e)||e instanceof P.data.ObservableArray)r=y(y.map(a?[e]:e,function(e,t){if(typeof e==="string")return y(e).get();else return y(i.renderItem({group:s,item:_(e,{index:t})})).get()}));else{if(typeof e=="string"&&e.charAt(0)!="<")r=i.element.find(e);else r=y(e);o=r.find("> ul").addClass("k-menu-group k-menu-group-md").attr(be,"menu");r=r.filter("li");r.add(o.find("> li")).each(function(){Te(this)})}return{items:r,group:n}},remove:function(e){e=this.attemptGetItem(e);var t=this,n=e.parentsUntil(t.element,x),i=e.parent("ul:not(.k-menu)");e.remove();if(i&&!i.children(x).length){var r=Ee(i);var o=i.parent(w);if(o.length)o.remove();else i.remove();Se(r)}if(n.length){n=n.eq(0);He(n);Ie(n)}return t},_openAfterLoad:function(e,t){var n=this;if(t.loaded()){n.open(e);n._loading=false}else t.one(G,function(){e.find(I).removeClass("k-i-loading");if(n._loading){n.open(e);n._loading=false}})},open:function(e){var f=this;var d=f.options;var m=d.orientation=="horizontal";var v=d.direction;var h=P.support.isRtl(f.wrapper);var g=f._overflowWrapper();e=(g||f.element).find(e);var t=f.dataSource&&f.dataSource.getByUid(e.data(P.ns+"uid"));if(t&&t.hasChildren&&!t.loaded()&&!f._loading){f._loading=true;e.find(I).addClass("k-i-loading");t.load();f._openAfterLoad(e,t);return}if(/^(top|bottom|default)$/.test(v))if(h)v=m?(v+" left").replace("default","bottom"):"left";else v=m?(v+" right").replace("default","bottom"):"right";var n=">.k-popup:visible,>.k-animation-container>.k-popup:visible";var i=function(){var e=y(this).data(ie);if(e)f.close(y(this).closest("li.k-item"),true)};e.siblings().find(n).each(i);if(g)e.find(n).each(i);if(f.options.openOnClick)f.clicked=true;e.each(function(){var c=y(this);clearTimeout(c.data(W));c.data(W,setTimeout(function(){var e=c.find("> .k-menu-group, > .k-animation-container > .k-menu-group").filter(":hidden").first();var t;var n;if(!e[0]&&g){n=f._getPopup(c);e=n&&n.element}if(e.is(":visible"))return;if(e[0]&&f._triggerEvent({item:c[0],type:H})===false){if(!e.find(".k-menu-group")[0]&&e.children(".k-item").length>1){var i=y(window).height(),r=function(){e.css({maxHeight:i-(P._outerHeight(e)-e.height())-P.getShadows(e).bottom,overflow:"auto"})};r()}else e.css({maxHeight:"",overflow:""});c.data(N,c.css(N));var o=f.nextItemZIndex++;c.css(N,o);if(f.options.scrollable)c.parent().siblings(he).css({zIndex:++o});t=e.data(ie);var a=c.parent().hasClass(k),u=a&&m,s=xe(v,a,h),l=d.animation.open.effects,p=l!==b?l:"slideIn:"+Pe(v,a);if(!t){t=e.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:B})},deactivate:function(e){f._closing=false;e.sender.element.removeData("targetTransform").css({opacity:""});f._triggerEvent({item:this.wrapper.parent(),type:R})},origin:s.origin,position:s.position,collision:d.popupCollision!==b?d.popupCollision:u?"fit":"fit flip",anchor:c,appendTo:g||c,animation:{open:_(true,{effects:p},d.animation.open),close:d.animation.close},open:f._popupOpen.bind(f),close:function(e){f._closing=e.sender.element;var t=e.sender.wrapper.parent();if(g){var n=e.sender.element.data(ee);if(n)t=(g||f.element).find(Me(n));e.sender.wrapper.children(he).hide()}if(!f._triggerEvent({item:t[0],type:E})){t.css(N,t.data(N));t.removeData(N);if(f.options.scrollable)t.parent().siblings(he).css({zIndex:""});if(C||F||P.support.mouseAndTouchPresent){t.removeClass(re);f._removeHoverItem()}}else e.preventDefault()}}).data(ie);e.closest(w).removeAttr(be)}else{t=e.data(ie);t.options.origin=s.origin;t.options.position=s.position;t.options.animation.open.effects=p}e.removeAttr("aria-hidden");c.attr(we,true);f._configurePopupOverflow(t,c);t._hovered=true;t.open();f._initPopupScrolling(t)}},f.options.hoverDelay))});return f},_configurePopupOverflow:function(e,t){var n=this;if(n.options.scrollable){n._wrapPopupElement(e);if(!t.attr("data-groupparent")){var i=(new Date).getTime();t.attr("data-groupparent",i);e.element.attr("data-group",i)}}},_wrapPopupElement:function(e){if(!e.element.parent().is(w))e.wrapper=P.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"})},_initPopupScrolling:function(e,t,n){var i=this;if(i.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight)i._initPopupScrollButtons(e,t,n)},_initPopupScrollButtons:function(n,i,r){var o=this;var a=n.wrapper.children(he);var e=o.options.animation;var t=(e&&e.open&&e.open.duration||0)+s;setTimeout(function(){if(!a.length){var e=y(o.templates.scrollButton({direction:i?"left":"up"}));var t=y(o.templates.scrollButton({direction:i?"right":"down"}));a=e.add(t).appendTo(n.wrapper);o._initScrolling(n.element,e,t,i);if(!r)a.on(J+g,function(){var i=o._overflowWrapper();y(Be(n.element,i)).each(function(e,t){var n=i.find(Me(t.data(ee)));o.close(n)})}).on(K+g,function(){setTimeout(function(){if(y.isEmptyObject(o._openedPopups))o._closeParentPopups(n.element)},s)})}o._toggleScrollButtons(n.element,a.first(),a.last(),i)},t)},_popupOpen:function(e){if(!this._keyTriggered)e.sender.element.children("."+oe).removeClass(oe);if(this.options.scrollable)this._setPopupHeight(e.sender)},_setPopupHeight:function(e,t){var n=e.element;var i=n.add(n.parent(w));i.height(n.hasClass(k)&&this._initialHeight||"");var r=e._location(t);var o=y(window).height();var a=r.height;var s=t?0:Math.max(r.top,0);var l=t?0:Fe(this._overflowWrapper()[0],"scrollTop");var u=window.innerHeight-o;var p=o-P.getShadows(n).bottom+u;var c=p+l>a+s;if(!c){var f=Math.min(p,p-s+l);i.css({overflow:"hidden",height:f+"px"})}},close:function(n,e){var i=this;var r=i._overflowWrapper();var t=r||i.element;n=t.find(n);if(!n.length)n=t.find(">.k-item");var o=function(e){var n=false;if(y.isEmptyObject(i._openedPopups))return n;y(Be(e,r)).each(function(e,t){n=!!i._openedPopups[t.data(ee).toString()];return!n});return n};var a=function(e){var t=e.data(te);return!r||!t||!i._openedPopups[t.toString()]};n.each(function(){var t=y(this);t.attr(we,false);if(!e&&i._isRootItem(t))i.clicked=false;clearTimeout(t.data(W));t.data(W,setTimeout(function(){var e=i._getPopup(t);if(e&&(a(t)||i._forceClose)){if(!i._forceClose&&o(e.element))return;e.close();e.element.attr("aria-hidden",true);if(r)if(i._forceClose&&n.last().is(t[0]))delete i._forceClose}},i.options.hoverDelay))});return i},_getPopup:function(e){var t=this;var n=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible").first().data(ie);var i=t._overflowWrapper();if(!n&&i){var r=e.data(te);if(r){var o=i.find(Ne(r));n=o.data(ie)}}return n},_toggleDisabled:function(e,t){this.element.find(e).each(function(){y(this).toggleClass(ae,!t).attr("aria-disabled",!t)})},_toggleHover:function(e){var t=y(P.eventTarget(e)||e.target).closest(x),n=e.type==J||r.indexOf(e.type)!==-1;t.siblings().removeClass(re);if(!t.parents("li."+ae).length)t.toggleClass(re,n||e.type=="mousedown"||e.type=="pointerover"||e.type==q);this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick)this._closurePrevented=true},_checkActiveElement:function(e){var t=this,n=y(e?e.currentTarget:this._hoverItem()),i=t._findRootParent(n)[0];if(!this._closurePrevented)setTimeout(function(){if(!document.hasFocus()||!u(i,P._activeElement())&&e&&!u(i,e.currentTarget))t.close(i)},0);this._closurePrevented=false},_removeHoverItem:function(){var e=this._hoverItem();if(e&&e.hasClass(oe)){e.removeClass(oe);this._oldHoverItem=null}},_updateClasses:function(){var e=this.element,t=".k-menu-init div ul",n;e.removeClass("k-menu-horizontal k-menu-vertical");e.addClass("k-widget k-reset k-menu-init "+k).addClass(k+"-"+this.options.orientation);if(this.options.orientation==="vertical")e.attr("aria-orientation","vertical");else e.attr("aria-orientation","horizontal");e.find("li > ul").filter(function(){return!P.support.matchesSelector.call(this,t)}).addClass("k-group k-menu-group k-menu-group-md").attr(be,"menu").hide().attr("aria-hidden",e.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1");e.find("li[aria-haspopup]").attr(we,false);n=e.find("> li,.k-menu-group > li");e.removeClass("k-menu-init");n.each(function(){Te(this)})},_mouseenter:function(e){var n=this;var t=y(e.currentTarget);var i=n._itemHasChildren(t);var r=t.data(te)||t.parent().data(ee);var o=Ge(e);var a=false;if(r)n._openedPopups[r.toString()]=true;if(n._closing)a=!!n._closing.find(t).length;if(a||e.delegateTarget!=t.parents(le)[0]&&e.delegateTarget!=t.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0])return;n._keyTriggered=false;if(n.options.openOnClick.rootMenuItems&&n._isRootItem(t.closest(x))||n.options.openOnClick.subMenuItems&&!n._isRootItem(t.closest(x)))return;if((n.options.openOnClick===false||n.options.openOnClick.rootMenuItems===false&&n._isRootItem(t.closest(x))||n.options.openOnClick.subMenuItems===false&&!n._isRootItem(t.closest(x))||n.clicked)&&!C&&!(o&&n._isRootItem(t.closest(x))))if(!u(e.currentTarget,e.relatedTarget)&&i)n.open(t);if(n.options.openOnClick===true&&n.clicked||C)t.siblings().each(function(e,t){n.close(t,true)})},_mousedown:function(e){var n=this;var t=y(e.currentTarget);if(n.options.openOnClick.subMenuItems&&!n._isRootItem(t)||C)t.siblings().each(function(e,t){n.close(t,true)})},_mouseleave:function(e){var t=this;var n=y(e.currentTarget);var i=n.data(te);var r=n.children(w).length||n.children(pe).length||i;var o=y(window);if(i)delete t._openedPopups[i.toString()];if(n.parentsUntil(w,".k-list-container,.k-calendar-container")[0]){e.stopImmediatePropagation();return}if((t.options.openOnClick===false||!t.options.openOnClick.rootMenuItems&&t._isRootItem(n)||!t.options.openOnClick.subMenuItems&&!t._isRootItem(n))&&!C&&!Ge(e)&&!u(e.currentTarget,e.relatedTarget||e.target)&&r&&!u(e.currentTarget,P._activeElement())){t.close(n,true);t._loading=false;return}if(P.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!Ge(e)||e.clientX<0||e.clientY<0||e.clientY>o.height()||e.clientX>o.width())t.close(n)},_mouseenterPopup:function(e){var t=this;var n=y(e.currentTarget);if(n.parent().is(w))return;n=n.children("ul");var i=n.data(ee);if(i)t._openedPopups[i.toString()]=true},_mouseleavePopup:function(e){var t=this;var n=y(e.currentTarget);if(!Ge(e)&&n.is(w))t._closePopups(n.children("ul"))},_closePopups:function(t){var n=this;var e=n._overflowWrapper();var i=t.data(ee);if(i){delete n._openedPopups[i.toString()];var r=e.find(Me(i));setTimeout(function(){if(n.options.openOnClick)n._closeChildPopups(t);else if(y.isEmptyObject(n._openedPopups)){var e=n._innerPopup(t);n._closeParentPopups(e)}else n.close(r,true)},0)}},_closeChildPopups:function(e){var t=this;var n=t._overflowWrapper();y(Be(e,n)).each(function(){var e=n.find(Me(this.data(ee)));t.close(e,true)})},_innerPopup:function(e){var t=this._overflowWrapper();var n=Be(e,t);return n[n.length-1]||e},_closeParentPopups:function(e){var t=this;var n=t._overflowWrapper();var i=e.data(ee);var r=n.find(Me(i));i=r.parent().data(ee);t.close(r,true);while(i&&!t._openedPopups[i]){if(r.parent().is(le))break;r=n.find(Me(i));t.close(r,true);i=r.parent().data(ee)}},_click:function(e){var t=this,u,n=t.options,i=y(P.eventTarget(e)),r=i[0],o=i[0]?i[0].nodeName.toUpperCase():"",c=o=="INPUT"||o=="SELECT"||o=="BUTTON"||o=="LABEL",f=i.closest(O),a=i.closest(x),s=a[0],d=f.attr("href"),l,m,v=i.attr("href"),h=y("<a href='#' />").attr("href"),p=!!d&&d!==h,g=p&&!!d.match(/^#/),_=!!v&&v!==h,k=t._overflowWrapper(),w;if(r&&(!r.parentNode||!s))return;if(y(i).hasClass("k-menu-expand-arrow-icon"))this._lastClickedElement=s;while(r&&r.parentNode!=s)r=r.parentNode;if(y(r).is(ve))return;if(a.hasClass(ae)){e.preventDefault();return}if(!e.handled&&t._triggerSelect(i,s)&&!c)e.preventDefault();e.handled=true;l=a.children(ue);if(k){var b=a.data(te);if(b)l=k.find(Ne(b))}m=l.is(":visible");w=n.openOnClick&&m&&t._isRootItem(a);if(n.closeOnClick&&(!p||g)&&(!l.length||w)){a.removeClass(re).css("height");t._oldHoverItem=t._findRootParent(a);var C=t._parentsUntil(f,t.element,x);t._forceClose=!!k;t.close(C);t.clicked=false;if("MSPointerUp".indexOf(e.type)!=-1)e.preventDefault();return}if(p&&e.enterKey)f[0].click();if((!t._isRootItem(a)||n.openOnClick===false)&&!n.openOnClick.subMenuItems&&!P.support.touch&&!(Ge(e)&&t._isRootItem(a.closest(x))))return;if(!p&&!c&&!_)e.preventDefault();t.clicked=true;u=l.is(":visible")?E:H;if(!n.closeOnClick&&u==E)return;t[u](a)},_parentsUntil:function(e,t,n){var i=this._overflowWrapper();if(!i)return e.parentsUntil(t,n);else{var r=ze(e,i);var o=[];y(r).each(function(){var e=y(this);if(e.is(t))return false;if(e.is(n))o.push(this)});return y(o)}},_triggerSelect:function(e,t){e=e.is(".k-link")?e:e.closest(".k-link");var n=e.data("selectHandler"),i;if(n){i=this._getEventData(e);n.call(this,i)}var r=i&&i.isDefaultPrevented();var o=this._triggerEvent({item:t,type:M});return r||o},_getEventData:function(e){var t={sender:this,target:e,_defaultPrevented:false,preventDefault:function(){this._defaultPrevented=true},isDefaultPrevented:function(){return this._defaultPrevented}};return t},_documentClick:function(e){var t=this;var n=y(e.target).hasClass("k-menu-expand-arrow-icon")?t._lastClickedElement:e.target;if(u((t._overflowWrapper()||t.element)[0],n)){t._lastClickedElement=b;return}t.clicked=false},_focus:function(e){var t=this,n=e.target,i=t._hoverItem(),r=o();if(n!=t.wrapper[0]&&!y(n).is(":kendoFocusable")){e.stopPropagation();y(n).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(oe);t.wrapper.trigger("focus");return}if(r===e.currentTarget)if(i.length)t._moveHover([],i);else if(!t._oldHoverItem)t._moveHover([],t.wrapper.children().first())},_keydown:function(e){var t=this,n=e.keyCode,i=t._oldHoverItem,r,o,a,s=P.support.isRtl(t.wrapper);if(e.target!=e.currentTarget&&n!=l.ESC)return;if(!i)i=t._oldHoverItem=t._hoverItem();o=t._itemBelongsToVertival(i);a=t._itemHasChildren(i);t._keyTriggered=true;if(n==l.RIGHT)r=t[s?"_itemLeft":"_itemRight"](i,o,a);else if(n==l.LEFT)r=t[s?"_itemRight":"_itemLeft"](i,o,a);else if(n==l.DOWN)r=t._itemDown(i,o,a);else if(n==l.UP)r=t._itemUp(i,o,a);else if(n==l.HOME){t._moveHover(i,i.parent().children().first());e.preventDefault()}else if(n==l.END){t._moveHover(i,i.parent().children().last());e.preventDefault()}else if(n==l.ESC)r=t._itemEsc(i,o);else if(n==l.ENTER||n==l.SPACEBAR){r=i.children(".k-link");if(r.length>0){t._click({target:r[0],preventDefault:function(){},enterKey:true});if(a&&!i.hasClass(ae)){t.open(i);t._moveHover(i,t._childPopupElement(i).children().first())}else if(i.is("li")&&i.attr("role")==="menuitemcheckbox")i.find(".k-checkbox").attr("checked",true);else t._moveHoverToRoot(i,t._findRootParent(i))}}else if(n==l.TAB){r=t._findRootParent(i);t._moveHover(i,r);t._checkActiveElement();return}if(r&&r[0]){e.preventDefault();e.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-hover,.k-item.k-focus").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");if(!e.length)return t;return e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){if(!e||!e.length||!e[0].nodeType)return false;return e.children(".k-menu-group, div.k-animation-container").length>0||!!e.data(te)&&!!this._overflowWrapper().children(Ne(e.data(te)))},_moveHover:function(e,t){var n=this,i=n._ariaId;if(e.length&&t.length)e.removeClass(oe);if(t.length){if(t[0].id)i=t[0].id;t.addClass(oe);n._oldHoverItem=t;if(i){n.element.removeAttr("aria-activedescendant");y("#"+i).removeAttr("id");t.attr("id",i);n.element.attr("aria-activedescendant",i)}n._scrollToItem(t)}},_moveHoverToRoot:function(e,t){this._moveHover(e,t)},_findRootParent:function(e){if(this._isRootItem(e))return e;else return this._parentsUntil(e,le,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(k)},_itemRight:function(e,t,n){var i=this,r,o,a;if(!t){r=e.nextAll(p+me).eq(0);if(!r.length)r=e.prevAll(p+me).last();i.close(e)}else if(n&&!e.hasClass(ae)){i.open(e);r=i._childPopupElement(e).children().first()}else if(i.options.orientation=="horizontal"){o=i._findRootParent(e);a=i._overflowWrapper();if(a){var s=Ue(o,a);i._closeChildPopups(s)}i.close(o);r=o.nextAll(p+me).eq(0)}if(r&&!r.length)r=i.wrapper.children(".k-item").first();else if(!r)r=[];i._moveHover(e,r);return r},_itemLeft:function(e,t){var n=this,i,r;if(!t){i=e.prevAll(p+me).eq(0);if(!i.length)i=e.nextAll(p+me).last();n.close(e)}else{i=e.parent().closest(".k-item");r=n._overflowWrapper();if(!i.length&&r)i=Re(e.parent(),r);n.close(i);if(n._isRootItem(i)&&n.options.orientation=="horizontal")i=i.prevAll(p+me).eq(0)}if(!i.length)i=n.wrapper.children(".k-item").last();n._moveHover(e,i);return i},_itemDown:function(e,t,n){var i=this,r;if(!t)if(!n||e.hasClass(ae))return;else{i.open(e);r=i._childPopupElement(e).children().first()}else r=e.nextAll(p+me).eq(0);if(!r.length&&e.length)r=e.parent().children().first();else if(!e.length)r=i.wrapper.children(".k-item").first();i._moveHover(e,r);return r},_itemUp:function(e,t){var n=this,i;if(!t)return;else i=e.prevAll(p+me).eq(0);if(!i.length&&e.length)i=e.parent().children().last();else if(!e.length)i=n.wrapper.children(".k-item").last();n._moveHover(e,i);return i},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var n=e.parent();var i=n.hasClass(k)?t.options.orientation=="horizontal":false;var r=i?"scrollLeft":"scrollTop";var o=i?P._outerWidth:P._outerHeight;var u=n[r]();var c=o(e);var a=e[0][i?"offsetLeft":"offsetTop"];var f=o(n);var s=n.siblings(he);var l=s.length?o(s.first()):0;var p;if(u+f<a+c+l)p=a+c-f+l;else if(u>a-l)p=a-l;if(!isNaN(p)){var d={};d[r]=p;n.finish().animate(d,"fast","linear",function(){t._toggleScrollButtons(n,s.first(),s.last(),i)})}}},_itemEsc:function(e,t){var n=this,i,r;if(!t)return e;else{i=e.parent().closest(".k-item");if(i.length===0){r=e.closest(".k-group").data("group");i=n.wrapper.find(".k-item[data-groupparent='"+r+"']")}n.close(i);n._moveHover(e,i)}return i},_childPopupElement:function(e){var t=e.find(".k-menu-group");var n=this._overflowWrapper();if(!t.length&&n)t=Ue(e,n);return t},_triggerEvent:function(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var t=this,n=y(P.eventTarget(e)).closest(x);if(n.hasClass(ae))return;setTimeout(function(){t._moveHover([],n);if(n.children(".k-content")[0])n.parent().closest(".k-item").removeClass(oe)},200)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={open:{effects:{}},close:{hide:true,effects:{}}}},_dataSource:function(e){var t=this,n=e?e.dataSource:t.options.dataSource;if(!n)return;n=c(n)?{data:n}:n;t._unbindDataSource();if(!n.fields)n.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}];t.dataSource=i.create(n);t._bindDataSource();t.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=this.refresh.bind(this);this._errorHandler=this._error.bind(this);this.dataSource.bind(G,this._refreshHandler);this.dataSource.bind(j,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;if(e){e.unbind(G,this._refreshHandler);e.unbind(j,this._errorHandler)}},_error:function(){},findByUid:function(e){var t=this._overflowWrapper()||this.element;return t.find("["+P.attr("uid")+"="+e+"]")},refresh:function(e){var t=this;var n=e.node;var i=e.action;var r=n?t.findByUid(n.uid):t.element;var o=e.items;var a=e.index;var s=t._updateItem.bind(t);var l=t._removeItem.bind(t);if(i=="add")t._appendItems(o,a,r);else if(i=="remove")o.forEach(l);else if(i=="itemchange")o.forEach(s);else if(i==="itemloaded")t.append(e.items,r);else this._initData();this.trigger(ke,{item:r,dataItem:n})},_appendItems:function(e,t,n){var i=this;var r=n.find(p).eq(t);if(r.length)i.insertBefore(e,r);else i.append(e,n)},_removeItem:function(e){var t=this;var n=t.findByUid(e.uid);t.remove(n)},_updateItem:function(e){var t=this;var n=t.findByUid(e.uid);var i=n.next();var r=e.parentNode();t.remove(n);if(i.length)t.insertBefore(e,i);else t.append(e,r&&t.findByUid(r.uid))},_accessors:function(){var e=this,t=e.options,n,i,r,o=e.element;for(n in Ce){i=t[Ce[n]];r=o.attr(P.attr(n+"-field"));if(!i&&r)i=r;if(!i)i=n;if(!c(i))i=[i];t[Ce[n]]=i}},_fieldAccessor:function(e){var t=this.options[Ce[e]]||[],n=t.length,i="(function(item) {";if(n===0)i+="return item['"+e+"'];";else{i+="var levels = ["+y.map(t,function(e){return"function(d){ return "+P.expr(e)+"}"}).join(",")+"];";i+="if(item.level){return levels[Math.min(item.level(), "+n+"-1)](item);}else";i+="{return levels["+n+"-1](item)}"}i+="})";return i},_templates:function(){var e=this,t=e.options,n=e._fieldAccessor.bind(e);if(t.template&&typeof t.template==_e)t.template=d(t.template);else if(!t.template)t.template=d("<span class='k-menu-link-text'>"+"# var text = "+n("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #</span>");e.templates={content:d("#var contentHtml = "+n("content")+"(item);#"+"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:d("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:d("# var url = "+n("url")+"(item); #"+"# var imageUrl = "+n("imageUrl")+"(item); #"+"# var imgAttributes = "+n("imageAttr")+"(item);#"+"# var tag = url ? 'a' : 'span' #"+"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>"+"# if (imageUrl) { #"+"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />"+"# } #"+"#= sprite(item) #"+"#= data.menu.options.template(data) #"+"#= arrow(data) #"+"</#= tag #>"),item:d("#var contentHtml = "+n("content")+"(item);#"+"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+P.attr("uid")+"='#= item.uid #' "+"# if(item.items && item.items.length > 0) { # "+"# if(item.expanded) { # "+" aria-expanded='true'"+"# } else { #"+" aria-expanded='false'"+"# } #"+"# } #"+">"+"#= itemWrapper(data) #"+"#if (item.hasChildren || item.items) { #"+"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl || contentHtml) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),scrollButton:d("<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>"+"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>"+"</span>"),arrow:d("<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>"),sprite:d("# var spriteCssClass = "+n("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:d("")}},renderItem:function(e){var t=this;e=_({menu:t,group:{}},e);var n=t.templates.empty,i=e.item;return t.templates.item(_(e,{sprite:t.templates.sprite,itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:i.items||i.content||i[t.options.dataContentField[0]]?t.templates.arrow:n,subGroup:t.renderGroup},ye))},renderGroup:function(e){var t=this;var n=t.templates||e.menu.templates;return n.group(_({renderItems:function(e){var t="",n=0,i=e.items,r=i?i.length:0,o=_({length:r},e.group);for(;n<r;n++)t+=e.menu.renderItem(_(e,{group:o,item:_({index:n},i[n])}));return t}},e,ye))},renderContent:function(e){return e.menu.templates.content(_(e,ye))}}),Ke=Je.extend({init:function(e,t){var n=this;Je.fn.init.call(n,e,t);n.element.attr(be,"menu");n._marker=P.guid().substring(0,8);n.target=y(n.options.target);n._popup();n._wire()},_initOverflow:function(e){var t=this;if(e.scrollable&&!t._overflowWrapper()){t._openedPopups={};t._popupsWrapper=(t.element.parent().is(w)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent();if(t.options.orientation=="horizontal")qe(t.element);if(e.appendTo){e.appendTo=y(e.appendTo);e.appendTo.append(t._popupsWrapper)}t._initialHeight=t.element[0].style.height;t._initialWidth=t.element[0].style.width}},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,copyAnchorStyles:true,target:"body"},events:[H,E,B,R,M],setOptions:function(e){var t=this;Je.fn.setOptions.call(t,e);t.target.off(t.showOn+g+t._marker,t._showProxy);if(t.userEvents)t.userEvents.destroy();t.target=y(t.options.target);if(e.orientation&&t.popup.wrapper[0])t.popup.element.unwrap();t._wire();Je.fn.setOptions.call(this,e)},destroy:function(){var e=this;e.target.off(e.options.showOn+g+e._marker);ne.off(P.support.mousedown+g+e._marker,e._closeProxy);if(e.userEvents)e.userEvents.destroy();Je.fn.destroy.call(e)},open:function(e,t){var n=this;e=y(e)[0];if(u(n.element[0],y(e)[0])||n._itemHasChildren(y(e)))Je.fn.open.call(n,e);else if(n._triggerEvent({item:n.element,type:H})===false){if(n.popup.visible()&&n.options.filter){n.popup.close(true);n.popup.element.kendoStop(true)}if(t!==b){var i=n._overflowWrapper();if(i){var r=i.offset();e-=r.left;t-=r.top}n.popup.wrapper.hide();n._configurePopupScrolling(e,t);n.popup.open(e,t)}else{n.popup.options.anchor=(e?e:n.popup.anchor)||n.target;n.popup.element.kendoStop(true);n._configurePopupScrolling();n.popup.open()}ne.off(n.popup.downEvent,n.popup._mousedownProxy);ne.on(P.support.mousedown+g+n._marker,n._closeProxy);n.element.trigger("focus")}return n},_configurePopupScrolling:function(e,t){var n=this;var i=n.popup;var r=n.options.orientation=="horizontal";if(n.options.scrollable){n._wrapPopupElement(i);i.element.parent().css({position:"",height:""});i.element.css({visibility:"hidden",display:"",position:""});if(r)n._setPopupWidth(i,isNaN(e)?b:{isFixed:true,x:e,y:t});else n._setPopupHeight(i,isNaN(e)?b:{isFixed:true,x:e,y:t});i.element.css({visibility:"",display:"none",position:"absolute"});n._initPopupScrollButtons(i,r,true);i.element.siblings(he).hide()}},_setPopupWidth:function(e,t){var n=e.element;var i=n.add(n.parent(w));i.width(this._initialWidth||"");var r=e._location(t);var o=y(window).width();var u=r.width;var a=Math.max(r.left,0);var s=t?0:Fe(this._overflowWrapper()[0],"scrollLeft");var l=P.getShadows(n);var p=o-l.left-l.right;var c=p+s>u+a;if(!c)i.css({overflow:"hidden",width:p-a+s+"px"})},close:function(){var e=this;if(u(e.element[0],y(arguments[0])[0])||e._itemHasChildren(arguments[0]))Je.fn.close.call(e,arguments[0]);else if(e.popup.visible())if(e._triggerEvent({item:e.element,type:E})===false){e._removeHoverItem();e.element.find("#"+e._ariaId).removeAttr("id");e.popup.close();ne.off(P.support.mousedown+g+e._marker,e._closeProxy);e.unbind(M,e._closeTimeoutProxy);e.popup.options.anchor.focus()}},_showHandler:function(e){var t=e,n,i=this,r=i.options,o=P.support.mobileOS?y(t.target):y(t.currentTarget);if(e.event){t=e.event;t.pageX=e.x.location;t.pageY=e.y.location}if(u(i.element[0],e.relatedTarget||e.target))return;i._eventOrigin=t;t.preventDefault();t.stopImmediatePropagation();i.element.find("."+oe).removeClass(oe);if(r.filter&&o.is(r.filter)||!r.filter)if(r.alignToAnchor){i.popup.options.anchor=t.currentTarget;i.open(t.currentTarget)}else{i.popup.options.anchor=t.currentTarget;if(i._targetChild){n=i.target.offset();i.open(t.pageX-n.left,t.pageY-n.top)}else i.open(t.pageX,t.pageY)}},_closeHandler:function(e){var t=this,n=y(e.relatedTarget||e.target),i=n.closest(t.target.selector)[0]==t.target[0],r=n.closest(p),o=t._itemHasChildren(r),a=t._overflowWrapper(),s=u(t.element[0],n[0])||a&&u(a[0],n[0]);t._eventOrigin=e;var l=e.which!==3;if(t.popup.visible()&&(l&&i||!i)&&(t.options.closeOnClick&&!o&&s||!s))if(s){this.unbind(M,this._closeTimeoutProxy);t.bind(M,t._closeTimeoutProxy)}else t.close()},_wire:function(){var e=this,t=e.options,n=e.target;e._preventProxy=null;e._showProxy=e._showHandler.bind(e);e._closeProxy=e._closeHandler.bind(e);e._closeTimeoutProxy=e.close.bind(e);if(n[0]){if(P.support.mobileOS&&t.showOn=="contextmenu"){e.userEvents=new P.UserEvents(n,{filter:t.filter,allowSelection:false});e._preventProxy=function(){return false};e.userEvents.bind("hold",e._showProxy)}if(t.filter)n.on(t.showOn+g+e._marker,t.filter,e._preventProxy||e._showProxy);else n.on(t.showOn+g+e._marker,e._preventProxy||e._showProxy)}},_triggerEvent:function(e){var t=this,n=y(t.popup.options.anchor)[0],i=t._eventOrigin;t._eventOrigin=b;return t.trigger(e.type,_({type:e.type,item:e.item||this.element[0],target:n},i?{event:i}:{}))},_popup:function(){var e=this;var t=e._overflowWrapper();e._triggerProxy=e._triggerEvent.bind(e);e.popup=e.element.addClass("k-context-menu").kendoPopup({autosize:e.options.orientation==="horizontal",anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy,appendTo:t||e.options.appendTo,close:!t?y.noop:function(e){y(Be(e.sender.element,t)).each(function(e,t){var n=t.data(ie);if(n)n.close(true)})}}).data(ie);e._targetChild=u(e.target[0],e.popup.element[0])},_moveHoverToRoot:function(e,t){this._moveHover(e,t);this.close()},_focus:function(e){var t=this._oldHoverItem=this._hoverItem()||[];Je.fn._focus.call(this,e);if(o()===e.currentTarget)this._moveHover(t,this.wrapper.children().first())}});return t.plugin(Je),t.plugin(Ke),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.menu.min.js.map
