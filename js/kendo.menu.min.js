/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.popup.js"),require("kendo.data.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.popup.min","kendo.data.min","kendo.icons.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendomenu=e.kendomenu||{},e.kendomenu.js={}))}(this,(function(e){!function(e,t){var n=window.kendo,o=n.ui,i=n._activeElement,r=n.support.touch&&n.support.mobileOS,a=Array.isArray,s=n.data.HierarchicalDataSource,l="mousedown",p="click",c=e.extend,u=e.each,d=n.htmlEncode,h=n.template,f=n.keys,m=o.Widget,v=/^(ul|a|div)$/i,g=".kendoMenu",_="open",k="k-menu",w="k-link k-menu-link",b=".k-link",C=".k-menu-expand-arrow",y="k-last",P="close",T="timer",x="k-first",O="k-image",I="select",S="zIndex",W="activate",E="deactivate",A="touchstart"+g+" MSPointerDown"+g+" pointerdown"+g,H=n.support.pointers,F=n.support.msPointers,M=F||H,B="change",D="error",N=n.support.touch?"touchstart":"",$=H?"pointerover":F?"MSPointerOver":"mouseenter",R=H?"pointerout":F?"MSPointerOut":"mouseleave",z="DOMMouseScroll"+g+" mousewheel"+g,U=n.support.resize+g,L="group",j="groupparent",G=e(document.documentElement),q="kendoPopup",K="k-hover",J="k-focus",X="k-disabled",Y=".k-menu",V=".k-animation-container",Z=".k-child-animation-container",Q=".k-menu-popup ,"+V,ee=":not(.k-list) > .k-item:not([role='treeitem'])",te=".k-item",ne=".k-item:not(.k-disabled)",oe=":not(.k-item.k-separator):visible",ie=".k-menu-scroll-button",re={2:1,touch:1},ae="dataBound",se="aria-expanded",le="role",pe={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",icon:"dataIconField",iconClass:"dataIconClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},ce={wrapperCssClass:function(e,t){var n="k-item k-menu-item",o=t.index;return t.separator&&(n+=" k-separator"),!1===t.enabled&&(n+=" k-disabled"),e.firstLevel&&0===o&&(n+=" k-first"),o==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(n+=" "+t.attr.class),t.selected&&(n+=" k-selected"),n},itemCssAttributes:function(e){var t="";var n=e.attr||{};for(var o in n)n.hasOwnProperty(o)&&"class"!==o&&(t+=o+'="'+n[o]+'" ');return t},imageCssAttributes:function(e){var t="";var n=e&&e.toJSON?e.toJSON():{};for(var o in n.class?n.class+=" "+O:n.class=O,n)n.hasOwnProperty(o)&&(t+=o+'="'+n[o]+'" ');return t},contentCssAttributes:function(e){var t="";var n=e.contentAttr||{};var o="k-content k-menu-group k-menu-group-md";for(var i in n.class?n.class+=" "+o:n.class=o,n)n.hasOwnProperty(i)&&(t+=i+'="'+n[i]+'" ');return t},textClass:function(){return w},groupAttributes:function(e){return!0!==e.expanded?`${n.attr("style-display")}="none"`:""},groupCssClass:function(){return"k-menu-group k-menu-group-md"},groupWrapperCssClass:function(){return"k-menu-popup"},content:function(e){return e.content?e.content:"&nbsp;"}};function ue(t,n){try{return e.contains(t,n)}catch(e){return!1}}function de(t){(t=e(t)).attr(n.attr("omit-wrap"))||(t.addClass("k-item k-menu-item").children("img").addClass(O),t.children("a").addClass(w).children("img").addClass(O),t.filter(":not([disabled])"),t.filter(".k-separator").removeClass("k-menu-item").addClass("k-separator-horizontal").empty().append("&nbsp;"),t.filter("li[disabled]").addClass(X).prop("disabled",!1).attr("aria-disabled",!0),t.filter("[role]").length||t.attr(le,"menuitem"),t.children(b).length||t.contents().filter((function(){return!(this.nodeName.match(v)||3===this.nodeType&&!n.trim(this.nodeValue))})).wrapAll("<span class='"+w+"' role='none'></span>").filter((function(e,t){return 3===t.nodeType})).wrap("<span class='k-menu-link-text' role='none'></span>"),he(t),me(t))}function he(t){(t=e(t)).find("> .k-link > .k-menu-expand-arrow > [class*=k-i-caret]:not(.k-sprite),> .k-link > .k-menu-expand-arrow > [class*=k-svg-i-caret]:not(.k-sprite)").parent().remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-caret]:not(.k-sprite))),.k-link:not(:has([class*=k-svg-i-caret]:not(.k-sprite)))").each((function(){var t=e(this);t.append(`<span aria-hidden='true' class='k-menu-expand-arrow'>${n.ui.icon({icon:fe(t)})}</span>`)}))}function fe(e){var t=e.parent().parent(),o=n.support.isRtl(t);return t.hasClass(k+"-horizontal")?"caret-alt-down":o?"caret-alt-left":"caret-alt-right"}function me(t){(t=e(t)).filter(".k-first:not(:first-child)").removeClass(x),t.filter(".k-last:not(:last-child)").removeClass(y),t.filter(":first-child").addClass(x),t.filter(":last-child").addClass(y)}function ve(e){if(e&&e.length)for(var t in e){var n=e.eq(t);n.find("ul").length?n.attr("aria-haspopup",!0):n.removeAttr("aria-haspopup")}}function ge(e){if(!e.hasClass(k))return e.parentsUntil("."+k,"li")}function _e(t,o){var i=function(e){var t=e.select,o=n.isFunction;if(t&&o(t))return t;return null}(o);i&&function(t,n){e(t).children(".k-link").data({selectHandler:n})}(t,i),o.items&&e(t).children("div").children("ul").children("li").each((function(e){_e(this,o.items[e])}))}function ke(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function we(e){var t=e?"[data-group='"+e+"']":"[data-group]";return"ul"+t+",div"+t}function be(t,n){var o=t.find(ke());var i=[];return o.each((function(o,r){var a=(r=e(r)).data(j);var s=t;for(;a;)(s=n.find(we(a)+":visible")).length&&i.push(s),(r=s.find(ke()))&&r.length&&r.length>1?(i.push(...be(s,n)),a=null):a=r.data(j)})),i}function Ce(t,n){var o=t.data(L);return o?n.find(ke(o)):e([])}function ye(t,n){var o=t.data(j);return o?n.children(V).find(we(o)):e([])}function Pe(e,t){var n=0;var o=e.parentNode;for(;o&&!isNaN(o[t]);)n+=o[t],o=o.parentNode;return n}function Te(e){return M&&e.originalEvent&&e.originalEvent.pointerType in re}function xe(e){e.contents().filter((function(){return"LI"!=this.nodeName})).remove()}var Oe=n.ui.DataBoundWidget.extend({init:function(e,t){var o=this;m.fn.init.call(o,e,t),e=o.wrapper=o.element,t=o.options,o._accessors(),o._templates(),o._dataSource(),o._updateClasses(),o._wrapGroups(),o._animations(t),o.nextItemZIndex=100,o._tabindex(),o._initOverflow(t),o._attachMenuEventsHandlers(),t.openOnClick&&(o.clicked=!1),e.attr(le,"menubar"),e[0].id?o._ariaId=n.format("{0}_mn_active",e[0].id):o._ariaId=n.format("{0}_mn_active",n.guid()),n.notify(o)},events:[_,P,W,E,I,ae],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:null,autoSize:!1,iconPosition:"before"},_initData:function(){var e=this;e.dataSource&&(e.element.empty(),e.append(e.dataSource.view(),e.element))},_attachMenuEventsHandlers:function(){var t=this;var n=t.element;var o=t.options;var i=t._overflowWrapper();t._checkActiveProxy=t._checkActiveElement.bind(t),(i||n).on(A,te,t._focusHandler.bind(t)).on(p+g,".k-item.k-disabled",!1).on(p+g,te,t._click.bind(t)).on(A+" "+l+g,".k-content",t._preventClose.bind(t)).on($+g,ne,t._mouseenter.bind(t)).on(R+g,ne,t._mouseleave.bind(t)).on(l+g,ne,t._mousedown.bind(t)).on(N+g+" "+$+g+" "+R+g+" "+l+g+" "+p+g,".k-item:not(.k-disabled) > .k-link",t._toggleHover.bind(t)),n.on("keydown"+g,t._keydown.bind(t)).on("focus"+g,t._focus.bind(t)).on("focus"+g,".k-content",t._focus.bind(t)).on("blur"+g,t._removeFocusItem.bind(t)).on("blur"+g,"[tabindex]",t._checkActiveProxy),i&&i.on(R+g,Q,t._mouseleavePopup.bind(t)).on($+g,Q,t._mouseenterPopup.bind(t)),o.openOnClick&&(t._documentClickHandler=t._documentClick.bind(t),e(document).on("click",t._documentClickHandler))},_detachMenuEventsHandlers:function(){var t=this;var n=t._overflowWrapper();n&&n.off(g),t.element.off(g),t._documentClickHandler&&e(document).off("click",t._documentClickHandler)},_getNeededSpaceForChildren:function(e,t){const o=e.children();let i=0;return o.length>0&&o.each(((e,o)=>{i+=t?n._outerWidth(o):n._outerHeight(o)})),i},_initOverflow:function(t){var o=this;var i="horizontal"==t.orientation;var r,a;const s=n.support.isRtl(o.wrapper);if(o._openedPopups={},t.scrollable){o._scrollWrapper=o.element.wrap(`<div class="k-menu-scroll-wrapper${"vertical"===t.orientation?" k-menu-scroll-wrapper-vertical":""}"></div>`).parent(),i&&xe(o.element);let n=i?s?"right":"left":"up";let c=i?s?"left":"right":"down";switch(r=e(o.templates.scrollButton({direction:n})),a=e(o.templates.scrollButton({direction:c})),t.scrollable.scrollButtonsPosition){case"start":a.prependTo(o._scrollWrapper),r.prependTo(o._scrollWrapper);break;case"end":r.appendTo(o._scrollWrapper),a.appendTo(o._scrollWrapper);break;default:r.prependTo(o._scrollWrapper),a.appendTo(o._scrollWrapper)}o._initScrolling(o.element,r,a,i,s);var l=o.element.outerWidth();var p=o.element[0].style.width;p="auto"===p?"":p,i&&e(window).on(U,(function(){setTimeout((function(){o._setOverflowWrapperWidth(l,p),o._toggleScrollButtons(o.element,r,a,i)}),300)})),o._setOverflowWrapperWidth(l,p),o._toggleScrollButtons(o.element,r,a,i)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n=this;var o=n._scrollWrapper.css("width");n._scrollWrapper.css({width:""});var i=n._scrollWrapper.outerWidth();n._scrollWrapper.css({width:o});var r=n.element.outerWidth();var a=n.element[0].offsetWidth-n.element[0].clientWidth;if(r!=i&&i>0){var s=t?Math.min(e,i):i;n.element.width(s-a),n._scrollWrapper.width(s)}},_reinitOverflow:function(e){var t=this;(e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&(e.scrollable.distance!=t.options.scrollable.distance||e.scrollable.scrollButtonsPosition!=t.options.scrollable.scrollButtonsPosition)||e.orientation!=t.options.orientation)&&(t._detachMenuEventsHandlers(),t._destroyOverflow(),t._initOverflow(e),t._attachMenuEventsHandlers())},_destroyOverflow:function(){var n=this;var o=n._overflowWrapper();o&&(o.off(g),o.find(ie).off(g).remove(),o.children(V).each((function(t,n){var i=e(n).find(".k-child-animation-container > .k-menu-popup");i.off(z);var r=Ce(i,o);r.length&&r.append(n)})),o.find(ke()).removeAttr("data-groupparent"),o.find(we()).removeAttr("data-group"),n.element.off(z),e(window).off(U),o.contents().unwrap(),n._scrollWrapper=n._popupsWrapper=n._openedPopups=t)},_initScrolling:function(t,o,i,a,s){var l=this;var p=l.options.scrollable;var c=l.isNumeric(p.distance)?p.distance:50;var u=c/2;var d="-="+c;var h="+="+c;var f="-="+2*c;var m="+="+2*c;var v=!1;var _=!1;var k=function(e){var n=a?{scrollLeft:e}:{scrollTop:e};t.finish().animate(n,"fast","linear",(function(){v&&k(e)})),l._toggleScrollButtons(t,o,i,a,s)};var w=function(e){v||_||(k(e.data.direction),v=!0)};var b=function(n){var p=a?{scrollLeft:n.data.direction}:{scrollTop:n.data.direction};_=function(e){var t=e.originalEvent;return r&&/touch/i.test(t.type||"")}(n)||Te(n),t.stop().animate(p,"fast","linear",(function(){_?(l._toggleScrollButtons(t,o,i,a,s),v=!0):e(n.currentTarget).trigger($)})),v=!1,n.stopPropagation(),n.preventDefault()};o.on($+g,{direction:s&&a?h:d},w).on(n.eventMap.down+g,{direction:s&&a?m:f},b),i.on($+g,{direction:s&&a?d:h},w).on(n.eventMap.down+g,{direction:s&&a?f:m},b),o.add(i).on(R+g,(function(){t.stop(),v=!1,l._toggleScrollButtons(t,o,i,a,s)})),t.on(z,(function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var n=function(e){var t=0;return e.wheelDelta&&(t=(t=-e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=Math.round(e.detail/3)),t}(e.originalEvent);var r=(n>0?"+=":"-=")+Math.abs(n)*u;var s=a?{scrollLeft:r}:{scrollTop:r};l._closeChildPopups(t),t.finish().animate(s,"fast","linear",(function(){l._toggleScrollButtons(t,o,i,a)})),e.preventDefault()}}))},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_toggleScrollButtons:function(e,t,o,i){const r=this._getNeededSpaceForChildren(e,i);const a=r>(i?n._outerWidth(e):n._outerHeight(e));const s=e.closest(".k-popup").data("kendoPopup");t.toggle(a),o.toggle(a),!a&&i&&(e?.height(r),e?.css("overflow","visible"),s?.element.height(r),s?.wrapper.height(r),s?.position());const l=i?n.scrollLeft(e):e.scrollTop();const p=e.is(Q)||e.parent().is(Z);let c=Math.abs(l-(e[0].scrollWidth-e[0].offsetWidth))<=1;i||(c=Math.abs(l-(e[0].scrollHeight-e[0].offsetHeight))<=1),p&&(c=Math.abs(l-(e[0].scrollHeight-e[0].offsetHeight)-1)<=1),t.toggleClass(X,0===Math.floor(l)),o.toggleClass(X,c)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=c(!0,t,e.animation),"dataSource"in e&&this._dataSource(e),this._updateClasses(),this._wrapGroups(),this._reinitOverflow(e),m.fn.setOptions.call(this,e)},destroy:function(){var e=this;m.fn.destroy.call(e),e._detachMenuEventsHandlers(),e._destroyOverflow(),n.destroy(e.element)},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},attemptGetItem:function(t){t=t||this.element;var n=this.element.find(t);var o=this._overflowWrapper();return n.length||t===this.element?n:o?o.find(t):e()},append:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.length?this._childPopupElement(t).children().eq(0):null);return u(n.items,(function(t){n.group.append(this),he(this),_e(this,e[t]||e)})),he(t),me(n.group.find(".k-first, .k-last").add(n.items)),ve(ge(n.group)),this},insertBefore:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.parent());return u(n.items,(function(n){t.before(this),he(this),me(this),_e(this,e[n]||e)})),me(t),this},insertAfter:function(e,t){t=this.attemptGetItem(t);var n=this._insert(e,t,t.parent());return u(n.items,(function(n){t.after(this),he(this),me(this),_e(this,e[n]||e)})),me(t),this},_insert:function(t,o,i){var r,s,l=this;o&&o.length||(i=l.element);var p=e.isPlainObject(t)||t instanceof n.data.ObservableObject,u={firstLevel:i.hasClass(k),horizontal:i.hasClass(k+"-horizontal"),expanded:!0,length:i.children().length};return o&&!i.length&&(i=e(l.renderGroup({group:u,options:l.options})).css("display","none").appendTo(o),n.applyStylesFromKendoAttributes(i,["display"])),p||a(t)||t instanceof n.data.ObservableArray?r=e(e.map(p?[t]:t,(function(t,o){if("string"==typeof t)return e(t).get();{let i=e(l.renderItem({group:u,item:c(t,{index:o})}));return n.applyStylesFromKendoAttributes(i,["display"]),i.get()}}))):(s=(r="string"==typeof t&&"<"!=t.charAt(0)?l.element.find(t):e(t)).find("> ul").addClass("k-menu-group k-menu-group-md").attr(le,"menu"),(r=r.filter("li")).add(s.find("> li")).each((function(){de(this)}))),{items:r,group:i=i.is(Q)?i.find(".k-menu-group").first():i}},remove:function(e){var t=(e=this.attemptGetItem(e)).parentsUntil(this.element,ee),n=e.parent("ul:not(.k-menu)");if(e.remove(),n&&!n.children(ee).length){var o=ge(n);var i=n.parent(V);i.length?i.remove():n.remove(),ve(o)}return t.length&&(he(t=t.eq(0)),me(t)),this},_openAfterLoad:function(e,t){var n=this;t.loaded()?(n.open(e),n._loading=!1):t.one(B,(function(){e.find(C).children().removeClass("k-i-loading"),n._loading&&(n.open(e),n._loading=!1)}))},_createPopup:function(e,t){let o=this;let i=o._overflowWrapper();return e.kendoPopup(c({activate:function(){o._triggerEvent({item:this.wrapper.parent(),type:W})},deactivate:function(e){o._closing=!1,e.sender.element.removeData("targetTransform").css({opacity:""}),o._triggerEvent({item:this.wrapper.parent(),type:E})},open:o._popupOpen.bind(o),close:function(e){o._closing=e.sender.element;var t=e.sender.wrapper.parent();if(i){var a=e.sender.element.data(L);a&&(t=(i||o.element).find(ke(a))),e.sender.wrapper.children(ie).hide()}o._triggerEvent({item:t[0],type:P})?e.preventDefault():(t.css(S,t.data(S)),t.removeData(S),o.options.scrollable&&t.parent().siblings(ie).css({zIndex:""}),(r||M||n.support.mouseAndTouchPresent)&&t.removeClass(K));e.sender.element.find("."+J).length&&o._removeFocusItem()}},t)).data(q)},open:function(o){var i=this;var r=i.options;var a="horizontal"==r.orientation;var s=r.direction;var l=n.support.isRtl(i.wrapper);var p=i._overflowWrapper();o=(p||i.element).find(o);var u=i.dataSource&&i.dataSource.getByUid(o.data(n.ns+"uid"));if(u&&u.hasChildren&&!u.loaded()&&!i._loading)return i._loading=!0,o.find(C).children().addClass("k-i-loading"),u.load(),void i._openAfterLoad(o,u);/^(top|bottom|default)$/.test(s)&&(s=l?a?(s+" left").replace("default","bottom"):"left":a?(s+" right").replace("default","bottom"):"right");var d=">.k-popup:visible,>.k-animation-container > .k-child-animation-container > .k-menu-popup:visible";var h=function(){e(this).data(q)&&i.close(e(this).closest("li.k-item"),!0)};return o.siblings().find(d).each(h),p&&o.find(d).each(h),i.options.openOnClick&&(i.clicked=!0),o.each((function(){var o=e(this);clearTimeout(o.data(T)),clearTimeout(i._timerTimeout),i._timerTimeout=setTimeout((function(){var u=o.find("> .k-menu-popup, > .k-animation-container > .k-child-animation-container > .k-menu-popup").filter(":hidden").first();var d;var h;if(!u[0]&&p&&(u=(h=i._getPopup(o))&&h.element),!u.is(":visible")&&u[0]&&!1===i._triggerEvent({item:o[0],type:_})){const h=u.children(".k-menu-scroll-wrapper").length?u.children(".k-menu-scroll-wrapper"):u;const _=i._groupElementsInitialSpace.find((({element:e})=>h.children("ul").is(e)));let y="";_&&Object.keys(_).length>0&&(_.height>0&&(y=_.height),i._popupToBeOpened=_,_.inlineHeight?e(_.element).css({height:_.inlineHeight}):e(_.element).css({height:""}));const P=o[0].getBoundingClientRect();const T=(_&&_.inlineHeight||y)<=window.innerHeight-P.top;const x=r.scrollable||r.autoSize;const O=r.autoSize&&!T?"auto":"visible";u.css({maxHeight:x?"":y,overflow:O}),o.data(S,o.css(S));var f=i.nextItemZIndex++;o.css(S,f),i.options.scrollable&&o.parent().siblings(ie).css({zIndex:++f}),d=u.data(q);var m,v=o.parent().hasClass(k),g=v&&a,w=function(e,t,o){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",o?"right":"left"],position:["top",o?"right":"left"]};return/left|right/.test(e)?(i.origin=["top",e],i.position[1]=n.directions[e].reverse):(i.origin[0]=e,i.position[0]=n.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}(s,v,l),b=r.animation.open.effects,C=b!==t?b:"slideIn:"+function(e,t){return(e=e.split(" ")[!t+0]||e).replace("top","up").replace("bottom","down")}(s,v);m=null!==r.popupCollision?r.popupCollision:g?"fit":"fit flip",d?((d=u.data(q)).options.origin=w.origin,d.options.position=w.position,d.options.animation.open.effects=C):(d=i._createPopup(u,{origin:w.origin,position:w.position,collision:m,anchor:o,appendTo:p||o,animation:{open:c(!0,{effects:C},r.animation.open),close:r.animation.close}}),u.closest(V).removeAttr(le)),u.removeAttr("aria-hidden"),o.attr(se,!0),i._configurePopupOverflow(d,o),d._hovered=!0,d.open(),i._initPopupScrolling(d)}}),i.options.hoverDelay),o.data(T,i._timerTimeout)})),i},_configurePopupOverflow:function(e,t){if(this.options.scrollable&&(this._wrapPopupElement(e),!t.attr("data-groupparent"))){var n=(new Date).getTime();t.attr("data-groupparent",n),e.element.attr("data-group",n)}},_wrapPopupElement:function(e){e.element.parent().is(Z)||(e.wrapper=n.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(t,o,i){var r=this;const a=t.element;const s=a.children(".k-menu-scroll-wrapper");const l=s.length?e(s.children("ul")):e(a.children("ul"));let p=r._getNeededSpaceForChildren(l,o);let c=!1;c=o?n._outerWidth(a)<p:n._outerHeight(a)<p,r.options.scrollable&&(a[0].scrollHeight>a[0].offsetHeight||c)?r._initPopupScrollButtons(t,o,i):s.length&&(s.find(ie).remove(),l.unwrap())},_scrollButtonsMouseEnter:function(){let t=this;let n=t.popup;let o=t._overflowWrapper();e(be(n.element,o)).each((function(e,n){let i=o.find(ke(n.data(L)));t.close(i)}))},_scrollButtonsMouseLeave:function(){let t=this;let n=t.popup;setTimeout((function(){e.isEmptyObject(t._openedPopups)&&t._closeParentPopups(n.element)}),30)},_initPopupScrollButtons:function(t,o,i){let r=this,a=t.wrapper.find(ie),s=t.element,l=s.children(".k-menu-scroll-wrapper"),p=s.children("ul");r._denyOpening=!0,!p.length&&l.length&&(p=l.children("ul")),o||p.css({overflow:"hidden"});const c=l.length>0?l:p.wrap(`<div class="k-menu-scroll-wrapper${o?"":" k-menu-scroll-wrapper-vertical"}"></div>`).parent();if(a.length)a.is(":hidden")&&a.show();else{let n=e(r.templates.scrollButton({direction:o?"left":"up"}));let s=e(r.templates.scrollButton({direction:o?"right":"down"}));a=n.add(s),a.css({width:!o&&"100%"}),n.prependTo(c),s.appendTo(c),r._initScrolling(p,n,s,o),i||a.on($+g,(function(){let n=r._overflowWrapper();e(be(t.element,n)).each((function(e,t){let o=n.find(ke(t.data(L)));r.close(o)}))})).on(R+g,(function(n){setTimeout((function(){e.isEmptyObject(r._openedPopups)&&!t.element.find(n.relatedTarget).length&&r._closeParentPopups(t.element)}),30)}))}if(a.length>0&&!o){const e=r._popupToBeOpened?r._popupToBeOpened.inlineHeight:"";p.css({height:""!==e?e:n._outerHeight(t.wrapper)-2*n._outerHeight(a)+"px"})}r._toggleScrollButtons(p,a.first(),a.last(),o),r._denyOpening=!1},_popupOpen:function(e){this._keyTriggered||e.sender.element.find("."+J).removeClass(J),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(t,n){let o=t.element,i=o.add(o.parent(Z));i.height(o.hasClass(k)&&this._initialHeight||"");let r=t._location(n),a=e(window).height(),s=r.height,l=n?0:Math.max(r.top,0),p=n?0:Pe(this._overflowWrapper()[0],"scrollTop"),c=a+(window.innerHeight-a);if(!(Math.floor(c+p)>=Math.floor(s+l))){let e=.05*a,t=Math.min(c,c-l-e+p);i.css({height:t+"px"}),o.css({overflow:"hidden"})}},close:function(t,n){var o=this;var i=o._overflowWrapper();var r=i||o.element;(t=r.find(t)).length||(t=r.find(">.k-item"));return t.each((function(){var r=e(this);r.attr(se,!1),!n&&o._isRootItem(r)&&(o.clicked=!1),clearTimeout(r.data(T)),r.data(T,setTimeout((function(){var n=o._getPopup(r);if(n&&(l=r.data(j),!i||!l||!o._openedPopups[l.toString()]||o._forceClose)){if(!o._forceClose&&(a=n.element,s=!1,e.isEmptyObject(o._openedPopups)||e(be(a,i)).each((function(e,t){return!(s=!!o._openedPopups[t.data(L).toString()])})),s))return;n.close(),n.element.attr("aria-hidden",!0),i&&o._forceClose&&t.last().is(r[0])&&delete o._forceClose}var a,s;var l}),o.options.hoverDelay))})),o},_getPopup:function(e){var t=e.find(".k-menu-popup:not(.k-list-container):not(.k-calendar-container):visible").first().data(q);var n=this._overflowWrapper();if(!t&&n){var o=e.data(j);if(o)t=n.find(we(o)).data(q)}return t},_toggleDisabled:function(t,n){this.element.find(t).each((function(){e(this).toggleClass(X,!n).attr("aria-disabled",!n)}))},_toggleHover:function(t){var o=e(n.eventTarget(t)||t.target).closest(ee),i=t.type==$||-1!==l.indexOf(t.type);o.siblings().removeClass(K),o.parents("li."+X).length||o.toggleClass(K,i||"mousedown"==t.type||"pointerover"==t.type||t.type==N)},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var o=this,i=e(t?t.currentTarget:this._focusItem()),r=o._findRootParent(i)[0];this._closurePrevented||setTimeout((function(){document.hasFocus()&&(ue(r,n._activeElement())||!t||ue(r,t.currentTarget))||o.close(r)}),0),this._closurePrevented=!1},_removeFocusItem:function(){var e=this._focusItem();e&&e.hasClass(J)&&(e.removeClass(J),this._oldFocusItem=null)},_wrapGroups:function(){var t=this;const o=t.element.find("li > ul");t._groupElementsInitialSpace=Array.from(o).map((t=>{let o;let i=!1;let r=t.closest(".k-animation-container")||t.closest(".k-popup");return r=e(r),r&&r.length&&!r.is(":visible")&&(i=!0,r.show()),o={element:t,width:n._outerWidth(t),height:n._outerHeight(t),inlineHeight:t.style&&t.style.height?t.style.height:""},i&&r.hide(),o})),o.filter((function(){return!e(this).parent().hasClass("k-menu-popup")})).wrap("<div class='k-menu-popup k-popup'></div>").parent("div").attr("aria-hidden",t.element.is(":visible")).hide(),t.element.find("ul").each((function(){var t=e(this);var o=n.guid();t.attr("id",o).closest("li").attr("aria-controls",o)}))},_updateClasses:function(){var e,t=this.element;t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-reset k-header k-menu-init "+k).addClass(k+"-"+this.options.orientation),"vertical"===this.options.orientation?t.attr("aria-orientation","vertical"):t.attr("aria-orientation","horizontal"),t.find("li > ul").filter((function(){return!n.support.matchesSelector.call(this,".k-menu-init div ul")})).addClass("k-menu-group k-menu-group-md").attr(le,"menu").parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),t.find("li[aria-haspopup]").attr(se,!1),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each((function(){de(this)}))},_mouseenter:function(t){var n=this;var o=e(t.currentTarget);var i=n._itemHasChildren(o);var a=o.data(j)||o.closest(Q).data(L);var s=Te(t);var l=!1;n._denyOpening||(a&&(n._openedPopups[a.toString()]=!0),n._closing&&(l=!!n._closing.find(o).length),l||(n._keyTriggered=!1,n.options.openOnClick.rootMenuItems&&n._isRootItem(o.closest(ee))||n.options.openOnClick.subMenuItems&&!n._isRootItem(o.closest(ee))||(!(!1===n.options.openOnClick||!1===n.options.openOnClick.rootMenuItems&&n._isRootItem(o.closest(ee))||!1===n.options.openOnClick.subMenuItems&&!n._isRootItem(o.closest(ee))||n.clicked)||r||s&&n._isRootItem(o.closest(ee))||!ue(t.currentTarget,t.relatedTarget)&&i&&n.open(o),(!0===n.options.openOnClick&&n.clicked||r)&&o.siblings().each((function(e,t){n.close(t,!0)})))))},_mousedown:function(t){var n=this;var o=e(t.currentTarget);n._mousedownedElement=o,(n.options.openOnClick.subMenuItems&&!n._isRootItem(o)||r)&&o.siblings().each((function(e,t){n.close(t,!0)}))},_mouseleave:function(t){var o=this;var i=e(t.currentTarget);var a=i.data(j);var s=i.children(Q).length||a;var l=e(window);if(a&&delete o._openedPopups[a.toString()],!i.parentsUntil(V,".k-list-container,.k-calendar-container")[0])return!1!==o.options.openOnClick&&(o.options.openOnClick.rootMenuItems||!o._isRootItem(i))&&(o.options.openOnClick.subMenuItems||o._isRootItem(i))||r||Te(t)||ue(t.currentTarget,t.relatedTarget||t.target)||!s||ue(t.currentTarget,n._activeElement())?void((n.support.browser.msie&&!t.toElement&&!t.relatedTarget&&!Te(t)||t.clientX<0||t.clientY<0||t.clientY>l.height()||t.clientX>l.width())&&o.close(i)):(o.close(i,!0),void(o._loading=!1));t.stopImmediatePropagation()},_mouseenterPopup:function(t){var n=e(t.currentTarget);if(!n.parent().is(Z)){var o=(n=n.find(Q)).data(L);o&&(this._openedPopups[o.toString()]=!0)}},_mouseleavePopup:function(t){var n=e(t.currentTarget);!Te(t)&&n.is(V)&&this._closePopups(n.find(Q))},_closePopups:function(t){var n=this;var o=n._overflowWrapper();var i=t.data(L);if(i){delete n._openedPopups[i.toString()];var r=o.find(ke(i));setTimeout((function(){if(n.options.openOnClick)n._closeChildPopups(t);else if(e.isEmptyObject(n._openedPopups)){var o=n._innerPopup(t);n._closeParentPopups(o)}else n.close(r,!0)}),0)}},_closeChildPopups:function(t){var n=this;var o=n._overflowWrapper();e(be(t,o)).each((function(){var e=o.find(ke(this.data(L)));n.close(e,!0)}))},_innerPopup:function(e){var t=be(e,this._overflowWrapper());return t[t.length-1]||e},_closeParentPopups:function(e){var t=this;var n=t._overflowWrapper();var o=e.data(L);var i=(n??t.element).find(ke(o));for(o=i.closest(Q).data(L),t.close(i,!0);o&&!t._openedPopups[o]&&!i.parent().is(Y);)i=n.find(ke(o)),t.close(i,!0),o=i.closest(Q).data(L)},_click:function(t){var o,i,r,a,s=this,l=s.options,p=e(n.eventTarget(t)),c=p[0],u=p[0]?p[0].nodeName.toUpperCase():"",d="INPUT"==u||"SELECT"==u||"BUTTON"==u||"LABEL"==u,h=p.closest(b),f=p.closest(ee),m=f[0],v=h.attr("href"),g=p.attr("href"),k=e("<a href='#' />").attr("href"),w=!!v&&v!==k,C=w&&!!v.match(/^#/),y=!!g&&g!==k,T=s._overflowWrapper();if(!c||c.parentNode&&m){for(e(p).closest("span").parent().hasClass("k-menu-expand-arrow")&&(this._lastClickedElement=m);c&&c.parentNode!=m;)c=c.parentNode;if(!e(c).is("div:not(.k-animation-container,.k-list-container)"))if(f.hasClass(X))t.preventDefault();else{if(t.handled||!s._triggerSelect(p,m)||d||t.preventDefault(),t.handled=!0,i=f.children(Q),T){var x=f.data(j);x&&(i=T.find(we(x)))}if(r=i.is(":visible"),a=l.openOnClick&&r&&s._isRootItem(f),l.closeOnClick&&(!w||C)&&(!i.length||a)){f.removeClass(K).css("height"),s._oldFocusItem=s._findRootParent(f);var O=s._parentsUntil(h,s.element,ee);return s._forceClose=!!T,s.close(O),void(s.clicked=!1)}w&&t.enterKey&&h[0].click(),(s._isRootItem(f)&&!1!==l.openOnClick||l.openOnClick.subMenuItems||n.support.touch||Te(t)&&s._isRootItem(f.closest(ee)))&&(w||d||y||t.preventDefault(),s.clicked=!0,o=i.is(":visible")?P:_,(l.closeOnClick||o!=P)&&s[o](f))}}},_parentsUntil:function(t,n,o){var i=this._overflowWrapper();if(i){var r=function(t,n){var o=[];var i=function(e){for(;e.parentNode&&!n.is(e.parentNode);)o.push(e.parentNode),e=e.parentNode};var r=t[0]||t;i(r);var a=o[o.length-1];for(;e(a).is(V)&&(r=Ce(e(a).find(Q),n)[0]);)o.push(r),i(r),a=o[o.length-1];return o}(t,i);var a=[];return e(r).each((function(){var t=e(this);if(t.is(n))return!1;t.is(o)&&a.push(this)})),e(a)}return t.parentsUntil(n,o)},_triggerSelect:function(e,t){var n,o=(e=e.is(".k-link")?e:e.closest(".k-link")).data("selectHandler");o&&(n=this._getEventData(e),o.call(this,n));var i=n&&n.isDefaultPrevented();var r=this._triggerEvent({item:t,type:I});return i||r},_getEventData:function(e){return{sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(n){var o=this;var i=e(n.target).closest("span").parent().hasClass("k-menu-expand-arrow")?o._lastClickedElement:n.target;ue((o._overflowWrapper()||o.element)[0],i)?o._lastClickedElement=t:o.clicked=!1},_focus:function(t){var n=this,o=t.target,r=n._focusItem(),a=i();if(!n._mousedownedElement)return o==n.wrapper[0]||e(o).is(":kendoFocusable")?void(a===t.currentTarget&&(r.length?n._moveFocus([],r):n._oldFocusItem||n._moveFocus([],n.wrapper.children().first()))):(t.stopPropagation(),e(o).closest(".k-content").closest(".k-menu-popup").closest(".k-item").addClass(J),void n.wrapper.trigger("focus"));n._mousedownedElement=null},_keydown:function(e){var t,o,i,r=this,a=e.keyCode,s=r._oldFocusItem,l=n.support.isRtl(r.wrapper);if(e.target==e.currentTarget||a==f.ESC){if(s||(s=r._oldFocusItem=r._focusItem()),o=r._itemBelongsToVertival(s),i=r._itemHasChildren(s),r._keyTriggered=!0,a==f.RIGHT)t=r[l?"_itemLeft":"_itemRight"](s,o,i);else if(a==f.LEFT)t=r[l?"_itemRight":"_itemLeft"](s,o,i);else if(a==f.DOWN)t=r._itemDown(s,o,i);else if(a==f.UP)t=r._itemUp(s,o,i);else if(a==f.HOME)r._moveFocus(s,s.parent().children(":visible").first()),e.preventDefault();else if(a==f.END)r._moveFocus(s,s.parent().children(":visible").last()),e.preventDefault();else if(a==f.ESC)t=r._itemEsc(s,o);else if(a==f.ENTER||a==f.SPACEBAR)(t=s.children(".k-link")).length>0&&(r._click({target:t[0],preventDefault:function(){},enterKey:!0}),i&&!s.hasClass(X)?(r.open(s),r._moveFocus(s,r._childPopupElement(s).children().find("li").first())):s.is("li")&&"menuitemcheckbox"===s.attr("role")?s.find(".k-checkbox").attr("checked",!0):r._moveFocusToRoot(s,r._findRootParent(s)));else if(a==f.TAB)return t=r._findRootParent(s),r._moveFocus(s,t),void r._checkActiveElement();t&&t[0]&&(e.preventDefault(),e.stopPropagation())}},_focusItem:function(){return this.wrapper.find(".k-item.k-focus").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length&&e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(e.children(".k-menu-group, .k-menu-popup, div.k-animation-container").length>0||!!e.data(j)&&!!this._overflowWrapper().children(we(e.data(j))))},_moveFocus:function(t,n){var o=this,i=o._ariaId;t.length&&n.length&&t.removeClass(J),n.length&&(n[0].id&&(i=n[0].id),o.wrapper.find("."+J).removeClass(J),n.addClass(J),o._oldFocusItem=n,i&&(o.element.removeAttr("aria-activedescendant"),e("#"+i).removeAttr("id"),n.attr("id",i),o.element.attr("aria-activedescendant",i)),o._scrollToItem(n))},_moveFocusToRoot:function(e,t){this._moveFocus(e,t)},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,Y,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(k)},_itemRight:function(e,t,n){var o,i,r,a=this;if(t){if(n&&!e.hasClass(X))a.open(e),o=a._childPopupElement(e).children().find("li").first();else if("horizontal"==a.options.orientation){if(i=a._findRootParent(e),r=a._overflowWrapper()){var s=ye(i,r);a._closeChildPopups(s)}a.close(i),o=i.nextAll(te+oe).eq(0)}}else(o=e.nextAll(te+oe).eq(0)).length||(o=e.prevAll(te+oe).last()),a.close(e);return o&&!o.length?o=a.wrapper.children(".k-item").first():o||(o=[]),a._moveFocus(e,o),o},_itemLeft:function(e,t){var n,o,i=this;return t?(n=e.parent().closest(".k-item"),o=i._overflowWrapper(),!n.length&&o&&(n=Ce(e.parent(),o)),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prevAll(te+oe).eq(0))):((n=e.prevAll(te+oe).eq(0)).length||(n=e.nextAll(te+oe).last()),i.close(e)),n.length||(n=i.wrapper.children(".k-item").last()),i._moveFocus(e,n),n},_itemDown:function(e,t,n){var o,i=this;if(t)o=e.nextAll(te+oe).eq(0);else{if(!n||e.hasClass(X))return;i.open(e),o=i._childPopupElement(e).children().find("li").first()}return!o.length&&e.length?o=e.parent().children(":visible").first():e.length||(o=i.wrapper.children(".k-item").first()),i._moveFocus(e,o),o},_itemUp:function(e,t){var n;if(t)return!(n=e.prevAll(te+oe).eq(0)).length&&e.length?n=e.parent().children(":visible").last():e.length||(n=this.wrapper.children(".k-item").last()),this._moveFocus(e,n),n},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var o=e.parent();var i=!!o.hasClass(k)&&"horizontal"==t.options.orientation;var r=i?"scrollLeft":"scrollTop";var a=i?n._outerWidth:n._outerHeight;var s=o[r]();var l=a(e);var p=e[0][i?"offsetLeft":"offsetTop"];var c=a(o);var u=o.siblings(ie);var d=u.length?a(u.first()):0;var h;if(s+c<p+l+d?h=p+l-c+d:s>p-d&&(h=p-d),!isNaN(h)){var f={};f[r]=h,o.finish().animate(f,"fast","linear",(function(){t._toggleScrollButtons(o,u.first(),u.last(),i)}))}}},_itemEsc:function(e,t){var n,o,i=this;return t?(0===(n=e.parent().closest(".k-item")).length&&(o=e.closest(".k-menu-popup").data("group"),n=i.wrapper.find(".k-item[data-groupparent='"+o+"']")),i.close(n),i._moveFocus(e,n),n):e},_childPopupElement:function(e){var t=e.find(".k-menu-popup");var n=this._overflowWrapper();return!t.length&&n&&(t=ye(e,n)),t},_triggerEvent:function(e){return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(t){var o=this,i=e(n.eventTarget(t)).closest(ee);i.hasClass(X)||setTimeout((function(){o._moveFocus([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(J)}),200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_dataSource:function(e){var t=this,n=e?e.dataSource:t.options.dataSource;n&&(n=a(n)?{data:n}:n,t._unbindDataSource(),n.fields||(n.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"icon"},{field:"iconClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}]),t.dataSource=s.create(n),t._bindDataSource(),t.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=this.refresh.bind(this),this._errorHandler=this._error.bind(this),this.dataSource.bind(B,this._refreshHandler),this.dataSource.bind(D,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(B,this._refreshHandler),e.unbind(D,this._errorHandler))},_error:function(){},findByUid:function(e){return(this._overflowWrapper()||this.element).find("["+n.attr("uid")+"="+e+"]")},refresh:function(e){var t=this;var n=e.node;var o=e.action;var i=n?t.findByUid(n.uid):t.element;var r=e.items;var a=e.index;var s=t._updateItem.bind(t);var l=t._removeItem.bind(t);"add"==o?t._appendItems(r,a,i):"remove"==o?r.forEach(l):"itemchange"==o?r.forEach(s):"itemloaded"===o?t.append(e.items,i):this._initData(),this.trigger(ae,{item:i,dataItem:n})},_appendItems:function(e,t,n){var o=n.find(te).eq(t);o.length?this.insertBefore(e,o):this.append(e,n)},_removeItem:function(e){var t=this.findByUid(e.uid);this.remove(t)},_updateItem:function(e){var t=this;var n=t.findByUid(e.uid);var o=n.next();var i=e.parentNode();t.remove(n),o.length?t.insertBefore(e,o):t.append(e,i&&t.findByUid(i.uid))},_accessors:function(){var e,t,o,i=this.options,r=this.element;for(e in pe)t=i[pe[e]],o=r.attr(n.attr(e+"-field")),!t&&o&&(t=o),t||(t=e),a(t)||(t=[t]),i[pe[e]]=t},_fieldAccessor:function(t){var o=this.options[pe[t]]||[],i=o.length;return 0===i?function(e){return e[t]}:function(t){var r=e.map(o,n.getter);return t.level?r[Math.min(t.level(),i-1)](t):r[i-1](t)}},_templates:function(){var t=this,o=t.options,i=t._fieldAccessor.bind(t);o.template&&"string"==typeof o.template?o.template=h(o.template):o.template||(o.template=h((e=>{var t=i("text")(e.item);return void 0!==e.item.encoded&&!1===e.item.encoded||(t=d(t)),`<span class='k-menu-link-text' role='none'>${t}</span>`}))),t.templates={content:h((e=>{var t=e.item;var n=i("content")(t);var o=e.contentCssAttributes(t.toJSON?t.toJSON():t);return`<div class='${e.groupWrapperCssClass(e.group)}' ${e.groupAttributes(e.group)}><div ${o} tabindex='-1'>${n||""}</div></div>`})),group:h((e=>`<div class='${e.groupWrapperCssClass(e.group)}' ${e.groupAttributes(e.group)}><ul class='${e.groupCssClass(e.group)}' id='${e.groupId}' role='menu'>${e.renderItems(e)}</ul></div>`)),itemWrapper:h((e=>{var t=e.item;var o=this.options.iconPosition;var r=i("url")(t);var a=i("imageUrl")(t);var s=i("icon")(t);var l=i("iconClass")(t);var p=this.templates.sprite(t);var c=(s||l)&&""==p?n.ui.icon({icon:s,iconClass:l}):"";var u=i("imageAttr")(t);var d=r?"a":"span";return`<${d} class='${ce.textClass(t)}' role='none' ${r?`href='${n.sanitizeLink(r)}'`:""} >`+(a?`<img ${ce.imageCssAttributes(u)}  alt='' src='${a}' />`:"")+("before"==o?c:"")+p+this.options.template(e)+("after"==o?c:"")+e.arrow(e)+`</${d}>`})),item:h((t=>{var o=t.item,r=t.menu,a=t.group,s=t.subGroup;var l=i("content")(o);var p=n.guid();return`<li class='${ce.wrapperCssClass(a,o)}' ${o.hasChildren||o.items||o.content?'aria-controls="'+p+'"':""} ${ce.itemCssAttributes(o.toJSON?o.toJSON():o)} role='menuitem'  ${o.items||o.content?"aria-haspopup='true'":""}`+(!1===o.enabled?"aria-disabled='true'":"")+n.attr("uid")+`='${o.uid}' `+(o.items&&o.items.length>0||o.content?o.expanded?" aria-expanded='true'":" aria-expanded='false'":"")+">"+`${o.separator?"":this.templates.itemWrapper(t)}`+(o.hasChildren||o.items?`${s({items:o.items,menu:r,group:{expanded:o.expanded},groupId:p})}`:o.content||o.contentUrl||l?`${t.renderContent(e.extend({},t,{group:{expanded:o.expanded}}))}`:"")+"</li>"})),scrollButton:h((({direction:e})=>`<span class='k-button k-button-md k-button-flat k-button-flat-base k-icon-button k-menu-scroll-button k-menu-scroll-button-${"left"===e||"up"===e?"prev":"next"}' unselectable='on'>`+n.ui.icon({icon:`caret-alt-${e}`,iconClass:"k-button-icon"})+"</span>")),arrow:h((({item:e,group:t})=>`<span aria-hidden='true' class='k-menu-expand-arrow'>${n.ui.icon({icon:t.horizontal?"caret-alt-down":"caret-alt-right"})}</span>`)),sprite:h((e=>{var t=i("spriteCssClass")(e);return t?`<span class='k-sprite ${t}'></span>`:""})),empty:h((()=>""))}},renderItem:function(e){var t=this;e=c({menu:t,group:{}},e);var n=t.templates.empty,o=e.item;return t.templates.item(c(e,{separator:o.separator?t.templates.separator:n,sprite:t.templates.sprite,itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:o.items||o.content||o[t.options.dataContentField[0]]?t.templates.arrow:n,subGroup:t.renderGroup.bind(t)},ce))},renderGroup:function(e){return(this.templates||e.menu.templates).group(c({renderItems:function(e){var t="",n=0,o=e.items,i=o?o.length:0,r=c({length:i},e.group);for(;n<i;n++)t+=e.menu.renderItem(c(e,{group:r,item:c({index:n},o[n])}));return t}},e,ce))},renderContent:function(e){return e.menu.templates.content(c(e,ce))}});var Ie=Oe.extend({init:function(t,o){var i=this;Oe.fn.init.call(i,t,o),i.element.attr(le,"menu"),i._initialInlineHeight=i.element[0].style&&i.element[0].style.height?i.element[0].style.height:"",i._marker=n.guid().substring(0,8),i.target=e(i.options.target),i._popup(),i._wire()},_initOverflow:function(t){var n=this;n._openedPopups={},t.scrollable&&!n._overflowWrapper()&&(n._popupsWrapper=(n.element.parent().is(Z)?n.element.closes(V):n.element).wrap(`<div class="k-menu-scroll-wrapper${"vertical"===t.orientation?" k-menu-scroll-wrapper-vertical":""}"></div>`).parent(),"horizontal"==n.options.orientation&&xe(n.element),t.appendTo&&(t.appendTo=e(t.appendTo),t.appendTo.append(n._popupsWrapper)),n._initialHeight=n.element[0].style.height,n._initialWidth=n.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,copyAnchorStyles:!0,target:"body",origin:t,position:t},events:[_,P,W,E,I],setOptions:function(t){var n=this;Oe.fn.setOptions.call(n,t),n.target.off(n.showOn+g+n._marker,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),Oe.fn.setOptions.call(this,t)},destroy:function(){var e=this;e.target.off(e.options.showOn+g+e._marker),G.off(n.support.mousedown+g+e._marker,e._closeProxy),e.userEvents&&e.userEvents.destroy(),Oe.fn.destroy.call(e),e.popup&&e.popup.destroy()},open:function(o,i,r){var a=this;const s="horizontal"===a.options.orientation;let l=null;if("number"==typeof(o=e(o)[0])&&(a._initialInlineHeight?e(a.element).css({height:a._initialInlineHeight}):e(a.element).css({height:""})),r&&(l=e(o)),ue(a.element[0],e(o)[0])||a._itemHasChildren(e(o)))Oe.fn.open.call(a,o);else{if(!1!==a._triggerEvent({item:a.element,type:_,target:l}))return;if(a.popup.visible()&&a.options.filter&&(a.popup.close(!0),a.popup.element.parent().kendoStop(!0)),a._triggerFocusOnActivate||(a._triggerFocusOnActivate=a._focusMenu.bind(a)),a.bind(W,a._triggerFocusOnActivate),i!==t){var p=a._overflowWrapper();if(p){var c=p.offset();o-=c.left,i-=c.top}a.popup.wrapper.hide(),a._configurePopupScrolling(o,i),a.popup.open(o,i)}else a.popup.options.anchor=o||a.popup.anchor||a.target,a.popup.element.kendoStop(!0),a._configurePopupScrolling(),a.popup.open();a._initPopupScrolling(a.popup,s),a.popup.element.siblings(ie).hide(),G.off(a.popup.downEvent,a.popup._mousedownProxy),G.on(n.support.mousedown+g+a._marker,a._closeProxy)}return a},_focusMenu:function(){var e=this;e.unbind(W,e._triggerFocusOnActivate),e.element.trigger("focus")},_configurePopupScrolling:function(e,n){var o=this;var i=o.popup;var r="horizontal"==o.options.orientation;o.options.scrollable&&(o._wrapPopupElement(i),i.element.parent().css({position:"",height:""}),i.element.css({visibility:"hidden",display:"",position:""}),r?o._setPopupWidth(i,isNaN(e)?t:{isFixed:!0,x:e,y:n}):o._setPopupHeight(i,isNaN(e)?t:{isFixed:!0,x:e,y:n}),i.element.css({visibility:"",display:"none",position:"absolute"}))},_setPopupWidth:function(t,o){var i=t.element;var r=i.add(i.parent(Z));r.width(this._initialWidth||"");var a=t._location(o);var s=e(window).width();var l=a.width;var p=Math.max(a.left,0);var c=o?0:Pe(this._overflowWrapper()[0],"scrollLeft");var u=n.getShadows(i);var d=s-u.left-u.right;Math.floor(d+c)>=Math.floor(l+p)||r.css({overflow:"hidden",width:d-p+c+"px"})},close:function(){var t=this;ue(t.element[0],e(arguments[0])[0])||t._itemHasChildren(arguments[0])?Oe.fn.close.call(t,arguments[0]):t.popup.visible()&&!1===t._triggerEvent({item:t.element,type:P})&&(t._removeFocusItem(),t.element.find("#"+t._ariaId).removeAttr("id"),t.popup.close(),G.off(n.support.mousedown+g+t._marker,t._closeProxy),t.unbind(I,t._closeTimeoutProxy),t.popup.options.anchor.focus())},_showHandler:function(t){var o,i=t,r=this,a=r.options,s=n.support.mobileOS?e(i.target):e(i.currentTarget);t.event&&((i=t.event).pageX=t.x.location,i.pageY=t.y.location),ue(r.element[0],t.relatedTarget||t.target)||(r._eventOrigin=i,i.preventDefault(),i.stopImmediatePropagation(),r.element.find("."+J).removeClass(J),(a.filter&&s.is(a.filter)||!a.filter)&&(a.alignToAnchor?(r.popup.options.anchor=i.currentTarget,r.open(i.currentTarget)):(r.popup.options.anchor=i.currentTarget,r._targetChild?(o=r.target.offset(),r.open(i.pageX-o.left,i.pageY-o.top)):r.open(i.pageX,i.pageY))))},_closeHandler:function(t){var n=this,o=e(t.relatedTarget||t.target),i=o.closest(n.target.selector)[0]==n.target[0],r=o.closest(te),a=n._itemHasChildren(r),s=n._overflowWrapper(),l=ue(n.element[0],o[0])||s&&ue(s[0],o[0]);n._eventOrigin=t;var p=3!==t.which;n.popup.visible()&&(p&&i||!i)&&(n.options.closeOnClick&&!a&&l||!l)&&(l?(this.unbind(I,this._closeTimeoutProxy),n.bind(I,n._closeTimeoutProxy)):n.close())},_wire:function(){var e=this,t=e.options,o=e.target;e._preventProxy=null,e._showProxy=e._showHandler.bind(e),e._closeProxy=e._closeHandler.bind(e),e._closeTimeoutProxy=e.close.bind(e),o[0]&&(n.support.mobileOS&&"contextmenu"==t.showOn&&(e.userEvents=new n.UserEvents(o,{filter:t.filter,allowSelection:!1}),e._preventProxy=function(){return!1},e.userEvents.bind("hold",e._showProxy)),t.filter?o.on(t.showOn+g+e._marker,t.filter,e._preventProxy||e._showProxy):o.on(t.showOn+g+e._marker,e._preventProxy||e._showProxy),o.on("keydown",(t=>{t.keyCode===n.keys.F10&&t.shiftKey&&(t.preventDefault(),e.options.keyboardAlignToAnchor&&(e.popup.options.anchor=t.target),e.open(t.target,null,!0))})))},_triggerEvent:function(n){var o=this,i=e(o.popup.options.anchor)[0],r=o._eventOrigin,a=n.target;return o._eventOrigin=t,o.trigger(n.type,c({type:n.type,item:n.item||this.element[0],target:a??i},r?{event:r}:{}))},_popup:function(){var t=this;var n=t._overflowWrapper();var o=t.element.addClass("k-context-menu");t._triggerProxy=t._triggerEvent.bind(t),t.popup=e("<div></div>").append(o).kendoPopup({origin:t.options.origin,position:t.options.position,autosize:"horizontal"===t.options.orientation,anchor:t.target||"body",copyAnchorStyles:t.options.copyAnchorStyles,collision:t.options.popupCollision||"fit",animation:t.options.animation,activate:t._triggerProxy,deactivate:t._triggerProxy,appendTo:n||t.options.appendTo,close:n?function(t){e(be(t.sender.element,n)).each((function(e,t){var n=t.data(q);n&&n.close(!0)}))}:e.noop}).data(q),t._targetChild=ue(t.target[0],t.popup.element[0])},_moveFocusToRoot:function(e,t){this._moveFocus(e,t),this.close()},_focus:function(e){var t=this._oldFocusItem=this._focusItem()||[];Oe.fn._focus.call(this,e),i()===e.currentTarget&&this._moveFocus(t,this.wrapper.children().filter(":visible").not(".k-separator").first())}});o.plugin(Oe),o.plugin(Ie)}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.menu.min.js.map
