/** 
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(define){define("kendo.menu.min",["./kendo.popup.min","./kendo.data.min"],function(){var e={id:"menu",name:"Menu",category:"web",description:"The Menu widget displays hierarchical data as a multi-level menu.",depends:["popup","data","data.odata"]},y=window.kendo.jQuery,w=void 0,P=window.kendo,t=P.ui,o=P._activeElement,C=P.support.touch&&P.support.mobileOS,c=Array.isArray,r=P.data.HierarchicalDataSource,i="mousedown",a="click",s=30,b=50,_=y.extend,k=y.proxy,f=y.each,m=P.template,l=P.keys,v=t.Widget,n=/^(ul|a|div)$/i,g=".kendoMenu",h="img",T="open",H="k-menu",O="k-link k-menu-link",I=".k-link",S=".k-menu-expand-arrow-icon",E="k-last",W="close",A="timer",D="k-first",M="k-image",N="select",B="zIndex",R="activate",U="deactivate",z="touchstart"+g+" MSPointerDown"+g+" pointerdown"+g,L=P.support.pointers,F=P.support.msPointers,G=F||L,j="change",q="error",J=P.support.touch?"touchstart":"",K=L?"pointerover":F?"MSPointerOver":"mouseenter",X=L?"pointerout":F?"MSPointerOut":"mouseleave",Y="DOMMouseScroll"+g+" mousewheel"+g,V=P.support.resize+g,Z="scrollWidth",$="scrollHeight",Q="offsetWidth",ee="offsetHeight",te="group",ne="groupparent",re=y(document.documentElement),ie="kendoPopup",oe="k-hover",ae="k-focus",se="k-disabled",le="k-selected",pe=".k-menu",ue=".k-menu-group",d=".k-animation-container",ce=ue+","+d,x=":not(.k-list) > .k-item:not([role='treeitem'])",fe=".k-item.k-disabled",p=".k-item",de=".k-item:not(.k-disabled)",me=".k-item:not(.k-disabled) > .k-link",ve=":not(.k-item.k-separator)",he="div:not(.k-animation-container,.k-list-container)",ge=".k-menu-scroll-button",_e={2:1,touch:1},ke="string",we="dataBound",Ce="aria-expanded",be={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField",imageAttr:"dataImageAttrField",content:"dataContentField"},ye={wrapperCssClass:function(e,t){var n="k-item k-menu-item",r=t.index;if(t.enabled===false)n+=" k-disabled";if(e.firstLevel&&r===0)n+=" k-first";if(r==e.length-1)n+=" k-last";if(t.cssClass)n+=" "+t.cssClass;if(t.attr&&t.attr.hasOwnProperty("class"))n+=" "+t.attr["class"];if(t.selected)n+=" "+le;return n},itemCssAttributes:function(e){var t="";var n=e.attr||{};for(var r in n)if(n.hasOwnProperty(r)&&r!=="class")t+=r+'="'+n[r]+'" ';return t},imageCssAttributes:function(e){var t="";var n=e&&e.toJSON?e.toJSON():{};if(!n["class"])n["class"]=M;else n["class"]+=" "+M;for(var r in n)if(n.hasOwnProperty(r))t+=r+'="'+n[r]+'" ';return t},contentCssAttributes:function(e){var t="";var n=e.contentAttr||{};var r="k-content k-group k-menu-group k-menu-group-md";if(!n["class"])n["class"]=r;else n["class"]+=" "+r;for(var i in n)if(n.hasOwnProperty(i))t+=i+'="'+n[i]+'" ';return t},textClass:function(){return O},arrowClass:function(e,t){var n="k-menu-expand-arrow-icon k-icon";if(t.horizontal)n+=" k-i-arrow-s";else n+=" k-i-arrow-e";return n},groupAttributes:function(e){return e.expanded!==true?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group k-menu-group-md"},content:function(e){return e.content?e.content:"&nbsp;"}};function Pe(e,t){e=e.split(" ")[!t+0]||e;return e.replace("top","up").replace("bottom","down")}function xe(e,t,n){e=e.split(" ")[!t+0]||e;var r={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},i=/left|right/.test(e);if(i){r.origin=["top",e];r.position[1]=P.directions[e].reverse}else{r.origin[0]=e;r.position[0]=P.directions[e].reverse}r.origin=r.origin.join(" ");r.position=r.position.join(" ");return r}function u(e,t){try{return y.contains(e,t)}catch(e){return false}}function Te(e){e=y(e);var t=e.attr(P.attr("omit-wrap"));if(t)return;e.addClass("k-item k-menu-item").children(h).addClass(M);e.children("a").addClass(O).children(h).addClass(M);e.filter(":not([disabled])");e.filter(".k-separator").removeClass("k-menu-item").addClass("k-menu-separator").empty().append("&nbsp;");e.filter("li[disabled]").addClass(se).prop("disabled",false).attr("aria-disabled",true);if(!e.filter("[role]").length)e.attr("role","menuitem");if(!e.children(I).length)e.contents().filter(function(){return!this.nodeName.match(n)&&!(this.nodeType===3&&!P.trim(this.nodeValue))}).wrapAll("<span class='"+O+"'></span>").filter(function(e,t){return t.nodeType===3}).wrap("<span class='k-menu-link-text'></span>");He(e);Ie(e)}function He(e){e=y(e);e.find("> .k-link > .k-menu-expand-arrow > [class*=k-i-arrow]:not(.k-sprite)").parent().remove();e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e=y(this),t=Oe(e);e.append("<span class='k-menu-expand-arrow'><span class='k-menu-expand-arrow-icon k-icon "+t+"'></span></span>")})}function Oe(e){var t,n=e.parent().parent(),r=P.support.isRtl(n);if(n.hasClass(H+"-horizontal"))t="k-i-arrow-s";else if(r)t="k-i-arrow-w";else t="k-i-arrow-e";return t}function Ie(e){e=y(e);e.filter(".k-first:not(:first-child)").removeClass(D);e.filter(".k-last:not(:last-child)").removeClass(E);e.filter(":first-child").addClass(D);e.filter(":last-child").addClass(E)}function Se(e){if(e&&e.length)for(var t in e){var n=e.eq(t);if(n.find("ul").length)n.attr("aria-haspopup",true);else n.removeAttr("aria-haspopup")}}function Ee(e){if(!e.hasClass(H))return e.parentsUntil("."+H,"li")}function We(e,t){var n=De(t);if(n)Ae(e,n);if(t.items)y(e).children("ul").children("li").each(function(e){We(this,t.items[e])})}function Ae(e,t){y(e).children(".k-link").data({selectHandler:t})}function De(e){var t=e.select,n=P.isFunction;if(t&&n(t))return t;return null}function Me(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function Ne(e){var t=e?"[data-group='"+e+"']":"[data-group]";return"ul"+t+",div"+t}function Be(i,o){var e=i.find(Me());var a=[];e.each(function(e,t){t=y(t);var n=t.data(ne);var r=i;while(n){r=o.find(Ne(n)+":visible");if(r.length)a.push(r);t=r.find(Me());n=t.data(ne)}});return a}function Re(e,t){var n=e.data(te);return n?t.find(Me(n)):y([])}function Ue(e,t){var n=e.data(ne);return n?t.children(d).children(Ne(n)):y([])}function ze(e,t){var n=[];var r=function(e){while(e.parentNode&&!t.is(e.parentNode)){n.push(e.parentNode);e=e.parentNode}};var i=e[0]||e;r(i);var o=n[n.length-1];while(y(o).is(d)){var a=y(o).children("ul");i=Re(a,t)[0];if(!i)break;n.push(i);r(i);o=n[n.length-1]}return n}function Le(e){var t=0;if(e.wheelDelta){t=-e.wheelDelta/120;t=t>0?Math.ceil(t):Math.floor(t)}if(e.detail)t=Math.round(e.detail/3);return t}function Fe(e,t){var n=0;var r=e.parentNode;while(r&&!isNaN(r[t])){n+=r[t];r=r.parentNode}return n}function Ge(e){return G&&e.originalEvent&&e.originalEvent.pointerType in _e}function je(e){var t=e.originalEvent;return C&&/touch/i.test(t.type||"")}function qe(e){e.contents().filter(function(){return this.nodeName!="LI"}).remove()}var Je=P.ui.DataBoundWidget.extend({init:function(e,t){var n=this;v.fn.init.call(n,e,t);e=n.wrapper=n.element;t=n.options;n._accessors();n._templates();n._dataSource();n._updateClasses();n._animations(t);n.nextItemZIndex=100;n._tabindex();n._initOverflow(t);n._attachMenuEventsHandlers();if(t.openOnClick)n.clicked=false;e.attr("role","menubar");if(e[0].id)n._ariaId=P.format("{0}_mn_active",e[0].id);P.notify(n)},events:[T,W,R,U,N,we],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:false,closeOnClick:true,hoverDelay:100,scrollable:false,popupCollision:w},_initData:function(){var e=this;if(e.dataSource){e.angular("cleanup",function(){return{elements:e.element.children()}});e.element.empty();e.append(e.dataSource.view(),e.element);e.angular("compile",function(){return{elements:e.element.children()}})}},_attachMenuEventsHandlers:function(){var e=this;var t=e.element;var n=e.options;var r=e._overflowWrapper();e._checkActiveProxy=k(e._checkActiveElement,e);(r||t).on(z,p,k(e._focusHandler,e)).on(a+g,fe,false).on(a+g,p,k(e._click,e)).on(z+" "+i+g,".k-content",k(e._preventClose,e)).on(K+g,de,k(e._mouseenter,e)).on(X+g,de,k(e._mouseleave,e)).on(i+g,de,k(e._mousedown,e)).on(J+g+" "+K+g+" "+X+g+" "+i+g+" "+a+g,me,k(e._toggleHover,e));t.on("keydown"+g,k(e._keydown,e)).on("focus"+g,k(e._focus,e)).on("focus"+g,".k-content",k(e._focus,e)).on("blur"+g,k(e._removeHoverItem,e)).on("blur"+g,"[tabindex]",e._checkActiveProxy);if(r)r.on(X+g,ce,k(e._mouseleavePopup,e)).on(K+g,ce,k(e._mouseenterPopup,e));if(n.openOnClick){e._documentClickHandler=k(e._documentClick,e);y(document).on("click",e._documentClickHandler)}},_detachMenuEventsHandlers:function(){var e=this;var t=e._overflowWrapper();if(t)t.off(g);e.element.off(g);if(e._documentClickHandler)y(document).off("click",e._documentClickHandler)},_initOverflow:function(e){var t=this;var n=e.orientation=="horizontal";var r,i;if(e.scrollable){t._openedPopups={};t._scrollWrapper=t.element.wrap("<div class='k-menu-scroll-wrapper "+e.orientation+"'></div>").parent();if(n)qe(t.element);r=y(t.templates.scrollButton({direction:n?"left":"up"}));i=y(t.templates.scrollButton({direction:n?"right":"down"}));r.add(i).appendTo(t._scrollWrapper);t._initScrolling(t.element,r,i,n);var o=t.element.outerWidth();var a=t.element[0].style.width;a=a==="auto"?"":a;if(n)y(window).on(V,function(){setTimeout(function(){t._setOverflowWrapperWidth(o,a);t._toggleScrollButtons(t.element,r,i,n)},300)});t._setOverflowWrapperWidth(o,a);t._toggleScrollButtons(t.element,r,i,n)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n=this;var r=n._scrollWrapper.css("width");n._scrollWrapper.css({width:""});var i=n._scrollWrapper.outerWidth();n._scrollWrapper.css({width:r});var o=n.element.outerWidth();var a=n.element[0].offsetWidth-n.element[0].clientWidth;if(o!=i&&i>0){var s=t?Math.min(e,i):i;n.element.width(s-a);n._scrollWrapper.width(s)}},_reinitOverflow:function(e){var t=this;var n=e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&e.scrollable.distance!=t.options.scrollable.distance||e.orientation!=t.options.orientation;if(n){t._detachMenuEventsHandlers();t._destroyOverflow();t._initOverflow(e);t._attachMenuEventsHandlers()}},_destroyOverflow:function(){var e=this;var i=e._overflowWrapper();if(i){i.off(g);i.find(ge).off(g).remove();i.children(d).each(function(e,t){var n=y(t).children(ue);n.off(Y);var r=Re(n,i);if(r.length)r.append(t)});i.find(Me()).removeAttr("data-groupparent");i.find(Ne()).removeAttr("data-group");e.element.off(Y);y(window).off(V);i.contents().unwrap();e._scrollWrapper=e._popupsWrapper=e._openedPopups=w}},_initScrolling:function(o,a,s,l){var p=this;var e=p.options.scrollable;var t=p.isNumeric(e.distance)?e.distance:b;var u=t/2;var c="-="+t;var f="+="+t;var d="-="+t*2;var m="+="+t*2;var n=false;var r=false;var i=function(e){var t=l?{scrollLeft:e}:{scrollTop:e};o.finish().animate(t,"fast","linear",function(){if(n)i(e)});p._toggleScrollButtons(o,a,s,l)};var v=function(e){if(!n&&!r){i(e.data.direction);n=true}};var h=function(e){var t=l?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};r=je(e)||Ge(e);o.stop().animate(t,"fast","linear",function(){if(!r)y(e.currentTarget).trigger(K);else{p._toggleScrollButtons(o,a,s,l);n=true}});n=false;e.stopPropagation();e.preventDefault()};a.on(K+g,{direction:c},v).on(P.eventMap.down+g,{direction:d},h);s.on(K+g,{direction:f},v).on(P.eventMap.down+g,{direction:m},h);a.add(s).on(X+g,function(){o.stop();n=false;p._toggleScrollButtons(o,a,s,l)});o.on(Y,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=Le(e.originalEvent);var n=Math.abs(t)*u;var r=(t>0?"+=":"-=")+n;var i=l?{scrollLeft:r}:{scrollTop:r};p._closeChildPopups(o);o.finish().animate(i,"fast","linear",function(){p._toggleScrollButtons(o,a,s,l)});e.preventDefault()}})},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},_toggleScrollButtons:function(e,t,n,r){var i=r?P.scrollLeft(e):e.scrollTop();var o=r?Z:$;var a=r?Q:ee;t.toggle(i!==0);n.toggle(i<e[0][o]-e[0][a]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e);e.animation=_(true,t,e.animation);if("dataSource"in e)this._dataSource(e);this._updateClasses();this._reinitOverflow(e);v.fn.setOptions.call(this,e)},destroy:function(){var e=this;v.fn.destroy.call(e);e._detachMenuEventsHandlers();e._destroyOverflow();P.destroy(e.element)},enable:function(e,t){this._toggleDisabled(e,t!==false);return this},disable:function(e){this._toggleDisabled(e,false);return this},attemptGetItem:function(e){e=e||this.element;var t=this.element.find(e);var n=this._overflowWrapper();if(t.length||e===this.element)return t;else if(n)return n.find(e);else return y()},append:function(t,e){e=this.attemptGetItem(e);var n=this._insert(t,e,e.length?this._childPopupElement(e):null);f(n.items,function(e){n.group.append(this);He(this);We(this,t[e]||t)});He(e);Ie(n.group.find(".k-first, .k-last").add(n.items));Se(Ee(n.group));return this},insertBefore:function(t,n){n=this.attemptGetItem(n);var e=this._insert(t,n,n.parent());f(e.items,function(e){n.before(this);He(this);Ie(this);We(this,t[e]||t)});Ie(n);return this},insertAfter:function(t,n){n=this.attemptGetItem(n);var e=this._insert(t,n,n.parent());f(e.items,function(e){n.after(this);He(this);Ie(this);We(this,t[e]||t)});Ie(n);return this},_insert:function(e,t,n){var r=this,i,o;if(!t||!t.length)n=r.element;var a=y.isPlainObject(e)||e instanceof P.data.ObservableObject,s={firstLevel:n.hasClass(H),horizontal:n.hasClass(H+"-horizontal"),expanded:true,length:n.children().length};if(t&&!n.length)n=y(r.renderGroup({group:s,options:r.options})).appendTo(t);if(a||c(e)||e instanceof P.data.ObservableArray)i=y(y.map(a?[e]:e,function(e,t){if(typeof e==="string")return y(e).get();else return y(r.renderItem({group:s,item:_(e,{index:t})})).get()}));else{if(typeof e=="string"&&e.charAt(0)!="<")i=r.element.find(e);else i=y(e);o=i.find("> ul").addClass("k-menu-group k-menu-group-md").attr("role","menu");i=i.filter("li");i.add(o.find("> li")).each(function(){Te(this)})}return{items:i,group:n}},remove:function(e){e=this.attemptGetItem(e);var t=this,n=e.parentsUntil(t.element,x),r=e.parent("ul:not(.k-menu)");e.remove();if(r&&!r.children(x).length){var i=Ee(r);var o=r.parent(d);if(o.length)o.remove();else r.remove();Se(i)}if(n.length){n=n.eq(0);He(n);Ie(n)}return t},_openAfterLoad:function(e,t){var n=this;if(t.loaded()){n.open(e);n._loading=false}else t.one(j,function(){e.find(S).removeClass("k-i-loading");if(n._loading){n.open(e);n._loading=false}})},open:function(e){var f=this;var d=f.options;var m=d.orientation=="horizontal";var v=d.direction;var h=P.support.isRtl(f.wrapper);var g=f._overflowWrapper();e=(g||f.element).find(e);var t=f.dataSource&&f.dataSource.getByUid(e.data(P.ns+"uid"));if(t&&t.hasChildren&&!t.loaded()&&!f._loading){f._loading=true;e.find(S).addClass("k-i-loading");t.load();f._openAfterLoad(e,t);return}if(/^(top|bottom|default)$/.test(v))if(h)v=m?(v+" left").replace("default","bottom"):"left";else v=m?(v+" right").replace("default","bottom"):"right";var n=">.k-popup:visible,>.k-animation-container>.k-popup:visible";var r=function(){var e=y(this).data(ie);if(e)f.close(y(this).closest("li.k-item"),true)};e.siblings().find(n).each(r);if(g)e.find(n).each(r);if(f.options.openOnClick)f.clicked=true;e.each(function(){var c=y(this);clearTimeout(c.data(A));c.data(A,setTimeout(function(){var e=c.find("> .k-menu-group, > .k-animation-container > .k-menu-group").filter(":hidden").first();var t;var n;if(!e[0]&&g){n=f._getPopup(c);e=n&&n.element}if(e.is(":visible"))return;if(e[0]&&f._triggerEvent({item:c[0],type:T})===false){if(!e.find(".k-menu-group")[0]&&e.children(".k-item").length>1){var r=y(window).height(),i=function(){e.css({maxHeight:r-(P._outerHeight(e)-e.height())-P.getShadows(e).bottom,overflow:"auto"})};i()}else e.css({maxHeight:"",overflow:""});c.data(B,c.css(B));var o=f.nextItemZIndex++;c.css(B,o);if(f.options.scrollable)c.parent().siblings(ge).css({zIndex:++o});t=e.data(ie);var a=c.parent().hasClass(H),u=a&&m,s=xe(v,a,h),l=d.animation.open.effects,p=l!==w?l:"slideIn:"+Pe(v,a);if(!t)t=e.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:R})},deactivate:function(e){f._closing=false;e.sender.element.removeData("targetTransform").css({opacity:""});f._triggerEvent({item:this.wrapper.parent(),type:U})},origin:s.origin,position:s.position,collision:d.popupCollision!==w?d.popupCollision:u?"fit":"fit flip",anchor:c,appendTo:g||c,animation:{open:_(true,{effects:p},d.animation.open),close:d.animation.close},open:k(f._popupOpen,f),close:function(e){f._closing=e.sender.element;var t=e.sender.wrapper.parent();if(g){var n=e.sender.element.data(te);if(n)t=(g||f.element).find(Me(n));e.sender.wrapper.children(ge).hide()}if(!f._triggerEvent({item:t[0],type:W})){t.css(B,t.data(B));t.removeData(B);if(f.options.scrollable)t.parent().siblings(ge).css({zIndex:""});if(C||G||P.support.mouseAndTouchPresent){t.removeClass(oe);f._removeHoverItem()}}else e.preventDefault()}}).data(ie);else{t=e.data(ie);t.options.origin=s.origin;t.options.position=s.position;t.options.animation.open.effects=p}e.removeAttr("aria-hidden");c.attr(Ce,true);f._configurePopupOverflow(t,c);t._hovered=true;t.open();f._initPopupScrolling(t)}},f.options.hoverDelay))});return f},_configurePopupOverflow:function(e,t){var n=this;if(n.options.scrollable){n._wrapPopupElement(e);if(!t.attr("data-groupparent")){var r=(new Date).getTime();t.attr("data-groupparent",r);e.element.attr("data-group",r)}}},_wrapPopupElement:function(e){if(!e.element.parent().is(d))e.wrapper=P.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"})},_initPopupScrolling:function(e,t,n){var r=this;if(r.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight)r._initPopupScrollButtons(e,t,n)},_initPopupScrollButtons:function(n,r,i){var o=this;var a=n.wrapper.children(ge);var e=o.options.animation;var t=(e&&e.open&&e.open.duration||0)+s;setTimeout(function(){if(!a.length){var e=y(o.templates.scrollButton({direction:r?"left":"up"}));var t=y(o.templates.scrollButton({direction:r?"right":"down"}));a=e.add(t).appendTo(n.wrapper);o._initScrolling(n.element,e,t,r);if(!i)a.on(K+g,function(){var r=o._overflowWrapper();y(Be(n.element,r)).each(function(e,t){var n=r.find(Me(t.data(te)));o.close(n)})}).on(X+g,function(){setTimeout(function(){if(y.isEmptyObject(o._openedPopups))o._closeParentPopups(n.element)},s)})}o._toggleScrollButtons(n.element,a.first(),a.last(),r)},t)},_popupOpen:function(e){if(!this._keyTriggered)e.sender.element.children("."+ae).removeClass(ae);if(this.options.scrollable)this._setPopupHeight(e.sender)},_setPopupHeight:function(e,t){var n=e.element;var r=n.add(n.parent(d));r.height(n.hasClass(H)&&this._initialHeight||"");var i=e._location(t);var o=y(window).height();var a=i.height;var s=t?0:Math.max(i.top,0);var l=t?0:Fe(this._overflowWrapper()[0],"scrollTop");var u=window.innerHeight-o;var p=o-P.getShadows(n).bottom+u;var c=p+l>a+s;if(!c){var f=Math.min(p,p-s+l);r.css({overflow:"hidden",height:f+"px"})}},close:function(n,e){var r=this;var i=r._overflowWrapper();var t=i||r.element;n=t.find(n);if(!n.length)n=t.find(">.k-item");var o=function(e){var n=false;if(y.isEmptyObject(r._openedPopups))return n;y(Be(e,i)).each(function(e,t){n=!!r._openedPopups[t.data(te).toString()];return!n});return n};var a=function(e){var t=e.data(ne);return!i||!t||!r._openedPopups[t.toString()]};n.each(function(){var t=y(this);t.attr(Ce,false);if(!e&&r._isRootItem(t))r.clicked=false;clearTimeout(t.data(A));t.data(A,setTimeout(function(){var e=r._getPopup(t);if(e&&(a(t)||r._forceClose)){if(!r._forceClose&&o(e.element))return;e.close();e.element.attr("aria-hidden",true);if(i)if(r._forceClose&&n.last().is(t[0]))delete r._forceClose}},r.options.hoverDelay))});return r},_getPopup:function(e){var t=this;var n=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):visible").first().data(ie);var r=t._overflowWrapper();if(!n&&r){var i=e.data(ne);if(i){var o=r.find(Ne(i));n=o.data(ie)}}return n},_toggleDisabled:function(e,t){this.element.find(e).each(function(){y(this).toggleClass(se,!t).attr("aria-disabled",!t)})},_toggleHover:function(e){var t=y(P.eventTarget(e)||e.target).closest(x),n=e.type==K||i.indexOf(e.type)!==-1;t.siblings().removeClass(oe);if(!t.parents("li."+se).length)t.toggleClass(oe,n||e.type=="mousedown"||e.type=="pointerover"||e.type==J);this._removeHoverItem()},_preventClose:function(){if(!this.options.closeOnClick)this._closurePrevented=true},_checkActiveElement:function(e){var t=this,n=y(e?e.currentTarget:this._hoverItem()),r=t._findRootParent(n)[0];if(!this._closurePrevented)setTimeout(function(){if(!document.hasFocus()||!u(r,P._activeElement())&&e&&!u(r,e.currentTarget))t.close(r)},0);this._closurePrevented=false},_removeHoverItem:function(){var e=this._hoverItem();if(e&&e.hasClass(ae)){e.removeClass(ae);this._oldHoverItem=null}},_updateClasses:function(){var e=this.element,t=".k-menu-init div ul",n;e.removeClass("k-menu-horizontal k-menu-vertical");e.addClass("k-widget k-reset k-menu-init "+H).addClass(H+"-"+this.options.orientation);if(this.options.orientation==="vertical")e.attr("aria-orientation","vertical");else e.attr("aria-orientation","horizontal");e.find("li > ul").filter(function(){return!P.support.matchesSelector.call(this,t)}).addClass("k-group k-menu-group k-menu-group-md").attr("role","menu").hide().attr("aria-hidden",e.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1");e.find("li[aria-haspopup]").attr(Ce,false);n=e.find("> li,.k-menu-group > li");e.removeClass("k-menu-init");n.each(function(){Te(this)})},_mouseenter:function(e){var n=this;var t=y(e.currentTarget);var r=n._itemHasChildren(t);var i=t.data(ne)||t.parent().data(te);var o=Ge(e);var a=false;if(i)n._openedPopups[i.toString()]=true;if(n._closing)a=!!n._closing.find(t).length;if(a||e.delegateTarget!=t.parents(pe)[0]&&e.delegateTarget!=t.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0])return;n._keyTriggered=false;if(n.options.openOnClick.rootMenuItems&&n._isRootItem(t.closest(x))||n.options.openOnClick.subMenuItems&&!n._isRootItem(t.closest(x)))return;if((n.options.openOnClick===false||n.options.openOnClick.rootMenuItems===false&&n._isRootItem(t.closest(x))||n.options.openOnClick.subMenuItems===false&&!n._isRootItem(t.closest(x))||n.clicked)&&!C&&!(o&&n._isRootItem(t.closest(x))))if(!u(e.currentTarget,e.relatedTarget)&&r)n.open(t);if(n.options.openOnClick===true&&n.clicked||C)t.siblings().each(k(function(e,t){n.close(t,true)},n))},_mousedown:function(e){var n=this;var t=y(e.currentTarget);if(n.options.openOnClick.subMenuItems&&!n._isRootItem(t)||C)t.siblings().each(k(function(e,t){n.close(t,true)},n))},_mouseleave:function(e){var t=this;var n=y(e.currentTarget);var r=n.data(ne);var i=n.children(d).length||n.children(ue).length||r;var o=y(window);if(r)delete t._openedPopups[r.toString()];if(n.parentsUntil(d,".k-list-container,.k-calendar-container")[0]){e.stopImmediatePropagation();return}if((t.options.openOnClick===false||!t.options.openOnClick.rootMenuItems&&t._isRootItem(n)||!t.options.openOnClick.subMenuItems&&!t._isRootItem(n))&&!C&&!Ge(e)&&!u(e.currentTarget,e.relatedTarget||e.target)&&i&&!u(e.currentTarget,P._activeElement())){t.close(n,true);t._loading=false;return}if(P.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!Ge(e)||e.clientX<0||e.clientY<0||e.clientY>o.height()||e.clientX>o.width())t.close(n)},_mouseenterPopup:function(e){var t=this;var n=y(e.currentTarget);if(n.parent().is(d))return;n=n.children("ul");var r=n.data(te);if(r)t._openedPopups[r.toString()]=true},_mouseleavePopup:function(e){var t=this;var n=y(e.currentTarget);if(!Ge(e)&&n.is(d))t._closePopups(n.children("ul"))},_closePopups:function(t){var n=this;var e=n._overflowWrapper();var r=t.data(te);if(r){delete n._openedPopups[r.toString()];var i=e.find(Me(r));setTimeout(function(){if(n.options.openOnClick)n._closeChildPopups(t);else if(y.isEmptyObject(n._openedPopups)){var e=n._innerPopup(t);n._closeParentPopups(e)}else n.close(i,true)},0)}},_closeChildPopups:function(e){var t=this;var n=t._overflowWrapper();y(Be(e,n)).each(function(){var e=n.find(Me(this.data(te)));t.close(e,true)})},_innerPopup:function(e){var t=this._overflowWrapper();var n=Be(e,t);return n[n.length-1]||e},_closeParentPopups:function(e){var t=this;var n=t._overflowWrapper();var r=e.data(te);var i=n.find(Me(r));r=i.parent().data(te);t.close(i,true);while(r&&!t._openedPopups[r]){if(i.parent().is(pe))break;i=n.find(Me(r));t.close(i,true);r=i.parent().data(te)}},_click:function(e){var t=this,u,n=t.options,r=y(P.eventTarget(e)),i=r[0],o=r[0]?r[0].nodeName.toUpperCase():"",c=o=="INPUT"||o=="SELECT"||o=="BUTTON"||o=="LABEL",f=r.closest(I),a=r.closest(x),s=a[0],d=f.attr("href"),l,m,v=r.attr("href"),h=y("<a href='#' />").attr("href"),p=!!d&&d!==h,g=p&&!!d.match(/^#/),_=!!v&&v!==h,k=t._overflowWrapper(),w;if(i&&(!i.parentNode||!s))return;if(y(r).hasClass("k-menu-expand-arrow-icon"))this._lastClickedElement=s;while(i&&i.parentNode!=s)i=i.parentNode;if(y(i).is(he))return;if(a.hasClass(se)){e.preventDefault();return}if(!e.handled&&t._triggerSelect(r,s)&&!c)e.preventDefault();e.handled=true;l=a.children(ce);if(k){var C=a.data(ne);if(C)l=k.find(Ne(C))}m=l.is(":visible");w=n.openOnClick&&m&&t._isRootItem(a);if(n.closeOnClick&&(!p||g)&&(!l.length||w)){a.removeClass(oe).css("height");t._oldHoverItem=t._findRootParent(a);var b=t._parentsUntil(f,t.element,x);t._forceClose=!!k;t.close(b);t.clicked=false;if("MSPointerUp".indexOf(e.type)!=-1)e.preventDefault();return}if(p&&e.enterKey)f[0].click();if((!t._isRootItem(a)||n.openOnClick===false)&&!n.openOnClick.subMenuItems&&!P.support.touch&&!(Ge(e)&&t._isRootItem(a.closest(x))))return;if(!p&&!c&&!_)e.preventDefault();t.clicked=true;u=l.is(":visible")?W:T;if(!n.closeOnClick&&u==W)return;t[u](a)},_parentsUntil:function(e,t,n){var r=this._overflowWrapper();if(!r)return e.parentsUntil(t,n);else{var i=ze(e,r);var o=[];y(i).each(function(){var e=y(this);if(e.is(t))return false;if(e.is(n))o.push(this)});return y(o)}},_triggerSelect:function(e,t){e=e.is(".k-link")?e:e.closest(".k-link");var n=e.data("selectHandler"),r;if(n){r=this._getEventData(e);n.call(this,r)}var i=r&&r.isDefaultPrevented();var o=this._triggerEvent({item:t,type:N});return i||o},_getEventData:function(e){var t={sender:this,target:e,_defaultPrevented:false,preventDefault:function(){this._defaultPrevented=true},isDefaultPrevented:function(){return this._defaultPrevented}};return t},_documentClick:function(e){var t=this;var n=y(e.target).hasClass("k-menu-expand-arrow-icon")?t._lastClickedElement:e.target;if(u((t._overflowWrapper()||t.element)[0],n)){t._lastClickedElement=w;return}t.clicked=false},_focus:function(e){var t=this,n=e.target,r=t._hoverItem(),i=o();if(n!=t.wrapper[0]&&!y(n).is(":kendoFocusable")){e.stopPropagation();y(n).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(ae);t.wrapper.trigger("focus");return}if(i===e.currentTarget)if(r.length)t._moveHover([],r);else if(!t._oldHoverItem)t._moveHover([],t.wrapper.children().first())},_keydown:function(e){var t=this,n=e.keyCode,r=t._oldHoverItem,i,o,a,s=P.support.isRtl(t.wrapper);if(e.target!=e.currentTarget&&n!=l.ESC)return;if(!r)r=t._oldHoverItem=t._hoverItem();o=t._itemBelongsToVertival(r);a=t._itemHasChildren(r);t._keyTriggered=true;if(n==l.RIGHT)i=t[s?"_itemLeft":"_itemRight"](r,o,a);else if(n==l.LEFT)i=t[s?"_itemRight":"_itemLeft"](r,o,a);else if(n==l.DOWN)i=t._itemDown(r,o,a);else if(n==l.UP)i=t._itemUp(r,o,a);else if(n==l.HOME){t._moveHover(r,r.parent().children().first());e.preventDefault()}else if(n==l.END){t._moveHover(r,r.parent().children().last());e.preventDefault()}else if(n==l.ESC)i=t._itemEsc(r,o);else if(n==l.ENTER||n==l.SPACEBAR){i=r.children(".k-link");if(i.length>0){t._click({target:i[0],preventDefault:function(){},enterKey:true});if(a&&!r.hasClass(se)){t.open(r);t._moveHover(r,t._childPopupElement(r).children().first())}else t._moveHoverToRoot(r,t._findRootParent(r))}}else if(n==l.TAB){i=t._findRootParent(r);t._moveHover(r,i);t._checkActiveElement();return}if(i&&i[0]){e.preventDefault();e.stopPropagation()}},_hoverItem:function(){return this.wrapper.find(".k-item.k-hover,.k-item.k-focus").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");if(!e.length)return t;return e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){if(!e||!e.length||!e[0].nodeType)return false;return e.children(".k-menu-group, div.k-animation-container").length>0||!!e.data(ne)&&!!this._overflowWrapper().children(Ne(e.data(ne)))},_moveHover:function(e,t){var n=this,r=n._ariaId;if(e.length&&t.length)e.removeClass(ae);if(t.length){if(t[0].id)r=t[0].id;t.addClass(ae);n._oldHoverItem=t;if(r){n.element.removeAttr("aria-activedescendant");y("#"+r).removeAttr("id");t.attr("id",r);n.element.attr("aria-activedescendant",r)}n._scrollToItem(t)}},_moveHoverToRoot:function(e,t){this._moveHover(e,t)},_findRootParent:function(e){if(this._isRootItem(e))return e;else return this._parentsUntil(e,pe,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(H)},_itemRight:function(e,t,n){var r=this,i,o,a;if(!t){i=e.nextAll(p+ve).eq(0);if(!i.length)i=e.prevAll(p+ve).last();r.close(e)}else if(n&&!e.hasClass(se)){r.open(e);i=r._childPopupElement(e).children().first()}else if(r.options.orientation=="horizontal"){o=r._findRootParent(e);a=r._overflowWrapper();if(a){var s=Ue(o,a);r._closeChildPopups(s)}r.close(o);i=o.nextAll(p+ve).eq(0)}if(i&&!i.length)i=r.wrapper.children(".k-item").first();else if(!i)i=[];r._moveHover(e,i);return i},_itemLeft:function(e,t){var n=this,r,i;if(!t){r=e.prevAll(p+ve).eq(0);if(!r.length)r=e.nextAll(p+ve).last();n.close(e)}else{r=e.parent().closest(".k-item");i=n._overflowWrapper();if(!r.length&&i)r=Re(e.parent(),i);n.close(r);if(n._isRootItem(r)&&n.options.orientation=="horizontal")r=r.prevAll(p+ve).eq(0)}if(!r.length)r=n.wrapper.children(".k-item").last();n._moveHover(e,r);return r},_itemDown:function(e,t,n){var r=this,i;if(!t)if(!n||e.hasClass(se))return;else{r.open(e);i=r._childPopupElement(e).children().first()}else i=e.nextAll(p+ve).eq(0);if(!i.length&&e.length)i=e.parent().children().first();else if(!e.length)i=r.wrapper.children(".k-item").first();r._moveHover(e,i);return i},_itemUp:function(e,t){var n=this,r;if(!t)return;else r=e.prevAll(p+ve).eq(0);if(!r.length&&e.length)r=e.parent().children().last();else if(!e.length)r=n.wrapper.children(".k-item").last();n._moveHover(e,r);return r},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var n=e.parent();var r=n.hasClass(H)?t.options.orientation=="horizontal":false;var i=r?"scrollLeft":"scrollTop";var o=r?P._outerWidth:P._outerHeight;var u=n[i]();var c=o(e);var a=e[0][r?"offsetLeft":"offsetTop"];var f=o(n);var s=n.siblings(ge);var l=s.length?o(s.first()):0;var p;if(u+f<a+c+l)p=a+c-f+l;else if(u>a-l)p=a-l;if(!isNaN(p)){var d={};d[i]=p;n.finish().animate(d,"fast","linear",function(){t._toggleScrollButtons(n,s.first(),s.last(),r)})}}},_itemEsc:function(e,t){var n=this,r;if(!t)return e;else{r=e.parent().closest(".k-item");n.close(r);n._moveHover(e,r)}return r},_childPopupElement:function(e){var t=e.find(".k-menu-group");var n=this._overflowWrapper();if(!t.length&&n)t=Ue(e,n);return t},_triggerEvent:function(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var t=this,n=y(P.eventTarget(e)).closest(x);if(n.hasClass(se))return;setTimeout(function(){t._moveHover([],n);if(n.children(".k-content")[0])n.parent().closest(".k-item").removeClass(ae)},200)},_animations:function(e){if(e&&"animation"in e&&!e.animation)e.animation={open:{effects:{}},close:{hide:true,effects:{}}}},_dataSource:function(e){var t=this,n=e?e.dataSource:t.options.dataSource;if(!n)return;n=c(n)?{data:n}:n;t._unbindDataSource();if(!n.fields)n.fields=[{field:"uid"},{field:"text"},{field:"url"},{field:"cssClass"},{field:"spriteCssClass"},{field:"imageUrl"},{field:"imageAttr"},{field:"attr"},{field:"contentAttr"},{field:"content"},{field:"encoded"},{field:"items"},{field:"select"}];t.dataSource=r.create(n);t._bindDataSource();t.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=k(this.refresh,this);this._errorHandler=k(this._error,this);this.dataSource.bind(j,this._refreshHandler);this.dataSource.bind(q,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;if(e){e.unbind(j,this._refreshHandler);e.unbind(q,this._errorHandler)}},_error:function(){},findByUid:function(e){var t=this._overflowWrapper()||this.element;return t.find("["+P.attr("uid")+"="+e+"]")},refresh:function(e){var t=this;var n=e.node;var r=e.action;var i=n?t.findByUid(n.uid):t.element;var o=e.items;var a=e.index;var s=y.proxy(t._updateItem,t);var l=y.proxy(t._removeItem,t);if(r=="add")t._appendItems(o,a,i);else if(r=="remove")o.forEach(l);else if(r=="itemchange")o.forEach(s);else if(r==="itemloaded")t.append(e.items,i);else this._initData();this.trigger(we,{item:i,dataItem:n})},_appendItems:function(e,t,n){var r=this;var i=n.find(p).eq(t);if(i.length)r.insertBefore(e,i);else r.append(e,n)},_removeItem:function(e){var t=this;var n=t.findByUid(e.uid);t.remove(n)},_updateItem:function(e){var t=this;var n=t.findByUid(e.uid);var r=n.next();var i=e.parentNode();t.remove(n);if(r.length)t.insertBefore(e,r);else t.append(e,i&&t.findByUid(i.uid))},_accessors:function(){var e=this,t=e.options,n,r,i,o=e.element;for(n in be){r=t[be[n]];i=o.attr(P.attr(n+"-field"));if(!r&&i)r=i;if(!r)r=n;if(!c(r))r=[r];t[be[n]]=r}},_fieldAccessor:function(e){var t=this.options[be[e]]||[],n=t.length,r="(function(item) {";if(n===0)r+="return item['"+e+"'];";else{r+="var levels = ["+y.map(t,function(e){return"function(d){ return "+P.expr(e)+"}"}).join(",")+"];";r+="if(item.level){return levels[Math.min(item.level(), "+n+"-1)](item);}else";r+="{return levels["+n+"-1](item)}"}r+="})";return r},_templates:function(){var e=this,t=e.options,n=k(e._fieldAccessor,e);if(t.template&&typeof t.template==ke)t.template=m(t.template);else if(!t.template)t.template=m("<span class='k-menu-link-text'>"+"# var text = "+n("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #</span>");e.templates={content:m("#var contentHtml = "+n("content")+"(item);#"+"<div #= contentCssAttributes(item.toJSON ? item.toJSON() : item) # tabindex='-1'>#= contentHtml || '' #</div>"),group:m("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>"+"#= renderItems(data) #"+"</ul>"),itemWrapper:m("# var url = "+n("url")+"(item); #"+"# var imageUrl = "+n("imageUrl")+"(item); #"+"# var imgAttributes = "+n("imageAttr")+"(item);#"+"# var tag = url ? 'a' : 'span' #"+"<#= tag # class='#= textClass(item) #' #if(url){#href='#= url #'#}#>"+"# if (imageUrl) { #"+"<img #= imageCssAttributes(imgAttributes) #  alt='' src='#= imageUrl #' />"+"# } #"+"#= sprite(item) #"+"#= data.menu.options.template(data) #"+"#= arrow(data) #"+"</#= tag #>"),item:m("#var contentHtml = "+n("content")+"(item);#"+"<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item.toJSON ? item.toJSON() : item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+P.attr("uid")+"='#= item.uid #' "+"# if(item.items && item.items.length > 0) { # "+"# if(item.expanded) { # "+" aria-expanded='true'"+"# } else { #"+" aria-expanded='false'"+"# } #"+"# } #"+">"+"#= itemWrapper(data) #"+"#if (item.hasChildren || item.items) { #"+"#= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) #"+"# } else if (item.content || item.contentUrl || contentHtml) { #"+"#= renderContent(data) #"+"# } #"+"</li>"),scrollButton:m("<span class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-menu-scroll-button k-scroll-#= direction #' unselectable='on'>"+"<span class='k-button-icon k-icon k-i-arrow-60-#= direction #'></span>"+"</span>"),arrow:m("<span class='k-menu-expand-arrow'><span class='#= arrowClass(item, group) #'></span></span>"),sprite:m("# var spriteCssClass = "+n("spriteCssClass")+"(data); if(spriteCssClass) {#<span class='k-sprite #= spriteCssClass #'></span>#}#"),empty:m("")}},renderItem:function(e){var t=this;e=_({menu:t,group:{}},e);var n=t.templates.empty,r=e.item;return t.templates.item(_(e,{sprite:t.templates.sprite,itemWrapper:t.templates.itemWrapper,renderContent:t.renderContent,arrow:r.items||r.content||r[t.options.dataContentField[0]]?t.templates.arrow:n,subGroup:t.renderGroup},ye))},renderGroup:function(e){var t=this;var n=t.templates||e.menu.templates;return n.group(_({renderItems:function(e){var t="",n=0,r=e.items,i=r?r.length:0,o=_({length:i},e.group);for(;n<i;n++)t+=e.menu.renderItem(_(e,{group:o,item:_({index:n},r[n])}));return t}},e,ye))},renderContent:function(e){return e.menu.templates.content(_(e,ye))}}),Ke=Je.extend({init:function(e,t){var n=this;Je.fn.init.call(n,e,t);n.element.attr("role","menu");n._marker=P.guid().substring(0,8);n.target=y(n.options.target);n._popup();n._wire()},_initOverflow:function(e){var t=this;if(e.scrollable&&!t._overflowWrapper()){t._openedPopups={};t._popupsWrapper=(t.element.parent().is(d)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent();if(t.options.orientation=="horizontal")qe(t.element);if(e.appendTo){e.appendTo=y(e.appendTo);e.appendTo.append(t._popupsWrapper)}t._initialHeight=t.element[0].style.height;t._initialWidth=t.element[0].style.width}},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:false,copyAnchorStyles:true,target:"body"},events:[T,W,R,U,N],setOptions:function(e){var t=this;Je.fn.setOptions.call(t,e);t.target.off(t.showOn+g+t._marker,t._showProxy);if(t.userEvents)t.userEvents.destroy();t.target=y(t.options.target);if(e.orientation&&t.popup.wrapper[0])t.popup.element.unwrap();t._wire();Je.fn.setOptions.call(this,e)},destroy:function(){var e=this;e.target.off(e.options.showOn+g+e._marker);re.off(P.support.mousedown+g+e._marker,e._closeProxy);if(e.userEvents)e.userEvents.destroy();Je.fn.destroy.call(e)},open:function(e,t){var n=this;e=y(e)[0];if(u(n.element[0],y(e)[0])||n._itemHasChildren(y(e)))Je.fn.open.call(n,e);else if(n._triggerEvent({item:n.element,type:T})===false){if(n.popup.visible()&&n.options.filter){n.popup.close(true);n.popup.element.kendoStop(true)}if(t!==w){var r=n._overflowWrapper();if(r){var i=r.offset();e-=i.left;t-=i.top}n.popup.wrapper.hide();n._configurePopupScrolling(e,t);n.popup.open(e,t)}else{n.popup.options.anchor=(e?e:n.popup.anchor)||n.target;n.popup.element.kendoStop(true);n._configurePopupScrolling();n.popup.open()}re.off(n.popup.downEvent,n.popup._mousedownProxy);re.on(P.support.mousedown+g+n._marker,n._closeProxy);n.element.trigger("focus")}return n},_configurePopupScrolling:function(e,t){var n=this;var r=n.popup;var i=n.options.orientation=="horizontal";if(n.options.scrollable){n._wrapPopupElement(r);r.element.parent().css({position:"",height:""});r.element.css({visibility:"hidden",display:"",position:""});if(i)n._setPopupWidth(r,isNaN(e)?w:{isFixed:true,x:e,y:t});else n._setPopupHeight(r,isNaN(e)?w:{isFixed:true,x:e,y:t});r.element.css({visibility:"",display:"none",position:"absolute"});n._initPopupScrollButtons(r,i,true);r.element.siblings(ge).hide()}},_setPopupWidth:function(e,t){var n=e.element;var r=n.add(n.parent(d));r.width(this._initialWidth||"");var i=e._location(t);var o=y(window).width();var u=i.width;var a=Math.max(i.left,0);var s=t?0:Fe(this._overflowWrapper()[0],"scrollLeft");var l=P.getShadows(n);var p=o-l.left-l.right;var c=p+s>u+a;if(!c)r.css({overflow:"hidden",width:p-a+s+"px"})},close:function(){var e=this;if(u(e.element[0],y(arguments[0])[0])||e._itemHasChildren(arguments[0]))Je.fn.close.call(e,arguments[0]);else if(e.popup.visible())if(e._triggerEvent({item:e.element,type:W})===false){e._removeHoverItem();e.element.find("#"+e._ariaId).removeAttr("id");e.popup.close();re.off(P.support.mousedown+g+e._marker,e._closeProxy);e.unbind(N,e._closeTimeoutProxy);e.popup.options.anchor.focus()}},_showHandler:function(e){var t=e,n,r=this,i=r.options,o=P.support.mobileOS?y(t.target):y(t.currentTarget);if(e.event){t=e.event;t.pageX=e.x.location;t.pageY=e.y.location}if(u(r.element[0],e.relatedTarget||e.target))return;r._eventOrigin=t;t.preventDefault();t.stopImmediatePropagation();r.element.find("."+ae).removeClass(ae);if(i.filter&&o.is(i.filter)||!i.filter)if(i.alignToAnchor){r.popup.options.anchor=t.currentTarget;r.open(t.currentTarget)}else{r.popup.options.anchor=t.currentTarget;if(r._targetChild){n=r.target.offset();r.open(t.pageX-n.left,t.pageY-n.top)}else r.open(t.pageX,t.pageY)}},_closeHandler:function(e){var t=this,n=y(e.relatedTarget||e.target),r=n.closest(t.target.selector)[0]==t.target[0],i=n.closest(p),o=t._itemHasChildren(i),a=t._overflowWrapper(),s=u(t.element[0],n[0])||a&&u(a[0],n[0]);t._eventOrigin=e;var l=e.which!==3;if(t.popup.visible()&&(l&&r||!r)&&(t.options.closeOnClick&&!o&&s||!s))if(s){this.unbind(N,this._closeTimeoutProxy);t.bind(N,t._closeTimeoutProxy)}else t.close()},_wire:function(){var e=this,t=e.options,n=e.target;e._preventProxy=null;e._showProxy=k(e._showHandler,e);e._closeProxy=k(e._closeHandler,e);e._closeTimeoutProxy=k(e.close,e);if(n[0]){if(P.support.mobileOS&&t.showOn=="contextmenu"){e.userEvents=new P.UserEvents(n,{filter:t.filter,allowSelection:false});e._preventProxy=function(){return false};e.userEvents.bind("hold",e._showProxy)}if(t.filter)n.on(t.showOn+g+e._marker,t.filter,e._preventProxy||e._showProxy);else n.on(t.showOn+g+e._marker,e._preventProxy||e._showProxy)}},_triggerEvent:function(e){var t=this,n=y(t.popup.options.anchor)[0],r=t._eventOrigin;t._eventOrigin=w;return t.trigger(e.type,_({type:e.type,item:e.item||this.element[0],target:n},r?{event:r}:{}))},_popup:function(){var e=this;var t=e._overflowWrapper();e._triggerProxy=k(e._triggerEvent,e);e.popup=e.element.addClass("k-context-menu").kendoPopup({autosize:e.options.orientation==="horizontal",anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy,appendTo:t||e.options.appendTo,close:!t?y.noop:function(e){y(Be(e.sender.element,t)).each(function(e,t){var n=t.data(ie);if(n)n.close(true)})}}).data(ie);e._targetChild=u(e.target[0],e.popup.element[0])},_moveHoverToRoot:function(e,t){this._moveHover(e,t);this.close()},_focus:function(e){var t=this._oldHoverItem=this._hoverItem()||[];Je.fn._focus.call(this,e);if(o()===e.currentTarget)this._moveHover(t,this.wrapper.children().first())}});return t.plugin(Je),t.plugin(Ke),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.menu.min.js.map
