/** 
 * Copyright 2017 Telerik AD                                                                                                                                                                            
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.menu.min",["kendo.popup.min"],e)}(function(){return function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function o(e,t,n){e=e.split(" ")[!t+0]||e;var o={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},r=/left|right/.test(e);return r?(o.origin=["top",e],o.position[1]=O.directions[e].reverse):(o.origin[0]=e,o.position[0]=O.directions[e].reverse),o.origin=o.origin.join(" "),o.position=o.position.join(" "),o}function r(t,n){try{return e.contains(t,n)}catch(o){return!1}}function i(t){t=e(t),t.addClass("k-item").children(j).addClass(Z),t.children("a").addClass(K).children(j).addClass(Z),t.filter(":not([disabled])").addClass(ge),t.filter(".k-separator").empty().append("&nbsp;"),t.filter("li[disabled]").addClass(we).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+K).length||t.contents().filter(function(){return!(this.nodeName.match(L)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+K+"'/>"),s(t),l(t)}function s(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),t.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var t=e(this),n=a(t);t.append("<span class='k-icon"+n+" k-menu-expand-arrow'/>")})}function a(e){var t,n=e.parent().parent(),o=O.support.isRtl(n);return t=n.hasClass(G+"-horizontal")?" k-i-arrow-60-down":o?" k-i-arrow-60-left":" k-i-arrow-60-right"}function l(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(V),t.filter(".k-last:not(:last-child)").removeClass(X),t.filter(":first-child").addClass(V),t.filter(":last-child").addClass(X)}function p(e){var t,n;if(e&&e.length)for(t in e)n=e.eq(t),n.find("ul").length?n.attr("aria-haspopup",!0):n.removeAttr("aria-haspopup")}function c(e){if(!e.hasClass(G))return e.parentsUntil("."+G,"li")}function u(t,n){var o=f(n);o&&d(t,o),n.items&&e(t).children("ul").children("li").each(function(e){u(this,n.items[e])})}function d(t,n){e(t).children(".k-link").data({selectHandler:n})}function f(e){var t=e.select,n=O.isFunction;return t&&n(t)?t:null}function h(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function m(e){return e?"ul[data-group='"+e+"']":"ul[data-group]"}function v(t,n){var o=t.find(h()),r=[];return o.each(function(o,i){var s,a;for(i=e(i),s=i.data(he),a=t;s;)a=n.find(m(s)+":visible"),a.length&&r.push(a),i=a.find(h()),s=i.data(he)}),r}function g(t,n){var o=t.data(fe);return o?n.find(h(o)):e([])}function _(t,n){var o=t.data(he);return o?n.children(ye).children(m(o)):e([])}function k(t,n){var o,r,i=[],s=function(e){for(;e.parentNode&&!n.is(e.parentNode);)i.push(e.parentNode),e=e.parentNode},a=t[0]||t;for(s(a),o=i[i.length-1];e(o).is(ye)&&(r=e(o).children("ul"),a=g(r,n)[0]);)i.push(a),s(a),o=i[i.length-1];return i}function w(e){var t=0;return e.wheelDelta&&(t=-e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)),e.detail&&(t=Math.round(e.detail/3)),t}function C(e,t){for(var n=0,o=e.parentNode;o&&!isNaN(o[t]);)n+=o[t],o=o.parentNode;return n}function b(e){return re&&e.originalEvent&&e.originalEvent.pointerType in Re}function P(e){var t=e.originalEvent;return E&&/touch/i.test(t.type||"")}function y(e){e.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var T,O=window.kendo,x=O.ui,H=O._activeElement,E=O.support.touch&&O.support.mobileOS,W="mousedown",I="click",S=30,A=50,D=e.extend,M=e.proxy,R=e.each,N=O.template,B=O.keys,z=x.Widget,L=/^(ul|a|div)$/i,U=".kendoMenu",j="img",F="open",G="k-menu",K="k-link",X="k-last",Y="close",q="timer",V="k-first",Z="k-image",$="select",Q="zIndex",J="activate",ee="deactivate",te="touchstart"+U+" MSPointerDown"+U+" pointerdown"+U,ne=O.support.pointers,oe=O.support.msPointers,re=oe||ne,ie=ne?"pointerenter":oe?"MSPointerEnter":"mouseenter",se=ne?"pointerleave":oe?"MSPointerLeave":"mouseleave",ae="DOMMouseScroll"+U+" mousewheel"+U,le=O.support.resize+U,pe="scrollWidth",ce="scrollHeight",ue="offsetWidth",de="offsetHeight",fe="group",he="groupparent",me=e(document.documentElement),ve="kendoPopup",ge="k-state-default",_e="k-state-hover",ke="k-state-focused",we="k-state-disabled",Ce="k-state-selected",be=".k-menu",Pe=".k-menu-group",ye=".k-animation-container",Te=Pe+","+ye,Oe=":not(.k-list) > .k-item",xe=".k-item.k-state-disabled",He=".k-item",Ee=".k-item:not(.k-state-disabled)",We=".k-item:not(.k-state-disabled) > .k-link",Ie=":not(.k-item.k-separator)",Se=He+Ie+":eq(0)",Ae=He+Ie+":last",De="div:not(.k-animation-container,.k-list-container)",Me=".k-menu-scroll-button",Re={2:1,touch:1},Ne={content:N("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:N("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:N("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:N("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),scrollButton:N("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:N("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:N("<span class='#= arrowClass(item, group) #'></span>"),sprite:N("<span class='k-sprite #= spriteCssClass #'></span>"),empty:N("")},Be={wrapperCssClass:function(e,t){var n="k-item",o=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===o&&(n+=" k-first"),o==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(n+=" "+t.attr["class"]),t.selected&&(n+=" "+Ce),n},itemCssAttributes:function(e){var t,n="",o=e.attr||{};for(t in o)o.hasOwnProperty(t)&&"class"!==t&&(n+=t+'="'+o[t]+'" ');return n},imageCssAttributes:function(e){var t,n="",o=e.imageAttr||{};o["class"]?o["class"]+=" "+Z:o["class"]=Z;for(t in o)o.hasOwnProperty(t)&&(n+=t+'="'+o[t]+'" ');return n},contentCssAttributes:function(e){var t,n="",o=e.contentAttr||{},r="k-content k-group k-menu-group";o["class"]?o["class"]+=" "+r:o["class"]=r;for(t in o)o.hasOwnProperty(t)&&(n+=t+'="'+o[t]+'" ');return n},textClass:function(){return K},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-60-down":" k-i-arrow-60-right"},text:function(e){return e.encoded===!1?e.text:O.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}},ze=z.extend({init:function(e,t){var n=this;z.fn.init.call(n,e,t),e=n.wrapper=n.element,t=n.options,n._updateClasses(),n._initData(t),n._animations(t),n.nextItemZIndex=100,n._tabindex(),n._initOverflow(t),n._attachMenuEventsHandlers(),t.openOnClick&&(n.clicked=!1),e.attr("role","menubar"),e[0].id&&(n._ariaId=O.format("{0}_mn_active",e[0].id)),O.notify(n)},events:[F,Y,J,ee,$],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:t},_initData:function(e){var t=this;e.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(e.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},_attachMenuEventsHandlers:function(){var t=this,n=t.element,o=t.options,r=t._overflowWrapper();(r||n).on(te,He,M(t._focusHandler,t)).on(I+U,xe,!1).on(I+U,He,M(t._click,t)).on(te+" "+W+U,".k-content",M(t._preventClose,t)).on(ie+U,Ee,M(t._mouseenter,t)).on(se+U,Ee,M(t._mouseleave,t)).on(W+U,Ee,M(t._mousedown,t)).on(ie+U+" "+se+U+" "+W+U+" "+I+U,We,M(t._toggleHover,t)),n.on("keydown"+U,M(t._keydown,t)).on("focus"+U,M(t._focus,t)).on("focus"+U,".k-content",M(t._focus,t)).on("blur"+U,M(t._removeHoverItem,t)).on("blur"+U,"[tabindex]",M(t._checkActiveElement,t)),r&&r.on(se+U,Te,M(t._mouseleavePopup,t)).on(ie+U,Te,M(t._mouseenterPopup,t)),o.openOnClick&&(t._documentClickHandler=M(t._documentClick,t),e(document).click(t._documentClickHandler))},_detachMenuEventsHandlers:function(){var t=this,n=t._overflowWrapper();n&&n.off(U),t.element.off(U),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler)},_initOverflow:function(t){var n,o,r,i,s=this,a="horizontal"==t.orientation;t.scrollable&&(s._openedPopups={},s._scrollWrapper=s.element.wrap("<div class='k-menu-scroll-wrapper "+t.orientation+"'></div>").parent(),a&&y(s.element),n=e(Ne.scrollButton({direction:a?"left":"up"})),o=e(Ne.scrollButton({direction:a?"right":"down"})),n.add(o).appendTo(s._scrollWrapper),s._initScrolling(s.element,n,o,a),r=s.element.outerWidth(),i=s.element[0].style.width,i="auto"===i?"":i,a&&e(window).on(le,O.throttle(function(){s._setOverflowWrapperWidth(r,i),s._toggleScrollButtons(s.element,n,o,a)},100)),s._setOverflowWrapperWidth(r,i),s._toggleScrollButtons(s.element,n,o,a))},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var n,o,r,i,s=this,a=s._scrollWrapper.css("width");s._scrollWrapper.css({width:""}),n=s._scrollWrapper.outerWidth(),s._scrollWrapper.css({width:a}),o=s.element.outerWidth(),r=s.element[0].offsetWidth-s.element[0].clientWidth,o!=n&&n>0&&(i=t?Math.min(e,n):n,s.element.width(i-r),s._scrollWrapper.width(i))},_reinitOverflow:function(e){var t=this,n=e.scrollable&&!t.options.scrollable||!e.scrollable&&t.options.scrollable||e.scrollable&&t.options.scrollable&&e.scrollable.distance!=t.options.scrollable.distance||e.orientation!=t.options.orientation;n&&(t._detachMenuEventsHandlers(),t._destroyOverflow(),t._initOverflow(e),t._attachMenuEventsHandlers())},_destroyOverflow:function(){var n=this,o=n._overflowWrapper();o&&(o.off(U),o.find(Me).off(U).remove(),o.children(ye).each(function(t,n){var r,i=e(n).children(Pe);i.off(ae),r=g(i,o),r.length&&r.append(n)}),o.find(h()).removeAttr("data-groupparent"),o.find(m()).removeAttr("data-group"),n.element.off(ae),e(window).off(le),o.contents().unwrap(),n._scrollWrapper=n._popupsWrapper=n._openedPopups=t)},_initScrolling:function(t,n,o,r){var i=this,s=i.options.scrollable,a=e.isNumeric(s.distance)?s.distance:A,l=a/2,p="-="+a,c="+="+a,u="-="+2*a,d="+="+2*a,f=!1,h=!1,m=function(e){var s=r?{scrollLeft:e}:{scrollTop:e};t.finish().animate(s,"fast","linear",function(){f&&m(e)}),i._toggleScrollButtons(t,n,o,r)},v=function(e){f||h||(m(e.data.direction),f=!0)},g=function(s){var a=r?{scrollLeft:s.data.direction}:{scrollTop:s.data.direction};h=P(s)||b(s),t.stop().animate(a,"fast","linear",function(){h?(i._toggleScrollButtons(t,n,o,r),f=!0):e(s.currentTarget).trigger(ie)}),f=!1,s.stopPropagation(),s.preventDefault()};n.on(ie+U,{direction:p},v).on(O.eventMap.down+U,{direction:u},g),o.on(ie+U,{direction:c},v).on(O.eventMap.down+U,{direction:d},g),n.add(o).on(se+U,function(){t.stop(),f=!1,i._toggleScrollButtons(t,n,o,r)}),t.on(ae,function(e){var s,a,p,c;e.ctrlKey||e.shiftKey||e.altKey||(s=w(e.originalEvent),a=Math.abs(s)*l,p=(s>0?"+=":"-=")+a,c=r?{scrollLeft:p}:{scrollTop:p},i._closeChildPopups(t),t.finish().animate(c,"fast","linear",function(){i._toggleScrollButtons(t,n,o,r)}),e.preventDefault())})},_toggleScrollButtons:function(e,t,n,o){var r=o?e.scrollLeft():e.scrollTop(),i=o?pe:ce,s=o?ue:de;t.toggle(0!==r),n.toggle(r<e[0][i]-e[0][s]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=D(!0,t,e.animation),"dataSource"in e&&this._initData(e),this._updateClasses(),this._reinitOverflow(e),z.fn.setOptions.call(this,e)},destroy:function(){var e=this;z.fn.destroy.call(e),e._detachMenuEventsHandlers(),e._destroyOverflow(),O.destroy(e.element)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return R(n.items,function(t){n.group.append(this),s(this),u(this,e[t]||e)}),s(t),l(n.group.find(".k-first, .k-last").add(n.items)),p(c(n.group)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return R(n.items,function(n){t.before(this),s(this),l(this),u(this,e[n]||e)}),l(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return R(n.items,function(n){t.after(this),s(this),l(this),u(this,e[n]||e)}),l(t),this},_insert:function(t,n,o){var r,s,a,l,p=this;return n&&n.length||(o=p.element),a=e.isPlainObject(t),l={firstLevel:o.hasClass(G),horizontal:o.hasClass(G+"-horizontal"),expanded:!0,length:o.children().length},n&&!o.length&&(o=e(ze.renderGroup({group:l})).appendTo(n)),a||e.isArray(t)?r=e(e.map(a?[t]:t,function(t,n){return"string"==typeof t?e(t).get():e(ze.renderItem({group:l,item:D(t,{index:n})})).get()})):(r="string"==typeof t&&"<"!=t.charAt(0)?p.element.find(t):e(t),s=r.find("> ul").addClass("k-menu-group").attr("role","menu"),r=r.filter("li"),r.add(s.find("> li")).each(function(){i(this)})),{items:r,group:o}},remove:function(e){var t,n,o,r,i;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,Oe),o=e.parent("ul:not(.k-menu)"),e.remove(),o&&!o.children(Oe).length&&(r=c(o),i=o.parent(ye),i.length?i.remove():o.remove(),p(r)),n.length&&(n=n.eq(0),s(n),l(n)),t},open:function(r){var i=this,s=i.options,a="horizontal"==s.orientation,l=s.direction,p=O.support.isRtl(i.wrapper),c=i._overflowWrapper();return r=(c||i.element).find(r),/^(top|bottom|default)$/.test(l)&&(l=p?a?(l+" left").replace("default","bottom"):"left":a?(l+" right").replace("default","bottom"):"right"),i.options.openOnClick&&(i.clicked=!0),r.each(function(){var r=e(this);clearTimeout(r.data(q)),r.data(q,setTimeout(function(){var u,d,f,m,v,g,_,k,w,C,b=r.find(".k-menu-group:first:hidden");!b[0]&&c&&(d=i._getPopup(r),b=d&&d.element),b.is(":visible")||b[0]&&i._triggerEvent({item:r[0],type:F})===!1&&(!b.find(".k-menu-group")[0]&&b.children(".k-item").length>1?(f=e(window).height(),m=function(){b.css({maxHeight:f-(O._outerHeight(b)-b.height())-O.getShadows(b).bottom,overflow:"auto"})},O.support.browser.msie&&O.support.browser.version<=7?setTimeout(m,0):m()):b.css({maxHeight:"",overflow:""}),r.data(Q,r.css(Q)),v=i.nextItemZIndex++,r.css(Q,v),i.options.scrollable&&r.parent().siblings(Me).css({zIndex:++v}),u=b.data(ve),g=r.parent().hasClass(G),_=g&&a,k=o(l,g,p),w=s.animation.open.effects,C=w!==t?w:"slideIn:"+n(l,g),u?(u=b.data(ve),u.options.origin=k.origin,u.options.position=k.position,u.options.animation.open.effects=C):u=b.kendoPopup({activate:function(){i._triggerEvent({item:this.wrapper.parent(),type:J})},deactivate:function(e){e.sender.element.removeData("targetTransform").css({opacity:""}),i._triggerEvent({item:this.wrapper.parent(),type:ee})},origin:k.origin,position:k.position,collision:s.popupCollision!==t?s.popupCollision:_?"fit":"fit flip",anchor:r,appendTo:c||r,animation:{open:D(!0,{effects:C},s.animation.open),close:s.animation.close},open:M(i._popupOpen,i),close:function(e){var t,n=e.sender.wrapper.parent();c&&(t=e.sender.element.data(fe),t&&(n=(c||i.element).find(h(t))),e.sender.wrapper.children(Me).hide()),i._triggerEvent({item:n[0],type:Y})?e.preventDefault():(n.css(Q,n.data(Q)),n.removeData(Q),i.options.scrollable&&n.parent().siblings(Me).css({zIndex:""}),(E||re)&&(n.removeClass(_e),i._removeHoverItem()))}}).data(ve),b.removeAttr("aria-hidden"),i._configurePopupOverflow(u,r),u._hovered=!0,u.open(),i._initPopupScrolling(u))},i.options.hoverDelay))}),i},_configurePopupOverflow:function(e,t){var n,o=this;o.options.scrollable&&(o._wrapPopupElement(e),t.attr("data-groupparent")||(n=(new Date).getTime(),t.attr("data-groupparent",n),e.element.attr("data-group",n)))},_wrapPopupElement:function(e){e.element.parent().is(ye)||(e.wrapper=O.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(e,t,n){var o=this;o.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight&&o._initPopupScrollButtons(e,t,n)},_initPopupScrollButtons:function(t,n,o){var r=this,i=t.wrapper.children(Me),s=r.options.animation,a=(s&&s.open&&s.open.duration||0)+S;setTimeout(function(){var s,a;i.length||(s=e(Ne.scrollButton({direction:n?"left":"up"})),a=e(Ne.scrollButton({direction:n?"right":"down"})),i=s.add(a).appendTo(t.wrapper),r._initScrolling(t.element,s,a,n),o||i.on(ie+U,function(){var n=r._overflowWrapper();e(v(t.element,n)).each(function(e,t){var o=n.find(h(t.data(fe)));r.close(o)})}).on(se+U,function(){setTimeout(function(){e.isEmptyObject(r._openedPopups)&&r._closeParentPopups(t.element)},S)})),r._toggleScrollButtons(t.element,i.first(),i.last(),n)},a)},_popupOpen:function(e){this._keyTriggered||e.sender.element.children("."+ke).removeClass(ke),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(t,n){var o,r,i,s,a,l,p,c,u,d=t.element,f=d.add(d.parent(ye));f.height(d.hasClass(G)&&this._initialHeight||""),o=t._location(n),r=e(window).height(),i=o.height,s=n?0:Math.max(o.top,0),a=n?0:C(this._overflowWrapper()[0],"scrollTop"),l=window.innerHeight-r,p=r-O.getShadows(d).bottom+l,c=p+a>i+s,c||(u=Math.min(p,p-s+a),f.css({overflow:"hidden",height:u+"px"}))},close:function(t,n){var o,r,i=this,s=i._overflowWrapper(),a=s||i.element;return t=a.find(t),t.length||(t=a.find(">.k-item")),o=function(t){var n=!1;return e.isEmptyObject(i._openedPopups)?n:(e(v(t,s)).each(function(e,t){return n=!!i._openedPopups[""+t.data(fe)],!n}),n)},r=function(e){var t=e.data(he);return!s||!t||!i._openedPopups[""+t]},t.each(function(){var a=e(this);!n&&i._isRootItem(a)&&(i.clicked=!1),clearTimeout(a.data(q)),a.data(q,setTimeout(function(){var e=i._getPopup(a);if(e&&(r(a)||i._forceClose)){if(!i._forceClose&&o(e.element))return;e.close(),e.element.attr("aria-hidden",!0),s&&i._forceClose&&t.last().is(a[0])&&delete i._forceClose}},i.options.hoverDelay))}),i},_getPopup:function(e){var t,n,o=this,r=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(ve),i=o._overflowWrapper();return!r&&i&&(t=e.data(he),t&&(n=i.find(m(t)),r=n.data(ve))),r},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(ge,n).toggleClass(we,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(O.eventTarget(t)||t.target).closest(Oe),o=t.type==ie||W.indexOf(t.type)!==-1;n.parents("li."+we).length||n.toggleClass(_e,o||"mousedown"==t.type||"click"==t.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var n=this,o=e(t?t.currentTarget:this._hoverItem()),i=n._findRootParent(o)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(r(i,O._activeElement())||!t||r(i,t.currentTarget))||n.close(i)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(ke)&&(e.removeClass(ke),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element,n=".k-menu-init div ul";t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+G).addClass(G+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!O.support.matchesSelector.call(this,n)}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){i(this)})},_mouseenter:function(t){var n=this,o=e(t.currentTarget),i=n._itemHasChildren(o),s=o.data(he)||o.parent().data(fe),a=b(t);s&&(n._openedPopups[""+s]=!0),t.delegateTarget!=o.parents(be)[0]&&t.delegateTarget!=o.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(n._keyTriggered=!1,n.options.openOnClick.rootMenuItems&&n._isRootItem(o.closest(Oe))||n.options.openOnClick.subMenuItems&&!n._isRootItem(o.closest(Oe))||(!(n.options.openOnClick===!1||n.options.openOnClick.rootMenuItems===!1&&n._isRootItem(o.closest(Oe))||n.options.openOnClick.subMenuItems===!1&&!n._isRootItem(o.closest(Oe))||n.clicked)||E||a&&n._isRootItem(o.closest(Oe))||!r(t.currentTarget,t.relatedTarget)&&i&&n.open(o),(n.options.openOnClick===!0&&n.clicked||E)&&o.siblings().each(M(function(e,t){n.close(t,!0)},n))))},_mousedown:function(t){var n=this,o=e(t.currentTarget);(n.options.openOnClick.subMenuItems&&!n._isRootItem(o)||E)&&o.siblings().each(M(function(e,t){n.close(t,!0)},n))},_mouseleave:function(n){var o=this,i=e(n.currentTarget),s=i.data(he),a=i.children(ye).length||i.children(Pe).length||s,l=e(window);return s&&delete o._openedPopups[""+s],i.parentsUntil(ye,".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):o.options.openOnClick!==!1&&(o.options.openOnClick.rootMenuItems||!o._isRootItem(i))&&(o.options.openOnClick.subMenuItems||o._isRootItem(i))||E||b(n)||r(n.currentTarget,n.relatedTarget||n.target)||!a||r(n.currentTarget,O._activeElement())?((O.support.browser.msie&&!n.toElement&&!n.relatedTarget||n.clientX<0||n.clientY<0||n.clientY>l.height()||n.clientX>l.width())&&o.close(i),t):(o.close(i,!0),t)},_mouseenterPopup:function(t){var n,o=this,r=e(t.currentTarget);r.parent().is(ye)||(r=r.children("ul"),n=r.data(fe),n&&(o._openedPopups[""+n]=!0))},_mouseleavePopup:function(t){var n=this,o=e(t.currentTarget);!b(t)&&o.is(ye)&&n._closePopups(o.children("ul"))},_closePopups:function(t){var n,o=this,r=o._overflowWrapper(),i=t.data(fe);i&&(delete o._openedPopups[""+i],n=r.find(h(i)),setTimeout(function(){if(o.options.openOnClick)o._closeChildPopups(t);else if(e.isEmptyObject(o._openedPopups)){var r=o._innerPopup(t);o._closeParentPopups(r)}else o.close(n,!0)},0))},_closeChildPopups:function(t){var n=this,o=n._overflowWrapper();e(v(t,o)).each(function(){var e=o.find(h(this.data(fe)));n.close(e,!0)})},_innerPopup:function(e){var t=this._overflowWrapper(),n=v(e,t);return n[n.length-1]||e},_closeParentPopups:function(e){var t=this,n=t._overflowWrapper(),o=e.data(fe),r=n.find(h(o));for(o=r.parent().data(fe),t.close(r,!0);o&&!t._openedPopups[o]&&!r.parent().is(be);)r=n.find(h(o)),t.close(r,!0),o=r.parent().data(fe)},_click:function(n){for(var o,r,i,s,a,l,p=this,c=p.options,u=e(O.eventTarget(n)),d=u[0],f=u[0]?u[0].nodeName.toUpperCase():"",h="INPUT"==f||"SELECT"==f||"BUTTON"==f||"LABEL"==f,v=u.closest("."+K),g=u.closest(Oe),_=g[0],k=v.attr("href"),w=u.attr("href"),C=e("<a href='#' />").attr("href"),P=!!k&&k!==C,y=P&&!!k.match(/^#/),T=!!w&&w!==C,x=p._overflowWrapper();d&&d.parentNode!=_;)d=d.parentNode;if(!e(d).is(De)){if(g.hasClass(we))return n.preventDefault(),t;if(n.handled||!p._triggerSelect(u,_)||h||n.preventDefault(),n.handled=!0,r=g.children(Te),x&&(a=g.data(he),a&&(r=x.find(m(a)))),i=r.is(":visible"),s=c.openOnClick&&i&&p._isRootItem(g),c.closeOnClick&&(!P||y)&&(!r.length||s))return g.removeClass(_e).css("height"),p._oldHoverItem=p._findRootParent(g),l=p._parentsUntil(v,p.element,Oe),p._forceClose=!!x,p.close(l),p.clicked=!1,"MSPointerUp".indexOf(n.type)!=-1&&n.preventDefault(),t;P&&n.enterKey&&v[0].click(),(p._isRootItem(g)&&c.openOnClick!==!1||c.openOnClick.subMenuItems||O.support.touch||b(n)&&p._isRootItem(g.closest(Oe)))&&(P||h||T||n.preventDefault(),p.clicked=!0,o=r.is(":visible")?Y:F,(c.closeOnClick||o!=Y)&&p[o](g))}},_parentsUntil:function(n,o,r){var i,s,a=this._overflowWrapper();return a?(i=k(n,a),s=[],e(i).each(function(){var n=e(this);return!n.is(o)&&(n.is(r)&&s.push(this),t)}),e(s)):n.parentsUntil(o,r)},_triggerSelect:function(e,t){var n,o,r,i;return e=e.is(".k-link")?e:e.closest(".k-link"),n=e.data("selectHandler"),n&&(o=this._getEventData(e),n.call(this,o)),r=o&&o.isDefaultPrevented(),i=this._triggerEvent({item:t,type:$}),r||i},_getEventData:function(e){var t={sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}};return t},_documentClick:function(e){var t=this;r((t._overflowWrapper()||t.element)[0],e.target)||(t.clicked=!1)},_focus:function(n){var o=this,r=n.target,i=o._hoverItem(),s=H();return r==o.wrapper[0]||e(r).is(":kendoFocusable")?(s===n.currentTarget&&(i.length?o._moveHover([],i):o._oldHoverItem||o._moveHover([],o.wrapper.children().first())),t):(n.stopPropagation(),e(r).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(ke),o.wrapper.focus(),t)},_keydown:function(e){var n,o,r,i=this,s=e.keyCode,a=i._oldHoverItem,l=O.support.isRtl(i.wrapper);if(e.target==e.currentTarget||s==B.ESC){if(a||(a=i._oldHoverItem=i._hoverItem()),o=i._itemBelongsToVertival(a),r=i._itemHasChildren(a),i._keyTriggered=!0,s==B.RIGHT)n=i[l?"_itemLeft":"_itemRight"](a,o,r);else if(s==B.LEFT)n=i[l?"_itemRight":"_itemLeft"](a,o,r);else if(s==B.DOWN)n=i._itemDown(a,o,r);else if(s==B.UP)n=i._itemUp(a,o,r);else if(s==B.HOME)i._moveHover(a,a.parent().children().first()),e.preventDefault();else if(s==B.END)i._moveHover(a,a.parent().children().last()),e.preventDefault();else if(s==B.ESC)n=i._itemEsc(a,o);else if(s==B.ENTER||s==B.SPACEBAR)n=a.children(".k-link"),n.length>0&&(i._click({target:n[0],preventDefault:function(){},enterKey:!0}),r&&!a.hasClass(we)?(i.open(a),i._moveHover(a,i._childPopupElement(a).children().first())):i._moveHover(a,i._findRootParent(a)));else if(s==B.TAB)return n=i._findRootParent(a),i._moveHover(a,n),i._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-menu-group")||t:t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(e.children("ul.k-menu-group, div.k-animation-container").length>0||!!e.data(he)&&!!this._overflowWrapper().children(m(e.data(he))))},_moveHover:function(t,n){var o=this,r=o._ariaId;t.length&&n.length&&t.removeClass(ke),n.length&&(n[0].id&&(r=n[0].id),n.addClass(ke),o._oldHoverItem=n,r&&(o.element.removeAttr("aria-activedescendant"),e("#"+r).removeAttr("id"),n.attr("id",r),o.element.attr("aria-activedescendant",r)),o._scrollToItem(n))},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,be,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(G)},_itemRight:function(e,t,n){var o,r,i,s,a=this;return t?n&&!e.hasClass(we)?(a.open(e),o=a._childPopupElement(e).children().first()):"horizontal"==a.options.orientation&&(r=a._findRootParent(e),i=a._overflowWrapper(),i&&(s=_(r,i),a._closeChildPopups(s)),a.close(r),o=r.nextAll(Se)):(o=e.nextAll(Se),o.length||(o=e.prevAll(Ae)),a.close(e)),o&&!o.length?o=a.wrapper.children(".k-item").first():o||(o=[]),a._moveHover(e,o),o},_itemLeft:function(e,t){var n,o,r=this;return t?(n=e.parent().closest(".k-item"),o=r._overflowWrapper(),!n.length&&o&&(n=g(e.parent(),o)),r.close(n),r._isRootItem(n)&&"horizontal"==r.options.orientation&&(n=n.prevAll(Se))):(n=e.prevAll(Se),n.length||(n=e.nextAll(Ae)),r.close(e)),n.length||(n=r.wrapper.children(".k-item").last()),r._moveHover(e,n),n},_itemDown:function(e,t,n){var o,r=this;if(t)o=e.nextAll(Se);else{if(!n||e.hasClass(we))return;r.open(e),o=r._childPopupElement(e).children().first()}return!o.length&&e.length?o=e.parent().children().first():e.length||(o=r.wrapper.children(".k-item").first()),r._moveHover(e,o),o},_itemUp:function(e,t){var n,o=this;if(t)return n=e.prevAll(Se),!n.length&&e.length?n=e.parent().children().last():e.length||(n=o.wrapper.children(".k-item").last()),o._moveHover(e,n),n},_scrollToItem:function(e){var t,n,o,r,i,s,a,l,p,c,u,d,f=this;f.options.scrollable&&e&&e.length&&(t=e.parent(),n=!!t.hasClass(G)&&"horizontal"==f.options.orientation,o=n?"scrollLeft":"scrollTop",r=n?O._outerWidth:O._outerHeight,i=t[o](),s=r(e),a=e[0][n?"offsetLeft":"offsetTop"],l=r(t),p=t.siblings(Me),c=p.length?r(p.first()):0,i+l<a+s+c?u=a+s-l+c:i>a-c&&(u=a-c),isNaN(u)||(d={},d[o]=u,t.finish().animate(d,"fast","linear",function(){f._toggleScrollButtons(t,p.first(),p.last(),n)})))},_itemEsc:function(e,t){var n,o=this;return t?(n=e.parent().closest(".k-item"),o.close(n),o._moveHover(e,n),n):e},_childPopupElement:function(e){var t=e.find(".k-menu-group"),n=this._overflowWrapper();return!t.length&&n&&(t=_(e,n)),t},_triggerEvent:function(e){var t=this;return t.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(t){var n=this,o=e(O.eventTarget(t)).closest(Oe);o.hasClass(we)||setTimeout(function(){n._moveHover([],o),o.children(".k-content")[0]&&o.parent().closest(".k-item").removeClass(ke)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});D(ze,{renderItem:function(e){e=D({menu:{},group:{}},e);var t=Ne.empty,n=e.item;return Ne.item(D(e,{image:n.imageUrl?Ne.image:t,sprite:n.spriteCssClass?Ne.sprite:t,itemWrapper:Ne.itemWrapper,renderContent:ze.renderContent,arrow:n.items||n.content?Ne.arrow:t,subGroup:ze.renderGroup},Be))},renderGroup:function(e){return Ne.group(D({renderItems:function(e){for(var t="",n=0,o=e.items,r=o?o.length:0,i=D({length:r},e.group);n<r;n++)t+=ze.renderItem(D(e,{group:i,item:D({index:n},o[n])}));return t}},e,Be))},renderContent:function(e){return Ne.content(D(e,Be))}}),T=ze.extend({init:function(t,n){var o=this;ze.fn.init.call(o,t,n),o._marker=O.guid().substring(0,8),o.target=e(o.options.target),o._popup(),o._wire()},_initOverflow:function(e){var t=this;e.scrollable&&!t._overflowWrapper()&&(t._openedPopups={},t._popupsWrapper=(t.element.parent().is(ye)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent(),"horizontal"==t.options.orientation&&y(t.element),e.appendTo&&e.appendTo.append(t._popupsWrapper),t._initialHeight=t.element[0].style.height,t._initialWidth=t.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[F,Y,J,ee,$],setOptions:function(t){var n=this;ze.fn.setOptions.call(n,t),n.target.off(n.showOn+U+n._marker,n._showProxy),n.userEvents&&n.userEvents.destroy(),n.target=e(n.options.target),t.orientation&&n.popup.wrapper[0]&&n.popup.element.unwrap(),n._wire(),ze.fn.setOptions.call(this,t)},destroy:function(){var e=this;e.target.off(e.options.showOn+U+e._marker),me.off(O.support.mousedown+U+e._marker,e._closeProxy),e.userEvents&&e.userEvents.destroy(),ze.fn.destroy.call(e)},open:function(n,o){var i,s,a=this;return n=e(n)[0],r(a.element[0],e(n)[0])||a._itemHasChildren(e(n))?ze.fn.open.call(a,n):a._triggerEvent({item:a.element,type:F})===!1&&(a.popup.visible()&&a.options.filter&&(a.popup.close(!0),a.popup.element.kendoStop(!0)),o!==t?(i=a._overflowWrapper(),i&&(s=i.offset(),n-=s.left,o-=s.top),a.popup.wrapper.hide(),a._configurePopupScrolling(n,o),a.popup.open(n,o)):(a.popup.options.anchor=(n?n:a.popup.anchor)||a.target,a.popup.element.kendoStop(!0),a._configurePopupScrolling(),a.popup.open()),me.off(a.popup.downEvent,a.popup._mousedownProxy),me.on(O.support.mousedown+U+a._marker,a._closeProxy)),a},_configurePopupScrolling:function(e,n){var o=this,r=o.popup,i="horizontal"==o.options.orientation;o.options.scrollable&&(o._wrapPopupElement(r),r.element.parent().css({position:"",height:""
}),r.element.css({visibility:"hidden",display:"",position:""}),i?o._setPopupWidth(r,isNaN(e)?t:{isFixed:!0,x:e,y:n}):o._setPopupHeight(r,isNaN(e)?t:{isFixed:!0,x:e,y:n}),r.element.css({visibility:"",display:"none",position:"absolute"}),o._initPopupScrollButtons(r,i,!0),r.element.siblings(Me).hide())},_setPopupWidth:function(t,n){var o,r,i,s,a,l,p,c,u=t.element,d=u.add(u.parent(ye));d.width(this._initialWidth||""),o=t._location(n),r=e(window).width(),i=o.width,s=Math.max(o.left,0),a=n?0:C(this._overflowWrapper()[0],"scrollLeft"),l=O.getShadows(u),p=r-l.left-l.right,c=p+a>i+s,c||d.css({overflow:"hidden",width:p-s+a+"px"})},close:function(){var t=this;r(t.element[0],e(arguments[0])[0])||t._itemHasChildren(arguments[0])?ze.fn.close.call(t,arguments[0]):t.popup.visible()&&t._triggerEvent({item:t.element,type:Y})===!1&&(t.popup.close(),me.off(O.support.mousedown+U,t._closeProxy),t.unbind($,t._closeTimeoutProxy))},_showHandler:function(e){var t,n=e,o=this,i=o.options;e.event&&(n=e.event,n.pageX=e.x.location,n.pageY=e.y.location),r(o.element[0],e.relatedTarget||e.target)||(o._eventOrigin=n,n.preventDefault(),n.stopImmediatePropagation(),o.element.find("."+ke).removeClass(ke),(i.filter&&O.support.matchesSelector.call(n.currentTarget,i.filter)||!i.filter)&&(i.alignToAnchor?(o.popup.options.anchor=n.currentTarget,o.open(n.currentTarget)):(o.popup.options.anchor=n.currentTarget,o._targetChild?(t=o.target.offset(),o.open(n.pageX-t.left,n.pageY-t.top)):o.open(n.pageX,n.pageY))))},_closeHandler:function(t){var n,o=this,i=e(t.relatedTarget||t.target),s=i.closest(o.target.selector)[0]==o.target[0],a=i.closest(He),l=o._itemHasChildren(a),p=o._overflowWrapper(),c=r(o.element[0],i[0])||p&&r(p[0],i[0]);o._eventOrigin=t,n=3!==t.which,o.popup.visible()&&(n&&s||!s)&&(o.options.closeOnClick&&!l&&c||!c)&&(c?(this.unbind($,this._closeTimeoutProxy),o.bind($,o._closeTimeoutProxy)):o.close())},_wire:function(){var e=this,t=e.options,n=e.target;e._showProxy=M(e._showHandler,e),e._closeProxy=M(e._closeHandler,e),e._closeTimeoutProxy=M(e.close,e),n[0]&&(O.support.mobileOS&&"contextmenu"==t.showOn?(e.userEvents=new O.UserEvents(n,{filter:t.filter,allowSelection:!1}),n.on(t.showOn+U+e._marker,!1),e.userEvents.bind("hold",e._showProxy)):t.filter?n.on(t.showOn+U+e._marker,t.filter,e._showProxy):n.on(t.showOn+U+e._marker,e._showProxy))},_triggerEvent:function(n){var o=this,r=e(o.popup.options.anchor)[0],i=o._eventOrigin;return o._eventOrigin=t,o.trigger(n.type,D({type:n.type,item:n.item||this.element[0],target:r},i?{event:i}:{}))},_popup:function(){var t=this,n=t._overflowWrapper();t._triggerProxy=M(t._triggerEvent,t),t.popup=t.element.addClass("k-context-menu").kendoPopup({anchor:t.target||"body",copyAnchorStyles:t.options.copyAnchorStyles,collision:t.options.popupCollision||"fit",animation:t.options.animation,activate:t._triggerProxy,deactivate:t._triggerProxy,appendTo:n||t.options.appendTo,close:n?function(t){e(v(t.sender.element,n)).each(function(e,t){var n=t.data(ve);n&&n.close(!0)})}:e.noop}).data(ve),t._targetChild=r(t.target[0],t.popup.element[0])}}),x.plugin(ze),x.plugin(T)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.menu.min.js.map
