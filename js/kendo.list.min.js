/** 
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.list.min",["kendo.data.min","kendo.popup.min"],e)}(function(){return function(e,t){function i(e,i){return e!==t&&""!==e&&null!==e&&("boolean"===i?("boolean"!=typeof e&&(e="true"===(""+e).toLowerCase()),e=!!e):"number"===i?e=+e:"string"===i&&(e=""+e)),e}function a(e){return e[e.length-1]}function n(e){var t=e.selectedIndex;return t>-1?e.options[t]:{}}function s(e,t){var i,a,n,s,l=t.length,r=e.length,o=[],u=[];if(r)for(n=0;n<r;n++){for(i=e[n],a=!1,s=0;s<l;s++)if(i===t[s]){a=!0,o.push({index:n,item:i});break}a||u.push(i)}return{changed:o,unchanged:u}}function l(t){return!(!t||e.isEmptyObject(t))&&!(t.filters&&!t.filters.length)}function r(t,i){var a,n=!1;return t.filters&&(a=e.grep(t.filters,function(e){return n=r(e,i),e.filters?e.filters.length:e.field!=i}),n||t.filters.length===a.length||(n=!0),t.filters=a),n}var o,u,c=window.kendo,d=c.ui,h=c._outerHeight,f=/^\d+(\.\d+)?%$/i,p=d.Widget,_=c.keys,g=c.support,m=c.htmlEncode,v=c._activeElement,b=c._outerWidth,x=c.data.ObservableArray,w="id",I="change",y="k-focus",S="k-hover",k="k-selected",C="k-i-loading",T="k-list",F="k-table",V="k-data-table",D="k-table-md",H="k-list-ul",B="k-table-list",E=".k-list-group-sticky-header",L=".k-list-item-group-label",P=".k-list-item",A="_label",G="open",W="close",q="cascade",N="select",z="click",O="mouseleave",M="mouseenter",R="activate",U="deactivate",j="dataBinding",$="dataBound",Q="selectedItemChange",Y="selected",K="requestStart",X="requestEnd",J="blur",Z="focus",ee="focusout",te=e.extend,ie=e.proxy,ae=Array.isArray,ne=g.browser,se="k-hidden",le="width",re="text",oe="value",ue=ne.msie,ce=/"/g,de={ComboBox:["DropDownList","MultiColumnComboBox"],DropDownList:["ComboBox","MultiColumnComboBox"],MultiColumnComboBox:["ComboBox","DropDownList"]},he='<ul unselectable="on"/>',fe="<div class='k-list'/>",pe='<div class="k-list-header">',_e='<div class="k-no-data" style="display: none;"></div>',ge='<div class="k-list-footer"></div>',me="mousedown",ve="-list",be="_listbox",xe="aria-labelledby",we="aria-label",Ie="aria-activedescendant",ye="aria-autocomplete",Se="aria-controls",ke="aria-live",Ce="aria-expanded",Te="aria-hidden",Fe="aria-busy",Ve="aria-multiselectable",De="aria-selected",He=".k-table-group-row",Be=".",Ee=c.ui.DataBoundWidget.extend({init:function(t,i){var a,n=this,s=n.ns;p.fn.init.call(n,t,i),t=n.element,i=n.options,n._isSelect=t.is(N),n._isSelect&&n.element[0].length&&(i.dataSource||(i.dataTextField=i.dataTextField||re,i.dataValueField=i.dataValueField||oe)),n._listSize=c.cssProperties.getValidClass({widget:"List",propName:"size",value:i.size}),n.ul=e(he).attr({tabIndex:-1,"aria-hidden":!0}),n.list=e(fe).addClass(n._listSize).append(n.ul).on(me+s,ie(n._listMousedown,n)),a=t.attr(w),a||(a=c.guid()),n.list.attr(w,a+ve),n.ul.attr(w,a+be),i.columns&&i.columns.length&&(n.list.removeClass(T).addClass(V),n.list.removeClass(n._listSize).addClass(D),n.ul.removeClass(H).addClass(F),n._columnsHeader()),n._header(),n._noData(),n._footer(),n._accessors(),n._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:!0,size:"medium",messages:{noData:"No data found.",clear:"clear"}},setOptions:function(e){p.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable),e.columns&&e.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.trigger(Z)},readonly:function(e){this._editable({readonly:e===t||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)})},_header:function(){var i,a,n=this,s=e(n.header),l=n.options.headerTemplate;return this._angularElement(s,"cleanup"),c.destroy(s),s.remove(),l?(a="function"!=typeof l?c.template(l):l,s=e(a({})),n.header=s[0]?s:null,i=s.wrap(pe).parent(),n.list.prepend(i),this._angularElement(n.header,"compile"),t):(n.header=null,t)},_columnsHeader:function(){var t,i,a,n,s,l,r,o,u,d,h,p=this,_=e(p.columnsHeader);for(this._angularElement(_,"cleanup"),c.destroy(_),_.remove(),t="<div class='k-table-header'><div class='k-table-header-wrap'><table class='k-table' role='presentation'>",i="<colgroup>",a="<tr class='k-table-row'>",n=0;n<this.options.columns.length;n++)s=this.options.columns[n],l=s.title||s.field||"",r=s.headerTemplate||l,o="function"!=typeof r?c.template(r):r,u=s.width,d=parseInt(u,10),h="",u&&!isNaN(d)&&(h+="style='width:",h+=d,h+=f.test(u)?"%":"px",h+=";'"),i+="<col "+h+"/>",a+="<th class='k-table-th'>",a+=o(s),a+="</th>";i+="</colgroup>",a+="</tr>",t+=i,t+="<thead class='k-table-thead'>",t+=a,t+="</thead></table></div></div>",p.columnsHeader=_=e(t),p.list.prepend(_),this._angularElement(p.columnsHeader,"compile")},_noData:function(){var i=this,a=e(i.noData),n=i.options.noDataTemplate===!0?i.options.messages.noData:i.options.noDataTemplate;return i.angular("cleanup",function(){return{elements:a}}),c.destroy(a),a.remove(),n?(i.noData=e(_e).appendTo(i.list),i.noDataTemplate="function"!=typeof n?c.template(n):n,t):(i.noData=null,t)},_footer:function(){var i=this,a=e(i.footer),n=i.options.footerTemplate;return this._angularElement(a,"cleanup"),c.destroy(a),a.remove(),n?(i.footer=e(ge).appendTo(i.list),i.footerTemplate="function"!=typeof n?c.template(n):n,t):(i.footer=null,t)},_listOptions:function(t){var i=this,a=i.options,n=a.virtual,s={change:ie(i._listChange,i)},l=ie(i._listBound,i),r=i._focused,o=i.element.attr("id"),u=e('label[for="'+i.element.attr("id")+'"]'),d=r.attr(xe);return!d&&u.length&&(d=u.attr("id")||i._generateLabelId(u,o||c.guid())),n="object"==typeof n?n:{},t=e.extend({autoBind:!1,selectable:!0,dataSource:i.dataSource,click:ie(i._click,i),activate:ie(i._activateItem,i),columns:a.columns,deactivate:ie(i._deactivateItem,i),dataBinding:function(){i.trigger(j)},dataBound:l,height:a.height,dataValueField:a.dataValueField,dataTextField:a.dataTextField,groupTemplate:a.groupTemplate,fixedGroupTemplate:a.fixedGroupTemplate,template:a.template,ariaLabel:r.attr(we),ariaLabelledBy:d,listSize:i._listSize},t,n,s),t.template||(t.template="#:"+c.expr(t.dataTextField,"data")+"#"),a.$angular&&(t.$angular=a.$angular),t},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:ie(e._listChange,e)});e.options.virtual?(e.listView=new c.ui.VirtualList(e.ul,t),e.list.find(Be+T).addClass("k-virtual-list"),e.list.find(Be+V).addClass("k-virtual-table")):e.listView=new c.ui.StaticList(e.ul,t),e.listView.bind("listBound",ie(e._listBound,e)),e._setListValue()},_setListValue:function(e){e=e||this.options.value,e!==t&&this.listView.value(e).done(ie(this._updateSelectionState,this))},_updateSelectionState:e.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){var e=this;e._clear&&e._clear.addClass(se)},_showClear:function(){this._clear&&this._clear.removeClass(se)},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=t),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(t,i){var a,n,s=this,o=s.options,u=o.filterFields&&t&&t.logic&&t.filters&&t.filters.length,c=s.dataSource,d=te({},c.filter()||{}),h=t||d.filters&&d.filters.length&&!t,f=r(d,o.dataTextField);return this._clearFilterExpressions(d),(t||f)&&s.trigger("filtering",{filter:t})?e.Deferred().reject().promise():(a={filters:[],logic:"and"},u?a.filters.push(t):this._pushFilterExpression(a,t),l(d)&&(a.logic===d.logic?a.filters=a.filters.concat(d.filters):a.filters.push(d)),s._cascading&&this.listView.setDSFilter(a),n=te({},{page:h?1:c.page(),pageSize:h?c.options.pageSize:c.pageSize(),sort:c.sort(),filter:c.filter(),group:c.group(),aggregate:c.aggregate()},{filter:a}),c[i?"read":"query"](c._mergeState(n)))},_pushFilterExpression:function(e,t){l(t)&&""!==t.value&&e.filters.push(t)},_clearFilterExpressions:function(e){var t,i;if(e.filters){for(i=0;i<e.filters.length;i++)"fromFilter"in e.filters[i]&&(t=i);isNaN(t)||e.filters.splice(t,1)}},_angularElement:function(e,t){e&&this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this,t=e.noData;t&&(this._angularElement(t,"cleanup"),t.html(e.noDataTemplate({instance:e})),this._angularElement(t,"compile"))},_toggleNoData:function(t){e(this.noData).toggle(t)},_toggleHeader:function(e){var t=this.listView.content.prev(E);t.toggle(e)},_renderFooter:function(){var e=this,t=e.footer;t&&(this._angularElement(t,"cleanup"),t.html(e.footerTemplate({instance:e})),this._angularElement(t,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,i=t.dataSource.reader.model;i&&i.fields&&(e=i.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t,i,a=this,n=a.options,s=e.word,l=n.filterFields,r=n.dataTextField;if(l&&l.length)for(t={logic:"or",filters:[],fromFilter:!0},i=0;i<l.length;i++)this._pushFilterExpression(t,a._buildExpression(s,l[i]));else t=a._buildExpression(s,r);a._open=e.open,a._filterSource(t)},_buildExpression:function(e,t){var i=this,a=i.options,n=a.ignoreCase,s=i.dataSource.options.accentFoldingFiltering;return{value:n?s?e.toLocaleLowerCase(s):e.toLowerCase():e,field:t,operator:a.filter,ignoreCase:n}},_clearButton:function(){var t=this,i=t.options.messages.clear;t._clear||(t._clear=e('<span unselectable="on" class="k-clear-value" title="'+i+'"><span class="k-icon k-i-x"></span></span>').attr({role:"button",tabIndex:-1})),t.options.clearButton||t._clear.remove(),this._hideClear()},search:function(e){var t=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!e.length||e.length>=t.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!c.trim(e).length),this._isFilterEnabled()?this._filter({word:e,open:!0}):this._searchByWord(e))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this,t=e.ns;p.fn.destroy.call(e),e._unbindDataSource(),e.listView.destroy(),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(i){var a=this;if(i===t)return a.listView.selectedDataItems()[0];if("number"!=typeof i){if(a.options.virtual)return a.dataSource.getByUid(e(i).data("uid"));i=e(a.items()).index(i)}return a.dataSource.flatView()[i]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr(Ie,e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr(Ie)},_accessors:function(){var e=this,t=e.element,i=e.options,a=c.getter,n=t.attr(c.attr("text-field")),s=t.attr(c.attr("value-field"));!i.dataTextField&&n&&(i.dataTextField=n),!i.dataValueField&&s&&(i.dataValueField=s),e._text=a(i.dataTextField),e._value=a(i.dataValueField)},_aria:function(e){var i,a=this,n=a.options,s=a._focused;n.suggest!==t&&(i="none"===n.filter?n.suggest===!0?"inline":"none":n.suggest===!0?"both":"list",s.attr(ye,i)),e=e?e+" "+a.ul[0].id:a.ul[0].id,s.attr({"aria-owns":e,"aria-controls":e}),a.filterInput&&a.filterInput.length>0&&a.filterInput.attr(Se,e),a.ul.attr(ke,a._isFilterEnabled()?"polite":"off"),a._ariaLabel()},_ariaLabel:function(){var t,i=this,a=i._focused,n=i.element,s=n.attr("id"),l=e('label[for="'+s+'"]'),r=n.attr(we),o=n.attr(xe);a!==n&&(r?a.attr(we,r):o?a.attr(xe,o):l.length&&(t=l.attr("id")||i._generateLabelId(l,s||c.guid()),a.attr(xe,t)))},_generateLabelId:function(e,t){var i=t+A;return e.attr("id",i),i},_blur:function(){var e=this;e._change(),e.close(),e._userTriggered=!1},_isValueChanged:function(e){return e!==i(this._old,typeof e)},_change:function(){var e,a=this,n=a.selectedIndex,s=a.options.value,l=a.value();a._isSelect&&!a.listView.bound()&&s&&(l=s),a._isValueChanged(l)?e=!0:a._valueBeforeCascade!==t&&a._valueBeforeCascade!==i(a._old,typeof a._valueBeforeCascade)&&a._userTriggered?e=!0:n===t||n===a._oldIndex||a.listView.isFiltered()||(e=!0),e&&(a._valueBeforeCascade=a._old=null===a._old||""===a._old||""===l?l:a.dataItem()?a.options.dataValueField?a.dataItem()[a.options.dataValueField]:a.dataItem():null,a._oldIndex=n,a._typing||a.element.trigger(I),a.trigger(I)),a.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,i=e.options,a=e.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable),!i.enabled||a?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_dataValue:function(e){var i=this._value(e);return i===t&&(i=this._text(e)),i},_offsetHeight:function(){var t=0,i=this.listView.content.prevAll(":visible");return i.each(function(){var i=e(this);t+=h(i,!0)}),t},_height:function(i){var a,n,s,l=this,r=l.list,o=l.options.height,u=l.popup.visible();if(i||l.options.noDataTemplate){if(n=r.add(r.parent(".k-animation-container")).show(),!r.is(":visible"))return n.hide(),t;o=l.listView.content[0].scrollHeight>o?o:"auto",n.height(o),"auto"!==o&&(a=l._offsetHeight(),s=h(e(l.footer))||0,o=o-a-s),l.listView.content.height(o),u||n.hide()}return o},_openHandler:function(e){this._adjustListWidth(),this.trigger(G)?e.preventDefault():(this._focused.attr(Ce,!0),this.ul.attr(Te,!1))},_adjustListWidth:function(){var e,t,i=this,a=i.list,n=a[0].style.width,s=i.wrapper;if(a.data(le)||!n)return e=window.getComputedStyle?window.getComputedStyle(s[0],null):0,t=parseFloat(e&&e.width)||b(s),e&&ne.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n="border-box"!==a.css("box-sizing")?t-(b(a)-a.width()):t,a.css({fontFamily:s.css("font-family"),width:i.options.autoWidth?"auto":n,minWidth:n,whiteSpace:i.options.autoWidth?"nowrap":"normal"}).data(le,n),!0},_closeHandler:function(e){this.trigger(W)?e.preventDefault():(this._focused.attr(Ce,!1),this.ul.attr(Te,!0))},_focusItem:function(){var e=this.listView,i=!e.focus(),n=a(e.select());n===t&&this.options.highlightFirst&&i&&(n=0),n!==t?e.focus(n):i&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first").first(),i=this.listView.content.prev(E),a=0,n="right";i[0]&&"none"!==i[0].style.display&&("auto"!==e&&(a=c.support.scrollbar()),this.element.parents(".k-rtl").length&&(n="left"),a+=parseFloat(t.css("border-"+n+"-width"),10)+parseFloat(t.children(L).css("padding-"+n),10),i.css("padding-"+n,a))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){var t,i,a;this.options.columns&&this.options.columns.length&&(t=this,i=g.isRtl(t.wrapper),a=c.support.scrollbar(),t.columnsHeader.css(i?"padding-left":"padding-right","auto"!==e?a:0))},_refreshScroll:function(){var e=this.listView,t=e.element.height()>e.content.height();this.options.autoWidth&&e.content.css({overflowX:"hidden",overflowY:t?"scroll":"auto"})},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):(this.popup.one("open",function(e){return ie(function(){this._calculatePopupHeight(e)},this)}.call(this,e)),this.popup.one(R,ie(this._refreshScroll,this))))},_popup:function(){var e=this;e.list=e.list.wrap("<div>").parent(),e.popup=new d.Popup(e.list,te({},e.options.popup,{anchor:e.wrapper,open:ie(e._openHandler,e),close:ie(e._closeHandler,e),animation:e.options.animation,isRtl:g.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_toggleHover:function(t){e(t.currentTarget).toggleClass(S,t.type===M)},_toggle:function(e,i){var a=this,n=g.mobileOS&&(g.touch||g.MSPointers||g.pointers);e=e!==t?e:!a.popup.visible(),i||n||a._focused[0]===v()||(a._prevent=!0,a._focused.trigger(Z),a._prevent=!1),a[e?G:W]()},_triggerCascade:function(){var e=this;e._cascadeTriggered&&e.value()===i(e._cascadedValue,typeof e.value())||(e._cascadedValue=e.value(),e._cascadeTriggered=!0,e.trigger(q,{userTriggered:e._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(I)},_unbindDataSource:function(){var e=this;e.dataSource.unbind(K,e._requestStartHandler).unbind(X,e._requestEndHandler).unbind("error",e._errorHandler)},requireValueMapper:function(e,t){var i=(e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t);if(i&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});te(Ee,{inArray:function(e,t){var i,a,n=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,a=n.length;i<a;i++)if(e===n[i])return i;return-1},unifyType:i}),c.ui.List=Ee,d.Select=Ee.extend({init:function(e,t){Ee.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,i=this;i.options.dataSource=e,i._dataSource(),i.listView.bound()&&(i._initialIndex=null,i.listView._current=null),i.listView.setDataSource(i.dataSource),i.options.autoBind&&i.dataSource.fetch(),t=i._parentWidget(),t&&i._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var i=this;return e===t?i.selectedIndex:i._select(e).done(function(){i._cascadeValue=i._old=i._accessor(),i._oldIndex=i.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var i=this.element[0];return e===t?i.value:(null===e&&(e=""),i.value=e,t)},_accessorSelect:function(e,i){var a,s=this.element[0];return e===t?n(s).value||"":(n(s).selected=!1,i===t&&(i=-1),a=null!==e&&""!==e,a&&i==-1?this._custom(e):e?s.value=e:s.selectedIndex=i,t)},_syncValueAndText:function(){return!0},_custom:function(t){var i=this,a=i.element,n=i._customOption;n||(n=e("<option/>"),i._customOption=n,a.append(n)),n.text(t),n[0].selected=!0},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrowIcon.removeClass(C),e._focused.attr(Fe,!1),e._busy=null,e._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr(Fe,!0),t._arrowIcon.addClass(C),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,t=this,i=t.element,a=t.options,n=a.dataSource||{};n=Array.isArray(n)?{data:n}:n,t._isSelect&&(e=i[0].selectedIndex,e>-1&&(a.index=e),n.select=i,n.fields=[{field:a.dataTextField},{field:a.dataValueField}]),t.dataSource?t._unbindDataSource():(t._requestStartHandler=ie(t._showBusy,t),t._requestEndHandler=ie(t._requestEnd,t),t._errorHandler=ie(t._hideBusy,t)),t.dataSource=c.data.DataSource.create(n).bind(K,t._requestStartHandler).bind(X,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){return this.listView.focusNext()},_prevItem:function(){return this.listView.focusPrev()},_getNormalizedDataItem:function(e){var t,i=this,a=i.listView,n="number"==typeof e,s=i.optionLabel&&i.optionLabel.length;return t=n?s?--e:e:a.getElementIndex(e),a.dataItemByIndex(t)},_getNormalizedSelectCandidate:function(e){var t=this,i=t.optionLabel&&t.optionLabel.length,a="number"==typeof e,n=e;return i&&a&&n++,n},_move:function(e){var t,i,a,n,s,l,r,o,u,c=this,d=c.listView,h=e.keyCode,f=h===_.DOWN,p=c.options.virtual;if(h===_.UP||f){if(e.altKey)c.toggle(f);else{if(!d.bound()&&!c.ul[0].firstChild)return c._fetch||(c.dataSource.one(I,function(){c._fetch=!1,c._move(e)}),c._fetch=!0,c._filterSource()),e.preventDefault(),!0;a=c._focus(),c._fetch||a&&!a.hasClass(k)||(f?(n=c._nextItem(),(p&&n<=0||!c._focus()&&!n)&&c._lastItem()):(n=c._prevItem(),(p&&n>=d.dataSource.total()-1||!c._focus()&&!n)&&c._firstItem())),s=c._getNormalizedSelectCandidate(c._get(c._focus())||n||0),c._select(s,!0).done(function(){var e=function(){c.popup.visible()||c._blur(),c._cascadedValue=null===c._cascadedValue?c.value():c.dataItem()?c.dataItem()[c.options.dataValueField]||c.dataItem():null};c.trigger(N,{dataItem:c._getNormalizedDataItem(s),item:c._focus()})?c._select(a).done(e):e()})}e.preventDefault(),i=!0}else if(h===_.ENTER||h===_.TAB){if(c.popup.visible()&&e.preventDefault(),a=c._focus(),t=c.dataItem(),c.popup.visible()||t&&c.text()===c._text(t)||(a=null),l=c.filterInput&&c.filterInput[0]===v(),a){if(t=d.dataItemByIndex(d.getElementIndex(a)),o=!0,t&&(o=c._value(t)!==Ee.unifyType(c.value(),typeof c._value(t))),o&&c.trigger(N,{dataItem:t,item:a}))return;r=c._select(a)}else c.input&&((c._syncValueAndText()||c._isSelect)&&c._accessor(c.input.val()),c.listView.value(c.input.val()));c._focusElement&&c._focusElement(c.wrapper),l&&h===_.TAB?c.wrapper.focusout():r&&"function"==typeof r.done?r.done(function(){c._blur()}):c._blur(),c.close(),i=!0}else h===_.ESC?(c.popup.visible()&&e.preventDefault(),c.close(),i=!0):!c.popup.visible()||h!==_.PAGEDOWN&&h!==_.PAGEUP||(e.preventDefault(),u=h===_.PAGEDOWN?1:-1,d.scrollWith(u*d.screenHeight()),i=!0);return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,i,a){var s,l,r,o,u=this,c=u.element,d=c[0],h=e.length,f="",p=0;for(i&&(f=i);p<h;p++)s="<option",l=e[p],r=u._text(l),o=u._value(l),o!==t&&(o+="",o.indexOf('"')!==-1&&(o=o.replace(ce,"&quot;")),s+=' value="'+o+'"'),s+=">",r!==t&&(s+=m(r)),s+="</option>",f+=s;c.html(f),a!==t&&(d.value=a,d.value&&!a&&(d.selectedIndex=-1)),d.selectedIndex!==-1&&(s=n(d),s&&s.setAttribute(Y,Y))},_reset:function(){var t=this,i=t.element,a=i.attr("form"),n=a?e("#"+a):i.closest("form");n[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=n.on("reset",t._resetHandler))},_parentWidget:function(){var t,i,a,n=this.options.name;if(this.options.cascadeFrom){if(t=e("#"+this.options.cascadeFrom),i=t.data("kendo"+n),!i)for(a=0;a<de[n].length&&!(i=t.data("kendo"+de[n][a]));a+=1);return i}},_cascade:function(){var e,t=this,i=t.options,a=i.cascadeFrom;if(a){if(e=t._parentWidget(),!e)return;t._cascadeHandlerProxy=ie(t._cascadeHandler,t),t._cascadeFilterRequests=[],i.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})}),e.first(q,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one($,function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.trigger(Z)}),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),i=ue&&t instanceof d.DropDownList?J:ee;t._focused.add(t.filterInput).on(Z,function(){t.unbind(q,e._cascadeHandlerProxy),t.first(I,e._cascadeHandlerProxy)}),t._focused.add(t.filterInput).on(i,function(){t.unbind(I,e._cascadeHandlerProxy),t.first(q,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget(),i=this.value();this._userTriggered=e.userTriggered||t._userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this,a=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):a?(a!==i(t.listView.value()[0],typeof a)&&t.value(a),t.dataSource.view()[0]&&t.selectedIndex!==-1||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(e,i){var a,n,s=this,l=e.dataItem(),o=l?l[s.options.cascadeFromParentField]||e._value(l):null,u=s.options.cascadeFromField||e.options.dataValueField;s._valueBeforeCascade=i!==t?i:s.value(),o||0===o?(a=s.dataSource.filter()||{},r(a,u),n=function(){var t=s._cascadeFilterRequests.shift();t&&s.unbind("dataBound",t),t=s._cascadeFilterRequests[0],t&&s.first("dataBound",t),s._cascadeChange(e)},s._cascadeFilterRequests.push(n),1===s._cascadeFilterRequests.length&&s.first("dataBound",n),s._cascading=!0,s._filterSource({field:u,operator:"eq",value:o}),s._cascading=!1):(s.enable(!1),s._clearSelection(e),s._triggerCascade(),s._triggerChange(),s._userTriggered=!1)}}),o=".StaticList",u=c.ui.DataBoundWidget.extend({init:function(t,i){var a,n,s;p.fn.init.call(this,t,i),this.element.attr("role","listbox").on(z+o,"li",ie(this._click,this)).on(M+o,"li",function(){e(this).addClass(S)}).on(O+o,"li",function(){e(this).removeClass(S)}),i&&i.ariaLabel?this.element.attr(we,i.ariaLabel):i&&i.ariaLabelledBy&&this.element.attr(xe,i.ariaLabelledBy),g.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr(Ve,!0),this.options.columns&&this.options.columns.length?(a=this.element.parent().find(".k-table-thead"),n=e('<tr class="k-table-group-row"><th class="k-table-th" colspan="'+this.options.columns.length+'"></th></tr>'),a.append(n),this.header=n.find(".k-table-th"),this.content=this.element.wrap("<div class='k-table-body k-table-scroller' unselectable='on'></div>").parent(),this.element.addClass(B)):(this.content=this.element.wrap("<div class='k-list-content k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-list-group-sticky-header" style="display:none"></div>').prev(),this.element.addClass(H)),this.bound(!1),this._optionID=c.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[],s=this.options.value,s&&(this._values=Array.isArray(s)?s.slice(0):[s]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=ie(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null,ariaLabel:null,ariaLabelledBy:null},events:[z,I,R,U,j,$,Q],setDataSource:function(e){var t,i=this,a=e||{};a=Array.isArray(a)?{data:a}:a,a=c.data.DataSource.create(a),i.dataSource?(i.dataSource.unbind(I,i._refreshHandler),t=i.value(),i.value([]),i.bound(!1),i.value(t)):i._refreshHandler=ie(i.refresh,i),i.setDSFilter(a.filter()),i.dataSource=a.bind(I,i._refreshHandler),i._fixedHeader()},_touchHandlers:function(){var t,i,a=this,n=function(e){return(e.originalEvent||e).changedTouches[0].pageY};a.element.on("touchstart"+o,function(e){t=n(e)}),a.element.on("touchend"+o,function(s){s.isDefaultPrevented()||(i=n(s),Math.abs(i-t)<10&&(a._touchTriggered=!0,a._triggerClick(e(s.target).closest(P).get(0))))})},skip:function(){return this.dataSource.skip()},setOptions:function(e){p.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(o),this._refreshHandler&&this.dataSource.unbind(I,this._refreshHandler),clearTimeout(this._scrollId),p.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],i=e.offsetTop,a=e.offsetHeight,n=t.scrollTop,s=t.clientHeight,l=i+a;n>i?n=i:l>n+s&&(n=l-s),t.scrollTop=n}},selectedDataItems:function(e){return e===t?this._dataItems.slice():(this._dataItems=e,this._values=this._getValues(e),t)},_getValues:function(t){var i=this._valueGetter;return e.map(t,function(e){return i(e)})},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(a(this.element[0].children))},focus:function(i){var n,s=this,l=s._optionID;return i===t?s._current:(i=a(s._get(i)),i=e(this.element[0].children[i]),s._current&&(s._current.removeClass(y).removeAttr(w),s.trigger(U)),n=!!i[0],n&&(i.addClass(y),s.scroll(i),i.attr("id",l)),s._current=n?i:null,s.trigger(R),t)},focusIndex:function(){return this.focus()?this.focus().index():t},skipUpdate:function(e){this._skipUpdate=e},select:function(i){var n,s,l,r=this,o=r.options.selectable,u="multiple"!==o&&o!==!1,c=r._selectedIndices,d=[this.element.find(".k-selected").index()],h=[],f=[];return i===t?c.slice():(i=r._get(i),1===i.length&&i[0]===-1&&(i=[]),s=e.Deferred().resolve(),l=r.isFiltered(),l&&!u&&r._deselectFiltered(i)?s:u&&!l&&e.inArray(a(i),c)!==-1&&e.inArray(a(i),d)!==-1?(r._dataItems.length&&r._view.length&&(r._dataItems=[r._view[c[0]].item]),s):(n=r._deselect(i),f=n.removed,i=n.indices,i.length&&(u&&(i=[a(i)]),h=r._select(i)),(h.length||f.length)&&(r._valueComparer=null,r.trigger(I,{added:h,removed:f})),s))},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=Array.isArray(e)||e instanceof x?e.slice(0):[e],this._values=e,this._valueComparer=null},value:function(i){var a,n=this,s=n._valueDeferred;return i===t?n._values.slice():(n.setValue(i),s&&"resolved"!==s.state()||(n._valueDeferred=s=e.Deferred()),n.bound()&&(a=n._valueIndices(n._values),"multiple"===n.options.selectable&&n.select(-1),n.select(a),s.resolve()),n._skipUpdate=!1,s)},items:function(){return this.element.children(P)},_click:function(e){return this._touchTriggered?(this._touchTriggered=!1,t):(e.isDefaultPrevented()||this._triggerClick(e.currentTarget),t)},_triggerClick:function(t){this.trigger(z,{item:e(t)})||this.select(t)},_valueExpr:function(e,t){var a,n,s=this,l=0,r=[];if(!s._valueComparer||s._valueType!==e){for(s._valueType=e;l<t.length;l++)r.push(i(t[l],e));a="for (var idx = 0; idx < "+r.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=Function("current","values",a),s._valueComparer=function(e){return n(e,r)}}return s._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e),a=this._valueExpr(typeof i,t);return a(i)},_getter:function(){this._valueGetter=c.getter(this.options.dataValueField)},_deselect:function(t){var i,a,n,s,l,r=this,o=r.element[0].children,u=r.options.selectable,c=r._selectedIndices,d=r._dataItems,h=r._values,f=[],p=0,_=0;if(t=t.slice(),u!==!0&&t.length){if("multiple"===u)for(;p<t.length;p++)if(a=t[p],e(o[a]).hasClass(k))for(i=0;i<c.length;i++)if(n=c[i],n===a){e(o[n]).removeClass(k).attr(De,!1),s=this._view[a].item,l=this._dataItemPosition(s,this._values),f.push({position:l,dataItem:s}),d.splice(i,1),c.splice(i,1),t.splice(p,1),h.splice(i,1),_+=1,p-=1,i-=1;break}}else{for(;p<c.length;p++)e(o[c[p]]).removeClass(k).attr(De,!1),f.push({position:p,dataItem:d[p]});r._values=[],r._dataItems=[],r._selectedIndices=[]}return{indices:t,removed:f}},_deselectFiltered:function(t){for(var i,a,n,s=this.element[0].children,l=[],r=0;r<t.length;r++)a=t[r],i=this._view[a].item,n=this._dataItemPosition(i,this._values),n>-1&&(l.push(this.removeAt(n)),e(s[a]).removeClass(k));return!!l.length&&(this.trigger(I,{added:[],removed:l}),!0)},_select:function(t){var i,n,s=this,l=s.element[0].children,r=s._view,o=[],u=0;for(a(t)!==-1&&s.focus(t);u<t.length;u++)n=t[u],i=r[n],n!==-1&&i&&(i=i.item,s._selectedIndices.push(n),s._dataItems.push(i),s._values.push(s._valueGetter(i)),e(l[n]).addClass(k).attr(De,!0),o.push({dataItem:i}));return o},getElementIndex:function(t){return e(t).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:ae(e)||(e=this.getElementIndex(e),
e=[e!==t?e:-1]),e},_template:function(){var e=this,t=e.options,i=t.template;return i?(i=c.template(i),i=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-list-item">'+i(e)+"</li>"}):i=c.template('<li tabindex="-1" role="option" unselectable="on" class="k-list-item"><span class="k-list-item-text">${'+c.expr(t.dataTextField,"data")+"}</span></li>",{useWithBlock:!1}),i},_templates:function(){var e,t,i,a,n,s=this.options,l={template:s.template,groupTemplate:s.groupTemplate,fixedGroupTemplate:s.fixedGroupTemplate};if(s.columns)for(t=0;t<s.columns.length;t++)i=s.columns[t],a=i.field?""+i.field:re,l["column"+t]=i.template||"#: "+a+"#";for(n in l)e=l[n],e&&"function"!=typeof e&&(l[n]=c.template(e));this.templates=l},_normalizeIndices:function(e){for(var i=[],a=0;a<e.length;a++)e[a]!==t&&i.push(e[a]);return i},_valueIndices:function(e,t){var i,a=this._view,n=0;if(t=t?t.slice():[],!e.length)return[];for(;n<a.length;n++)i=this._dataItemPosition(a[n].item,e),i!==-1&&(t[i]=n);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var t=this.element[0],i=this.content[0],a=i.scrollTop,n=e(t.children[0]).height(),s=Math.floor(a/n)||0,l=t.children[s]||t.lastChild,r=l.offsetTop<a;l;)if(r){if(l.offsetTop+n>a||!l.nextSibling)break;l=l.nextSibling}else{if(l.offsetTop<=a||!l.previousSibling)break;l=l.previousSibling}return this._view[e(l).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.closest(He).length?this.header.closest(He).show():this.header.show(),this.content.scroll(this._onScroll)):(this.header.closest(He).length?this.header.closest(He).hide():this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e,t=this.templates.fixedGroupTemplate;t&&(e=this._firstVisibleItem(),e&&(""+e.group).length&&this.header.html(t(e.group)))},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" ',i=e.item,a=0!==e.index,n=e.selected,s=this.isGrouped(),l=this.options.columns&&this.options.columns.length,r=e.index%2===1?" k-table-alt-row":"";return t+=l?'class="k-table-row'+r:'class="k-list-item',a&&e.newGroup&&(t+=" k-first"),e.isLastGroupedItem&&l&&(t+=" k-last"),n&&(t+=" k-selected"),t+='" aria-selected="'+(n?"true":"false")+'" data-offset-index="'+e.index+'">',l?t+=this._renderColumns(i):(t+='<span class="k-list-item-text">',t+=this.templates.template(i),t+="</span>"),a&&e.newGroup?t+=l?'<span class="k-table-td k-table-group-td"><span>'+this.templates.groupTemplate(e.group)+"</span></span>":'<div class="k-list-item-group-label">'+this.templates.groupTemplate(e.group)+"</div>":s&&l&&(t+='<span class="k-table-td k-table-spacer-td"></span>'),t+"</li>"},_renderColumns:function(e){var t,i,a,n,s="";for(t=0;t<this.options.columns.length;t++)i=this.options.columns[t].width,a=parseInt(i,10),n="",i&&!isNaN(a)&&(n+="style='width:",n+=a,n+=f.test(i)?"%":"px",n+=";'"),s+="<span class='k-table-td' "+n+">",s+=this.templates["column"+t](e),s+="</span>";return s},_render:function(){var e,t,i,a,n="",s=0,l=0,r=[],o=this.dataSource.view(),u=this.value(),c=this.isGrouped();if(c)for(s=0;s<o.length;s++)for(t=o[s],i=!0,a=0;a<t.items.length;a++)e={selected:this._selected(t.items[a],u),item:t.items[a],group:t.value,newGroup:i,isLastGroupedItem:a===t.items.length-1,index:l},r[l]=e,l+=1,n+=this._renderItem(e),i=!1;else for(s=0;s<o.length;s++)e={selected:this._selected(o[s],u),item:o[s],index:s},r[s]=e,n+=this._renderItem(e);this._view=r,this.element[0].innerHTML=n,c&&r.length&&this._renderHeader()},_selected:function(e,t){var i=!this.isFiltered()||"multiple"===this.options.selectable;return i&&this._dataItemPosition(e,t)!==-1},setDSFilter:function(e){this._lastDSFilter=te({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!c.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,i=this,a=e&&e.action,n=i.options.skipUpdateOnBind,l="itemchange"===a;i.trigger(j),i._angularItems("cleanup"),i._fixedHeader(),i._render(),i.bound(!0),l||"remove"===a?(t=s(i._dataItems,e.items),t.changed.length&&(l?i.trigger(Q,{items:t.changed}):i.value(i._getValues(t.unchanged)))):i.isFiltered()||i._skipUpdate||i._emptySearch?(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._selectedIndices=i._valueIndices(i._values,i._selectedIndices))):n||a&&"add"!==a||i.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i._angularItems("compile"),i.trigger($)},bound:function(e){return e===t?this._bound:(this._bound=e,t)},isGrouped:function(){return(this.dataSource.group()||[]).length}}),d.plugin(u),c.cssProperties.registerPrefix("List","k-list-")}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.list.min.js.map
