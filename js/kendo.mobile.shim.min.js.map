{"version":3,"file":"kendo.mobile.shim.min.js","names":["factory","define","amd","$","undefined$1","kendo","ui","Popup","HIDE","Widget","Shim","window","jQuery","mobile","extend","init","element","options","that","this","app","application","os","support","mobileOS","osname","name","ioswp","skin","bb","align","position","effect","shim","handler","hide","fn","call","className","addClass","modal","on","document","body","append","popup","anchor","appendTo","origin","animation","open","effects","duration","close","e","prevented","_apiCall","trigger","preventDefault","deactivate","show","notify","events","destroy","kendoDestroy","remove","_hide","contains","children","target","plugin"],"sources":["kendo.mobile.shim.js"],"mappings":"CAAA,SAAWA,GACW,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,mBAAoBD,GACzEA,IAFJ,EAGG,WACC,IASUG,EAAGC,EACLC,EACAC,EACAC,EAEAC,EACAC,EAEAC,EAREP,EAkHPQ,OAAON,MAAMO,OAjHRP,EAAQM,OAAON,MACfC,EAAKD,EAAMQ,OAAOP,GAClBC,EAAQF,EAAMC,GAAGC,MAEjBC,EAAO,OACPC,EAASH,EAAGG,OAEZC,EAAOD,EAAOK,OAAO,CACrBC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KACPC,EAAMf,EAAMQ,OAAOQ,YACnBC,EAAKjB,EAAMkB,QAAQC,SACnBC,EAASL,EAAMA,EAAIE,GAAGI,KAAQJ,EAAKA,EAAGI,KAAO,MAC7CC,EAAmB,QAAXF,GAA+B,OAAXA,KAAoBL,GAAMA,EAAIE,GAAGM,KAC7DC,EAAgB,eAAXJ,EACLK,EAAQb,EAAQa,QAAUH,EAAQ,gBAAkBE,EAAK,eAAiB,iBAC1EE,EAAWd,EAAQc,WAAaJ,EAAQ,gBAAkBE,EAAK,eAAiB,iBAChFG,EAASf,EAAQe,SAAWL,EAAQ,aAAeE,EAAK,eAAiB,WACzEI,EAAO9B,EAfR,+BAegB+B,QAAQhB,GAAMiB,OAEjC1B,EAAO2B,GAAGrB,KAAKsB,KAAKnB,EAAMF,EAASC,GAEnCC,EAAKe,KAAOA,EACZjB,EAAUE,EAAKF,SACfC,EAAUC,EAAKD,SAEHqB,WACRpB,EAAKe,KAAKM,SAAStB,EAAQqB,WAG1BrB,EAAQuB,OACTtB,EAAKe,KAAKQ,GAAG,OAAQ,UAGxBrB,EAAMA,EAAIJ,QAAUb,EAAEuC,SAASC,OAAOC,OAAOX,GAE9Cf,EAAK2B,MAAQ,IAAItC,EAAMW,EAAKF,QAAS,CACjC8B,OAAQb,EACRO,OAAO,EACPO,SAAUd,EACVe,OAAQlB,EACRC,SAAUA,EACVkB,UAAW,CACPC,KAAM,CACFC,QAASnB,EACToB,SAAUnC,EAAQmC,UAEtBC,MAAO,CACHD,SAAUnC,EAAQmC,WAI1BC,MAAO,SAASC,GACZ,IAAIC,GAAY,EAEXrC,EAAKsC,WACND,EAAYrC,EAAKuC,QAAQjD,IAGzB+C,GACAD,EAAEI,iBAGNxC,EAAKsC,UAAW,GAGpBG,WAAY,WACR1B,EAAKE,QAGTe,KAAM,WACFjB,EAAK2B,UAIbvD,EAAMwD,OAAO3C,IAGjB4C,OAAQ,CAAEtD,GAEVS,QAAS,CACLS,KAAM,OACNc,OAAO,EACPV,MAAO1B,EACP2B,SAAU3B,EACV4B,OAAQ5B,EACRgD,SAAU,KAGdQ,KAAM,WACFzC,KAAK0B,MAAMK,QAGff,KAAM,WACFhB,KAAKqC,UAAW,EAChBrC,KAAK0B,MAAMQ,SAGfU,QAAS,WACLtD,EAAO2B,GAAG2B,QAAQ1B,KAAKlB,MACvBA,KAAKc,KAAK+B,eACV7C,KAAK0B,MAAMkB,UACX5C,KAAKc,KAAKgC,UAGdC,MAAO,SAASZ,GACPA,GAAMnD,EAAEgE,SAAShD,KAAKc,KAAKmC,WAAWA,SAAS,YAAY,GAAId,EAAEe,SAClElD,KAAK0B,MAAMQ,WAKvB/C,EAAGgE,OAAO5D","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.popup'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"mobile.shim\",\n        name: \"Shim\",\n        category: \"mobile\",\n        description: \"Mobile Shim\",\n        depends: [ \"popup\" ],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.mobile.ui,\n            Popup = kendo.ui.Popup,\n            SHIM = '<div class=\"km-shim\"></div>',\n            HIDE = \"hide\",\n            Widget = ui.Widget;\n\n        var Shim = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    app = kendo.mobile.application,\n                    os = kendo.support.mobileOS,\n                    osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                    ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                    bb = osname === \"blackberry\",\n                    align = options.align || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                    position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                    effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                    shim = $(SHIM).handler(that).hide();\n\n                Widget.fn.init.call(that, element, options);\n\n                that.shim = shim;\n                element = that.element;\n                options = that.options;\n\n                if (options.className) {\n                    that.shim.addClass(options.className);\n                }\n\n                if (!options.modal) {\n                    that.shim.on(\"down\", \"_hide\");\n                }\n\n                (app ? app.element : $(document.body)).append(shim);\n\n                that.popup = new Popup(that.element, {\n                    anchor: shim,\n                    modal: true,\n                    appendTo: shim,\n                    origin: align,\n                    position: position,\n                    animation: {\n                        open: {\n                            effects: effect,\n                            duration: options.duration\n                        },\n                        close: {\n                            duration: options.duration\n                        }\n                    },\n\n                    close: function(e) {\n                        var prevented = false;\n\n                        if (!that._apiCall) {\n                            prevented = that.trigger(HIDE);\n                        }\n\n                        if (prevented) {\n                            e.preventDefault();\n                        }\n\n                        that._apiCall = false;\n                    },\n\n                    deactivate: function() { // Deactivate event can't be prevented.\n                        shim.hide();\n                    },\n\n                    open: function() {\n                        shim.show();\n                    }\n                });\n\n                kendo.notify(that);\n            },\n\n            events: [ HIDE ],\n\n            options: {\n                name: \"Shim\",\n                modal: false,\n                align: undefined$1,\n                position: undefined$1,\n                effect: undefined$1,\n                duration: 200\n            },\n\n            show: function() {\n                this.popup.open();\n            },\n\n            hide: function() {\n                this._apiCall = true;\n                this.popup.close();\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                this.shim.kendoDestroy();\n                this.popup.destroy();\n                this.shim.remove();\n            },\n\n            _hide: function(e) {\n                if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                    this.popup.close();\n                }\n            }\n        });\n\n        ui.plugin(Shim);\n    })(window.kendo.jQuery);\n\n}));\n"]}