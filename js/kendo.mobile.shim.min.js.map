{"version":3,"file":"kendo.mobile.shim.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendomobile","shim","js","this","$","undefined$1","kendo","window","ui","mobile","Popup","HIDE","Widget","Shim","extend","init","element","options","that","app","application","os","support","mobileOS","osname","name","ioswp","skin","bb","align","position","effect","handler","hide","fn","call","className","addClass","modal","on","document","body","append","popup","anchor","appendTo","origin","animation","open","effects","duration","close","e","prevented","_apiCall","trigger","preventDefault","deactivate","show","notify","events","destroy","kendoDestroy","remove","_hide","contains","children","target","plugin","jQuery"],"sources":["kendo.mobile.shim.js"],"mappings":"CAAA,SAAWA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBA,OAAOD,QAAUD,EAAQG,QAAQ,mBAC9E,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,mBAAoBJ,KACxED,EAA+B,oBAAfO,WAA6BA,WAAaP,GAAUQ,MAAcC,YAAcT,EAAOS,aAAe,CAAC,EAAGT,EAAOS,YAAYC,KAAOV,EAAOS,YAAYC,MAAQ,CAAC,EAAGV,EAAOS,YAAYC,KAAKC,GAAKV,IACpN,CAJD,CAIGW,MAAM,WA+HL,OArHA,SAAUC,EAAGC,GACT,IAAIC,EAAQC,OAAOD,MACfE,EAAKF,EAAMG,OAAOD,GAClBE,EAAQJ,EAAME,GAAGE,MAEjBC,EAAO,OACPC,EAASJ,EAAGI,OAEZC,EAAOD,EAAOE,OAAO,CACrBC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOf,KACPgB,EAAMb,EAAMG,OAAOW,YACnBC,EAAKf,EAAMgB,QAAQC,SACnBC,EAASL,EAAMA,EAAIE,GAAGI,KAAQJ,EAAKA,EAAGI,KAAO,MAC7CC,EAAmB,QAAXF,GAA+B,OAAXA,KAAoBL,GAAMA,EAAIE,GAAGM,KAC7DC,EAAgB,eAAXJ,EACLK,EAAQZ,EAAQY,QAAUH,EAAQ,gBAAkBE,EAAK,eAAiB,iBAC1EE,EAAWb,EAAQa,WAAaJ,EAAQ,gBAAkBE,EAAK,eAAiB,iBAChFG,EAASd,EAAQc,SAAWL,EAAQ,aAAeE,EAAK,eAAiB,WACzE3B,EAAOG,EAfR,+BAegB4B,QAAQd,GAAMe,OAEjCrB,EAAOsB,GAAGnB,KAAKoB,KAAKjB,EAAMF,EAASC,GAEnCC,EAAKjB,KAAOA,EACZe,EAAUE,EAAKF,SACfC,EAAUC,EAAKD,SAEHmB,WACRlB,EAAKjB,KAAKoC,SAASpB,EAAQmB,WAG1BnB,EAAQqB,OACTpB,EAAKjB,KAAKsC,GAAG,OAAQ,UAGxBpB,EAAMA,EAAIH,QAAUZ,EAAEoC,SAASC,OAAOC,OAAOzC,GAE9CiB,EAAKyB,MAAQ,IAAIjC,EAAMQ,EAAKF,QAAS,CACjC4B,OAAQ3C,EACRqC,OAAO,EACPO,SAAU5C,EACV6C,OAAQjB,EACRC,SAAUA,EACViB,UAAW,CACPC,KAAM,CACFC,QAASlB,EACTmB,SAAUjC,EAAQiC,UAEtBC,MAAO,CACHD,SAAUjC,EAAQiC,WAI1BC,MAAO,SAASC,GACZ,IAAIC,GAAY,EAEXnC,EAAKoC,WACND,EAAYnC,EAAKqC,QAAQ5C,IAGzB0C,GACAD,EAAEI,iBAGNtC,EAAKoC,UAAW,CACpB,EAEAG,WAAY,WACRxD,EAAKgC,MACT,EAEAe,KAAM,WACF/C,EAAKyD,MACT,IAGJpD,EAAMqD,OAAOzC,EACjB,EAEA0C,OAAQ,CAAEjD,GAEVM,QAAS,CACLQ,KAAM,OACNa,OAAO,EACPT,MAAOxB,EACPyB,SAAUzB,EACV0B,OAAQ1B,EACR6C,SAAU,KAGdQ,KAAM,WACFvD,KAAKwC,MAAMK,MACf,EAEAf,KAAM,WACF9B,KAAKmD,UAAW,EAChBnD,KAAKwC,MAAMQ,OACf,EAEAU,QAAS,WACLjD,EAAOsB,GAAG2B,QAAQ1B,KAAKhC,MACvBA,KAAKF,KAAK6D,eACV3D,KAAKwC,MAAMkB,UACX1D,KAAKF,KAAK8D,QACd,EAEAC,MAAO,SAASZ,GACPA,GAAMhD,EAAE6D,SAAS9D,KAAKF,KAAKiE,WAAWA,SAAS,YAAY,GAAId,EAAEe,SAClEhE,KAAKwC,MAAMQ,OAEnB,IAGJ3C,EAAG4D,OAAOvD,EACb,CAlHD,CAkHGN,OAAOD,MAAM+D,QACF/D,KAIjB","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.popup.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.popup'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendomobile = global.kendomobile || {}, global.kendomobile.shim = global.kendomobile.shim || {}, global.kendomobile.shim.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"mobile.shim\",\n        name: \"Shim\",\n        category: \"mobile\",\n        description: \"Mobile Shim\",\n        depends: [ \"popup\" ],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.mobile.ui,\n            Popup = kendo.ui.Popup,\n            SHIM = '<div class=\"km-shim\"></div>',\n            HIDE = \"hide\",\n            Widget = ui.Widget;\n\n        var Shim = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    app = kendo.mobile.application,\n                    os = kendo.support.mobileOS,\n                    osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                    ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                    bb = osname === \"blackberry\",\n                    align = options.align || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                    position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                    effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                    shim = $(SHIM).handler(that).hide();\n\n                Widget.fn.init.call(that, element, options);\n\n                that.shim = shim;\n                element = that.element;\n                options = that.options;\n\n                if (options.className) {\n                    that.shim.addClass(options.className);\n                }\n\n                if (!options.modal) {\n                    that.shim.on(\"down\", \"_hide\");\n                }\n\n                (app ? app.element : $(document.body)).append(shim);\n\n                that.popup = new Popup(that.element, {\n                    anchor: shim,\n                    modal: true,\n                    appendTo: shim,\n                    origin: align,\n                    position: position,\n                    animation: {\n                        open: {\n                            effects: effect,\n                            duration: options.duration\n                        },\n                        close: {\n                            duration: options.duration\n                        }\n                    },\n\n                    close: function(e) {\n                        var prevented = false;\n\n                        if (!that._apiCall) {\n                            prevented = that.trigger(HIDE);\n                        }\n\n                        if (prevented) {\n                            e.preventDefault();\n                        }\n\n                        that._apiCall = false;\n                    },\n\n                    deactivate: function() { // Deactivate event can't be prevented.\n                        shim.hide();\n                    },\n\n                    open: function() {\n                        shim.show();\n                    }\n                });\n\n                kendo.notify(that);\n            },\n\n            events: [ HIDE ],\n\n            options: {\n                name: \"Shim\",\n                modal: false,\n                align: undefined$1,\n                position: undefined$1,\n                effect: undefined$1,\n                duration: 200\n            },\n\n            show: function() {\n                this.popup.open();\n            },\n\n            hide: function() {\n                this._apiCall = true;\n                this.popup.close();\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                this.shim.kendoDestroy();\n                this.popup.destroy();\n                this.shim.remove();\n            },\n\n            _hide: function(e) {\n                if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                    this.popup.close();\n                }\n            }\n        });\n\n        ui.plugin(Shim);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}