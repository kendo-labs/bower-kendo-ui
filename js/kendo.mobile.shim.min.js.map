{"version":3,"file":"kendo.mobile.shim.min.js","sources":["kendo.mobile.shim.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.mobile.shim',[ \"kendo.popup\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.shim\",\n    name: \"Shim\",\n    category: \"mobile\",\n    description: \"Mobile Shim\",\n    depends: [ \"popup\" ],\n    hidden: true\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Popup = kendo.ui.Popup,\n        SHIM = '<div class=\"km-shim\"></div>',\n        HIDE = \"hide\",\n        Widget = ui.Widget;\n\n    var Shim = Widget.extend({\n        init: function(element, options) {\n            var that = this,\n                app = kendo.mobile.application,\n                os = kendo.support.mobileOS,\n                osname = app ? app.os.name : (os ? os.name : \"ios\"),\n                ioswp = osname === \"ios\" || osname === \"wp\" || (app ? app.os.skin : false),\n                bb = osname === \"blackberry\",\n                align = options.align || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                position = options.position || (ioswp ? \"bottom center\" : bb ? \"center right\" : \"center center\"),\n                effect = options.effect || (ioswp ? \"slideIn:up\" : bb ? \"slideIn:left\" : \"fade:in\"),\n                shim = $(SHIM).handler(that).hide();\n\n            Widget.fn.init.call(that, element, options);\n\n            that.shim = shim;\n            element = that.element;\n            options = that.options;\n\n            if (options.className) {\n                that.shim.addClass(options.className);\n            }\n\n            if (!options.modal) {\n                that.shim.on(\"down\", \"_hide\");\n            }\n\n            (app ? app.element : $(document.body)).append(shim);\n\n            that.popup = new Popup(that.element, {\n                anchor: shim,\n                modal: true,\n                appendTo: shim,\n                origin: align,\n                position: position,\n                animation: {\n                    open: {\n                        effects: effect,\n                        duration: options.duration\n                    },\n                    close: {\n                        duration: options.duration\n                    }\n                },\n\n                close: function(e) {\n                    var prevented = false;\n\n                    if (!that._apiCall) {\n                        prevented = that.trigger(HIDE);\n                    }\n\n                    if (prevented) {\n                        e.preventDefault();\n                    }\n\n                    that._apiCall = false;\n                },\n\n                deactivate: function() { // Deactivate event can't be prevented.\n                    shim.hide();\n                },\n\n                open: function() {\n                    shim.show();\n                }\n            });\n\n            kendo.notify(that);\n        },\n\n        events: [ HIDE ],\n\n        options: {\n            name: \"Shim\",\n            modal: false,\n            align: undefined,\n            position: undefined,\n            effect: undefined,\n            duration: 200\n        },\n\n        show: function() {\n            this.popup.open();\n        },\n\n        hide: function() {\n            this._apiCall = true;\n            this.popup.close();\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this.shim.kendoDestroy();\n            this.popup.destroy();\n            this.shim.remove();\n        },\n\n        _hide: function(e) {\n            if (!e || !$.contains(this.shim.children().children(\".k-popup\")[0], e.target)) {\n                this.popup.close();\n            }\n        }\n    });\n\n    ui.plugin(Shim);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","hidden","$","window","kendo","jQuery","undefined","ui","mobile","Popup","SHIM","HIDE","Widget","Shim","extend","init","element","options","that","this","app","application","os","support","mobileOS","osname","ioswp","skin","bb","align","position","effect","shim","handler","hide","fn","call","className","addClass","modal","on","document","body","append","popup","anchor","appendTo","origin","animation","open","effects","duration","close","e","prevented","_apiCall","trigger","preventDefault","deactivate","show","notify","events","destroy","kendoDestroy","remove","_hide","contains","children","target","plugin","amd","a1","a2","a3"],"mappings":"CAAA,SAAaA,QACTA,OAAO,oBAAoB,CAAE,eAC9B,WAEH,IAAIC,EAAW,CACXC,GAAI,cACJC,KAAM,OACNC,SAAU,SACVC,YAAa,cACbC,QAAS,CAAE,SACXC,OAAQ,MAGFC,EAkHPC,OAAOC,MAAMC,OAlHHC,OAAb,EACQF,EAAQD,OAAOC,MACfG,EAAKH,EAAMI,OAAOD,GAClBE,EAAQL,EAAMG,GAAGE,MACjBC,EAAO,8BACPC,EAAO,OACPC,EAASL,EAAGK,OAEZC,EAAOD,EAAOE,OAAO,CACrBC,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOC,KACPC,EAAMhB,EAAMI,OAAOa,YACnBC,EAAKlB,EAAMmB,QAAQC,SACnBC,EAASL,EAAMA,EAAIE,GAAGzB,KAAQyB,EAAKA,EAAGzB,KAAO,MAC7C6B,EAAQD,IAAW,OAASA,IAAW,OAASL,EAAMA,EAAIE,GAAGK,KAAO,OACpEC,EAAKH,IAAW,aAChBI,EAAQZ,EAAQY,QAAUH,EAAQ,gBAAkBE,EAAK,eAAiB,iBAC1EE,EAAWb,EAAQa,WAAaJ,EAAQ,gBAAkBE,EAAK,eAAiB,iBAChFG,EAASd,EAAQc,SAAWL,EAAQ,aAAeE,EAAK,eAAiB,WACzEI,EAAO9B,EAAEQ,GAAMuB,QAAQf,GAAMgB,OAEjCtB,EAAOuB,GAAGpB,KAAKqB,KAAKlB,EAAMF,EAASC,GAEnCC,EAAKc,KAAOA,EACZhB,EAAUE,EAAKF,QACfC,EAAUC,EAAKD,QAEf,GAAIA,EAAQoB,UACRnB,EAAKc,KAAKM,SAASrB,EAAQoB,WAG/B,IAAKpB,EAAQsB,MACTrB,EAAKc,KAAKQ,GAAG,OAAQ,UAGxBpB,EAAMA,EAAIJ,QAAUd,EAAEuC,SAASC,OAAOC,OAAOX,GAE9Cd,EAAK0B,MAAQ,IAAInC,EAAMS,EAAKF,QAAS,CACjC6B,OAAQb,EACRO,MAAO,KACPO,SAAUd,EACVe,OAAQlB,EACRC,SAAUA,EACVkB,UAAW,CACPC,KAAM,CACFC,QAASnB,EACToB,SAAUlC,EAAQkC,UAEtBC,MAAO,CACHD,SAAUlC,EAAQkC,WAI1BC,MAAO,SAASC,GACZ,IAAIC,EAAY,MAEhB,IAAKpC,EAAKqC,SACND,EAAYpC,EAAKsC,QAAQ7C,GAG7B,GAAI2C,EACAD,EAAEI,iBAGNvC,EAAKqC,SAAW,OAGpBG,WAAY,WACR1B,EAAKE,QAGTe,KAAM,WACFjB,EAAK2B,UAIbvD,EAAMwD,OAAO1C,IAGjB2C,OAAQ,CAAElD,GAEVM,QAAS,CACLpB,KAAM,OACN0C,MAAO,MACPV,MAAOvB,EACPwB,SAAUxB,EACVyB,OAAQzB,EACR6C,SAAU,KAGdQ,KAAM,WACFxC,KAAKyB,MAAMK,QAGff,KAAM,WACFf,KAAKoC,SAAW,KAChBpC,KAAKyB,MAAMQ,SAGfU,QAAS,WACLlD,EAAOuB,GAAG2B,QAAQ1B,KAAKjB,MACvBA,KAAKa,KAAK+B,eACV5C,KAAKyB,MAAMkB,UACX3C,KAAKa,KAAKgC,UAGdC,MAAO,SAASZ,GACZ,IAAKA,IAAMnD,EAAEgE,SAAS/C,KAAKa,KAAKmC,WAAWA,SAAS,YAAY,GAAId,EAAEe,QAClEjD,KAAKyB,MAAMQ,WAQ3B,OAHI7C,EAAG8D,OAAOxD,GAGPV,OAAOC,QAjId,CAmIoB,mBAAVV,QAAwBA,OAAO4E,IAAM5E,OAAS,SAAS6E,EAAIC,EAAIC,IAAOA,GAAMD"}