/**
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("kendo.core.js"),require("kendo.userevents.js")):"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.userevents.min"],t):((e="undefined"!=typeof globalThis?globalThis:e||self).kendodraganddrop=e.kendodraganddrop||{},e.kendodraganddrop.js=t())}(this,(function(){return function(e,t){var n,r=window.kendo,i=r.support,o=window.document,s=e(window),a=r.Class,l=r.ui.Widget,c=r.Observable,u=r.UserEvents,d=e.extend,h=r.getOffset,f={},p={},g={},v=r.elementUnderCursor,m="keyup",_="change",x="dragstart",b="hold",y="drag",E="dragend",T="dragcancel",S="hintDestroyed",M="dragenter",w="dragleave",C="drop";function k(e,t){return parseInt(e.css(t),10)||0}function D(e,t){return Math.min(Math.max(e,t.min),t.max)}function I(e,t){var n=h(e),i=r._outerWidth,o=r._outerHeight,s=n.left+k(e,"borderLeftWidth")+k(e,"paddingLeft"),a=n.top+k(e,"borderTopWidth")+k(e,"paddingTop");return{x:{min:s,max:s+e.width()-i(t,!0)},y:{min:a,max:a+e.height()-o(t,!0)}}}var O,H=c.extend({init:function(t,n){var i=this,o=t[0];i.capture=!1,o.addEventListener?(e.each(r.eventMap.down.split(" "),(function(){o.addEventListener(this,i._press.bind(i),!0)})),e.each(r.eventMap.up.split(" "),(function(){o.addEventListener(this,i._release.bind(i),!0)}))):(e.each(r.eventMap.down.split(" "),(function(){o.attachEvent(this,i._press.bind(i))})),e.each(r.eventMap.up.split(" "),(function(){o.attachEvent(this,i._release.bind(i))}))),c.fn.init.call(i),i.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),W=c.extend({init:function(t){var n=this;c.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),r=n*t.scale,i=t.getSize();(0!==n||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/n,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,e||t.trigger(_,t))}}),z=c.extend({init:function(e){var t=this;c.fn.init.call(t),t.x=new W(d({horizontal:!0},e)),t.y=new W(d({horizontal:!1},e)),t.container=e.container,t.forcedMinScale=e.minScale,t.maxScale=e.maxScale||100,t.bind(_,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(_)}}),P=c.extend({init:function(e){d(this,e),c.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,o=i[r]+e;n.enabled&&((o<n.min&&e<0||o>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(_,t))}}),L=a.extend({init:function(t){var n,r,i,o,s=this;d(s,{elastic:!0},t),i=s.elastic?.5:0,o=s.movable,s.x=n=new P({axis:"x",dimension:s.dimensions.x,resistance:i,movable:o}),s.y=r=new P({axis:"y",dimension:s.dimensions.y,resistance:i,movable:o}),s.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){s.gesture=e,s.offset=s.dimensions.container.offset()},press:function(t){e(t.event.target).closest("a").is("[data-navigate-on-press=true]")&&t.sender.cancel()},gesturechange:function(e){var t,i=s.gesture,a=i.center,l=e.center,c=e.distance/i.distance,u=s.dimensions.minScale,d=s.dimensions.maxScale;o.scale<=u&&c<1&&(c+=.8*(1-c)),o.scale*c>=d&&(c=d/o.scale);var h=o.x+s.offset.left,f=o.y+s.offset.top;t={x:(h-a.x)*c+l.x-h,y:(f-a.y)*c+l.y-f},o.scaleWith(c),n.dragMove(t.x),r.dragMove(t.y),s.dimensions.rescale(o.scale),s.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||r.dimension.enabled?(n.dragMove(e.x.delta),r.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),U=i.transitions.prefix+"Transform";O=i.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"};var j=c.extend({init:function(t){var n=this;c.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(O(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){d(this,e),this.refresh()},refresh:function(){var e,t=this,n=t.x,i=t.y;t.round&&(n=Math.round(n),i=Math.round(i)),(e=O(n,i,t.scale))!=t.coordinates&&(r.support.browser.msie&&r.support.browser.version<10?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[U]=e,t._saveCoordinates(e),t.trigger(_))},_saveCoordinates:function(e){this.coordinates=e}});function A(e,t){var n,r=t.options.group,i=e[r];if(l.fn.destroy.call(t),i.length>1){for(n=0;n<i.length;n++)if(i[n]==t){i.splice(n,1);break}}else i.length=0,delete e[r]}var N=l.extend({init:function(e,t){var n=this;l.fn.init.call(n,e,t);var r=n.options.group;r in p?p[r].push(n):p[r]=[n]},events:[M,w,C],options:{name:"DropTarget",group:"default"},destroy:function(){A(p,this)},_trigger:function(e,t){var n=f[this.options.group];if(n)return this.trigger(e,d({},t.event,{draggable:n,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(M,e)},_out:function(e){this._trigger(w,e)},_drop:function(e){var t=f[this.options.group];t&&(t.dropped=!this._trigger(C,e))}});N.destroyGroup=function(e){var t,n=p[e]||g[e];if(n){for(t=0;t<n.length;t++)l.fn.destroy.call(n[t]);n.length=0,delete p[e],delete g[e]}},N._cache=p;var V=N.extend({init:function(e,t){var n=this;l.fn.init.call(n,e,t);var r=n.options.group;r in g?g[r].push(n):g[r]=[n]},destroy:function(){A(g,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),B=l.extend({init:function(e,t){var n=this;l.fn.init.call(n,e,t),n._activated=!1,n.userEvents=new u(n.element,{global:!0,allowSelection:!0,filter:n.options.filter,threshold:n.options.distance,start:n._start.bind(n),hold:n._hold.bind(n),move:n._drag.bind(n),end:n._end.bind(n),cancel:n._cancel.bind(n),select:n._select.bind(n)}),r.support.touch&&n.element.find(n.options.filter).css("touch-action","none"),n._afterEndHandler=n._afterEnd.bind(n),n._captureEscape=n._captureEscape.bind(n)},events:[b,x,y,E,T,S],options:{name:"Draggable",distance:r.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){e.keyCode===r.keys.ESC&&(this._trigger(T,{event:e}),this.userEvents.cancel())},_updateHint:function(t){var n,r=this,i=r.options,o=r.boundaries,s=i.axis,a=r.options.cursorOffset;a?n={left:t.x.location+a.left,top:t.y.location+a.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),o&&(n.top=D(n.top,o.y),n.left=D(n.left,o.x)),"x"===s?delete n.top:"y"===s&&delete n.left,r.hint.css(n)},_shouldIgnoreTarget:function(t){var n=this.options.ignore;return n&&e(t).is(n)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var n=this,i=n.options,s=i.container?e(i.container):null,a=i.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||i.holdToDrag&&!n._activated)n.userEvents.cancel();else{if(n.currentTarget=t.target,n.currentTargetOffset=h(n.currentTarget),a){n.hint&&n.hint.stop(!0,!0).remove(),n.hint=r.isFunction(a)?e(a.call(n,n.currentTarget)):a;var l=h(n.currentTarget);n.hintOffset=l,n.hint.css({position:"absolute",zIndex:2e4,left:l.left,top:l.top}).appendTo(o.body),n.angular("compile",(function(){n.hint.removeAttr("ng-repeat");for(var r=e(t.target);!r.data("$$kendoScope")&&r.length;)r=r.parent();return{elements:n.hint.get(),scopeFrom:r.data("$$kendoScope")}}))}f[i.group]=n,n.dropped=!1,s&&(n.boundaries=I(s,n.hint)),e(o).on(m,n._captureEscape),n._trigger(x,t)&&(n.userEvents.cancel(),n._afterEnd()),n.userEvents.capture()}},_hold:function(e){this.currentTarget=e.target,this._trigger(b,e)?this.userEvents.cancel():this._activated=!0},_drag:function(t){t.preventDefault();var n=this._elementUnderCursor(t);if(this.options.autoScroll&&this._cursorElement!==n&&(this._scrollableParent=F(n),this._cursorElement=n),this._lastEvent=t,this._processMovement(t,n),this.options.autoScroll&&this._scrollableParent[0]){var r=G(t.x.location,t.y.location,$(this._scrollableParent));this._scrollCompenstation=e.extend({},this.hintOffset),this._scrollVelocity=r,0===r.y&&0===r.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(this._autoScroll.bind(this),50))}this.hint&&this._updateHint(t)},_processMovement:function(t,r){this._withDropTarget(r,(function(r,i){if(r){if(n){if(i===n.targetElement)return;n._trigger(w,d(t,{dropTarget:e(n.targetElement)}))}r._trigger(M,d(t,{dropTarget:e(i)})),n=d(r,{targetElement:i})}else n&&(n._trigger(w,d(t,{dropTarget:e(n.targetElement)})),n=null)})),this._trigger(y,d(t,{dropTarget:n,elementUnderCursor:r}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,n=this._scrollCompenstation;if(e){var r,i,a=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,a);var l=e===q()[0];l?(r=o.body.scrollHeight>s.height(),i=o.body.scrollWidth>s.width()):(r=e.offsetHeight<=e.scrollHeight,i=e.offsetWidth<=e.scrollWidth);var c=e.scrollTop+t.y,u=r&&c>0&&c<e.scrollHeight,d=e.scrollLeft+t.x,h=i&&d>0&&d<e.scrollWidth;u?e.scrollTop+=t.y:r&&c<0&&(e.scrollTop=0),h?e.scrollLeft+=t.x:i&&d<0&&(e.scrollLeft=0),this.hint&&l&&(h||u)&&(u&&(n.top+=t.y),h&&(n.left+=t.x),this.hint.css(n))}},_end:function(t){this._withDropTarget(this._elementUnderCursor(t),(function(r,i){r&&(r._drop(d({},t,{dropTarget:e(i)})),n=null)})),clearInterval(this._scrollInterval),this._scrollInterval=null,this._cancel(this._trigger(E,t))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout((function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)}),0):t._afterEnd()},_trigger:function(e,t){return this.trigger(e,d({},t.event,{x:t.x,y:t.y,currentTarget:this.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(t){var n=v(t),r=this.hint;return r&&function(t,n){try{return e.contains(t,n)||t==n}catch(e){return!1}}(r[0],n)&&(r.hide(),(n=v(t))||(n=v(t)),r.show()),n},_withDropTarget:function(t,n){var r,o=this.options.group,s=p[o],a=g[o];(s&&s.length||a&&a.length)&&(r=function(t,n,r){for(var o,s,a=0,l=n&&n.length,c=r&&r.length;t&&t.parentNode;){for(a=0;a<l;a++)if((o=n[a]).element[0]===t)return{target:o,targetElement:t};for(a=0;a<c;a++)if(s=r[a],e.contains(s.element[0],t)&&i.matchesSelector.call(t,s.options.filter))return{target:s,targetElement:t};t=t.parentNode}}(t,s,a),r?n(r.target,r.targetElement):n())},destroy:function(){var e=this;l.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),e.currentTarget=null},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete f[t.options.group],t.trigger("destroy"),t.trigger(S),e(o).off(m,t._captureEscape)}});function $(e){var t,n,r,i=q()[0];return e[0]===i?{top:n=i.scrollTop,left:r=i.scrollLeft,bottom:n+s.height(),right:r+s.width()}:((t=e.offset()).bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function q(){return e(r.support.browser.edge||r.support.browser.safari?o.body:o.documentElement)}function F(t){var n=q();if(!t||t===o.body||t===o.documentElement)return n;for(var i=e(t)[0];i&&!r.isScrollable(i)&&i!==o.body;)i=i.parentNode;return i===o.body?n:e(i)}function G(e,t,n){var r={x:0,y:0},i=50;return e-n.left<i?r.x=-(i-(e-n.left)):n.right-e<i&&(r.x=i-(n.right-e)),t-n.top<i?r.y=-(i-(t-n.top)):n.bottom-t<i&&(r.y=i-(n.bottom-t)),r}r.ui.plugin(N),r.ui.plugin(V),r.ui.plugin(B),r.TapCapture=H,r.containerBoundaries=I,d(r.ui,{Pane:L,PaneDimensions:z,Movable:j}),r.ui.Draggable.utils={autoScrollVelocity:G,scrollableViewPort:$,findScrollableParent:F}}(window.kendo.jQuery),kendo}));
//# sourceMappingURL=kendo.draganddrop.min.js.map
