/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.button.menu.min",["kendo.core.min","kendo.popup.min"],function(){var e={id:"button.menu",name:"ButtonMenu",category:"web",description:"The popup Menu list part of the SplitButton and the DropDownButton",depends:["core","popup"]},o=window.kendo.jQuery,n=void 0,l=window.kendo,i=l.ui.Widget,t=".kendoButtonMenu",c=l.ui,s=l.keys,f=o.extend,r=".",a="id",m="next",g="prev",u="k-disabled",k="k-hidden",h="aria-disabled",_="menu",v="menuitem",y="tabindex",C="click",b="menuClick",I="menuOpen",w="menuClose",B="keydown",p="focus",d={popup:"k-menu-popup",list:"k-group k-menu-group k-reset",listItem:"k-item k-menu-item",menuItem:"k-menu-item",itemText:"k-menu-link-text",item:"k-link k-menu-link",sprite:"k-sprite",image:"k-image",icon:"k-icon"},x={text:null,icon:null,url:null,attributes:null,enabled:true,hidden:false,id:null,imageUrl:null,spriteCssClass:null},E='#if(imageUrl){#<img alt="icon" class="'+d.image+'" src="#:imageUrl#" />#}#',H='#if(spriteCssClass){#<span class="'+d.sprite+' #:spriteCssClass#"></span>#}#',P='#if(icon){#<span class="'+d.icon+' k-i-#:icon#"></span>#}#',T='#if(text){#<span class="'+d.itemText+'">#:text#</span>#}#',D='<span class="'+d.item+'">'+E+H+P+T+"</span>",M='<a href="#:url#" class="'+d.item+'">'+E+H+P+T+"</a>";function O(e,t){var n=t===m?o.fn.next:o.fn.prev;var i=t===m?o.fn.first:o.fn.last;var s=n.call(e);var l=":kendoFocusable";if(!s.length)s=i.call(e.parent().find(r+d.menuItem));if(s.is(l)||!s.length)return s;if(s.find(l).length)return i.call(s.find(l));return O(s,t)}var A=i.extend({init:function(e,t){var n=this;i.fn.init.call(n,e,t);n.mainButton=t.mainButton;n._clickHandlers={};n._renderList();n._initPopup();n._attachEvents();n._applyCssClasses(n.list)},options:{name:"ButtonMenu",element:null,items:[],size:"medium"},events:[b,I,w],_renderList:function(){var e=this,t=e.options.items,n=e.element.addClass(d.popup),i=e.mainButton.attr(a)||l.guid(),s=o('<ul role="'+_+'"></ul>').addClass(d.list);e.list=s.appendTo(n);e.list.attr(a,i+"_buttonmenu");t.forEach(e._renderListItem.bind(e))},_renderListItem:function(e){var t=this,n,i;e=f({},x,e,{enabled:e.enable&&e.enabled});n=e.id||l.guid();i=o('<li id="'+n+'" role="'+v+'" class="'+d.listItem+'">'+t._renderItemButton(e)+"</li>");if(e.click)t._clickHandlers[n]=e.click;if(e.attributes)i.attr(e.attributes);if(e.data&&l.isFunction(e.data))i.data(e.data(e));t.list.append(i);t.enable(e.enabled,i);t._hide(e.hidden,i)},_renderItemButton:function(e){var t=this,n=t.options;if(n.itemTemplate)return l.template(n.itemTemplate)(e);if(e.url)return l.template(M)(e);else return l.template(D)(e)},_initPopup:function(){var e=this,t=e.options;e._popup=new c.Popup(e.element,f({},t.popup,{anchor:e.mainButton,isRtl:e._isRtl,toggleTarget:t.toggleTarget,copyAnchorStyles:false,animation:t.animation,open:e._popupOpenHandler.bind(e),close:e._popupCloseHandler.bind(e),activate:e._popupExpandHandler.bind(e)}))},_popupOpenHandler:function(e){var t=this;var n=t.trigger(I);if(n){e.preventDefault();return}t.list.find(r+d.menuItem).attr(y,0)},_popupCloseHandler:function(e){var t=this,n=t.trigger(w);if(n)e.preventDefault();t.list.find(r+d.menuItem).attr(y,-1)},_popupExpandHandler:function(){var e=this;e.list.find(":kendoFocusable").first().trigger(p)},adjustPopupWidth:function(e){var t=this;t.element.addClass("k-split-wrapper");t.element.css({"min-width":e})},_attachEvents:function(){var e=this;e.list.on(C+t,r+d.menuItem,e._click.bind(e)).on(B+t,r+d.menuItem,e.listItemKeydown.bind(e));e.mainButton.on(B+t,e._keydown.bind(e))},_keydown:function(e){var t=this;if(o(e.target).is(r+u)||o(e.target).parents(r+u).length)return;if(e.altKey&&e.keyCode===s.DOWN){t._popup.open();e.preventDefault();return}},listItemKeydown:function(e){var t=this,n=o(e.target);e.preventDefault();if(e.keyCode===s.ESC||e.keyCode===s.TAB||e.altKey&&e.keyCode===s.UP){t._popup.close();t.mainButton.trigger(p)}else if(e.keyCode===s.DOWN)O(n,m).trigger(p);else if(e.keyCode===s.UP)O(n,g).trigger(p);else if(!n.is(r+u)&&(e.keyCode===s.SPACEBAR||e.keyCode===s.ENTER))n.trigger(C);else if(e.keyCode===s.HOME)t.list.find(":kendoFocusable").filter(r+d.menuItem).first().trigger(p);else if(e.keyCode===s.END)t.list.find(":kendoFocusable").filter(r+d.menuItem).last().trigger(p)},_click:function(e){var t=this,n=o(e.target).closest(r+d.menuItem),i=n.attr(a);if(t._clickHandlers[i])t._clickHandlers[i](e);t.trigger(b,{id:i,target:n,type:"menu-click",originalEvent:e})},toggle:function(){this._popup.toggle()},enable:function(e,t){var n=this;if(!t||!t.length)t=n.items();else t=n.list.find(t);t.toggleClass(u,!e);if(e)t.removeAttr(h);else t.attr(h,!e)},_hide:function(e,t){var n=this;if(!t||!t.length)t=n.items();else t=n.list.find(t);t.toggleClass(k,e)},hide:function(e){this._hide(true,e)},show:function(e){this._hide(false,e)},close:function(){this._popup.close()},items:function(){return this.list.children(r+d.menuItem)},destroyPopup:function(){var e=this;if(e._popup){e._popup.destroy();e._popup=null;e.list.off(t);e.list.remove();e.list=null}},destroy:function(){var e=this;delete e._clickHandlers;e.destroyPopup();e.mainButton.off(t);i.fn.destroy.call(e)}});return l.cssProperties.registerPrefix("ButtonMenu","k-menu-group-"),c.plugin(A),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.button.menu.min.js.map
