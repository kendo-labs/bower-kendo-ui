{"version":3,"file":"kendo.mobile.loader.min.js","names":["factory","define","amd","$","kendo","ui","Widget","CAPTURE_EVENTS","Loader","window","jQuery","mobile","map","eventMap","value","join","split","extend","init","container","options","that","this","element","fn","call","captureEvents","_attachCapture","append","loading","hide","appendTo","name","timeout","show","clearTimeout","_loading","setTimeout","changeMessage","message","find","html","transition","css","transitionDone","capture","e","preventDefault","i","length","addEventListener","plugin"],"sources":["kendo.mobile.loader.js"],"mappings":"CAAA,SAAWA,GACW,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,kBAAmBD,GACxEA,GACH,CAHD,EAGG,WACC,IASUG,EACFC,EACAC,EACAC,EACAC,EAEAC,EANEL,EAgFPM,OAAOL,MAAMM,OA/ERN,EAAQK,OAAOL,MACfC,EAAKD,EAAMO,OAAON,GAClBC,EAASD,EAAGC,OACZC,EAAiBJ,EAAES,IAAIR,EAAMS,UAAU,SAASC,GAAS,OAAOA,CAAO,IAAGC,KAAK,KAAKC,MAAM,KAE1FR,EAASF,EAAOW,OAAO,CACvBC,KAAM,SAASC,EAAWC,GACtB,IAAIC,EAAOC,KACPC,EAAUpB,EAAE,oJAEhBG,EAAOkB,GAAGN,KAAKO,KAAKJ,EAAME,EAASH,GAEnCC,EAAKF,UAAYA,EACjBE,EAAKK,eAAgB,EAErBL,EAAKM,iBAELJ,EAAQK,OAAOP,EAAKD,QAAQS,SAASC,OAAOC,SAASZ,EACzD,EAEAC,QAAS,CACLY,KAAM,SACNH,QAAS,sBACTI,QAAS,KAGbC,KAAM,WACF,IAAIb,EAAOC,KAEXa,aAAad,EAAKe,WAEW,IAAzBf,EAAKD,QAAQS,UAIjBR,EAAKK,eAAgB,EACrBL,EAAKe,SAAWC,YAAW,WACvBhB,EAAKE,QAAQW,MACjB,GAAGb,EAAKD,QAAQa,SACpB,EAEAH,KAAM,WACFR,KAAKI,eAAgB,EACrBS,aAAab,KAAKc,UAClBd,KAAKC,QAAQO,MACjB,EAEAQ,cAAe,SAASC,GACpBjB,KAAKF,QAAQS,QAAUU,EACvBjB,KAAKC,QAAQiB,KAAK,OAAOC,KAAKF,EAClC,EAEAG,WAAY,WACRpB,KAAKI,eAAgB,EACrBJ,KAAKH,UAAUwB,IAAI,iBAAkB,OACzC,EAEAC,eAAgB,WACZtB,KAAKI,eAAgB,EACrBJ,KAAKH,UAAUwB,IAAI,iBAAkB,GACzC,EAEAhB,eAAgB,WACZ,IAAIN,EAAOC,KAGX,SAASuB,EAAQC,GACTzB,EAAKK,eACLoB,EAAEC,gBAEV,CANA1B,EAAKK,eAAgB,EAQrB,IAAK,IAAIsB,EAAI,EAAGA,EAAIzC,EAAe0C,OAAQD,IACvC3B,EAAKF,UAAU,GAAG+B,iBAAiB3C,EAAeyC,GAAIH,GAAS,EAEvE,IAGJxC,EAAG8C,OAAO3C,EAGjB","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.core'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"mobile.loader\",\n        name: \"Loader\",\n        category: \"mobile\",\n        description: \"Mobile Loader\",\n        depends: [ \"core\" ],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.mobile.ui,\n            Widget = ui.Widget,\n            CAPTURE_EVENTS = $.map(kendo.eventMap, function(value) { return value; }).join(\" \").split(\" \");\n\n        var Loader = Widget.extend({\n            init: function(container, options) {\n                var that = this,\n                    element = $('<div class=\"km-loader\"><span class=\"km-loading km-spin\"></span><span class=\"km-loading-left\"></span><span class=\"km-loading-right\"></span></div>');\n\n                Widget.fn.init.call(that, element, options);\n\n                that.container = container;\n                that.captureEvents = false;\n\n                that._attachCapture();\n\n                element.append(that.options.loading).hide().appendTo(container);\n            },\n\n            options: {\n                name: \"Loader\",\n                loading: \"<h1>Loading...</h1>\",\n                timeout: 100\n            },\n\n            show: function() {\n                var that = this;\n\n                clearTimeout(that._loading);\n\n                if (that.options.loading === false) {\n                    return;\n                }\n\n                that.captureEvents = true;\n                that._loading = setTimeout(function() {\n                    that.element.show();\n                }, that.options.timeout);\n            },\n\n            hide: function() {\n                this.captureEvents = false;\n                clearTimeout(this._loading);\n                this.element.hide();\n            },\n\n            changeMessage: function(message) {\n                this.options.loading = message;\n                this.element.find(\">h1\").html(message);\n            },\n\n            transition: function() {\n                this.captureEvents = true;\n                this.container.css(\"pointer-events\", \"none\");\n            },\n\n            transitionDone: function() {\n                this.captureEvents = false;\n                this.container.css(\"pointer-events\", \"\");\n            },\n\n            _attachCapture: function() {\n                var that = this;\n                that.captureEvents = false;\n\n                function capture(e) {\n                    if (that.captureEvents) {\n                        e.preventDefault();\n                    }\n                }\n\n                for (var i = 0; i < CAPTURE_EVENTS.length; i ++) {\n                    that.container[0].addEventListener(CAPTURE_EVENTS[i], capture, true);\n                }\n            }\n        });\n\n        ui.plugin(Loader);\n    })(window.kendo.jQuery);\n\n}));\n"]}