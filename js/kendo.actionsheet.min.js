/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.core.js"),require("kendo.popup.js"),require("kendo.icons.js"),require("kendo.html.button.js"),require("kendo.actionsheet.view.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min","kendo.popup.min","kendo.icons.min","kendo.html.button.min","kendo.actionsheet.view.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendoactionsheet=e.kendoactionsheet||{},e.kendoactionsheet.js={}))}(this,(function(e){!function(e){var t=window.kendo;var n=t.ui.Widget;var o=t.ui;var i=".kendoActionSheet";var a=o.Popup;var s=t.keys;var r=t.isFunction;var c=a.TabKeyTrap;var l=e(document.documentElement);var p="open";var u="close";var d="activate";var h="deactivate";var v=":kendoFocusable:not([tabindex='-1'])";var f="k-actionsheet-container";var w="k-actionsheet-bottom";var _="k-actionsheet-fullscreen";var m=`.k-actionsheet-item:not(.${g}),.k-actions .k-button[ref-actionsheet-action-button]:not(.${g})`;var g="k-disabled";var k="k-hidden";var y=e.extend;var b=n.extend({init:function(e,o){var a=this;o=o||{},n.fn.init.call(a,e,o),o.appendTo&&a.element.appendTo(o.appendTo),a._wrapper(),a._hasViews()?a._initMultiViews():a._initView(),a._toggleViewAnimationVariable(),a._popup(),a._applyAria(),a._tabKeyTrap=new c(a.wrapper),a.downEvent=t.applyEventMap("down",t.guid()),a.clickEvent=t.applyEventMap("click",t.guid()),a._mousedownProxy=a._mousedown.bind(a),a._clickProxy=a._click.bind(a),a.wrapper.on("keydown"+i,a,a._keydown.bind(a))},events:[p,u,d,h],options:{name:"ActionSheet",title:null,subtitle:null,items:[],popup:null,fullscreen:!1,footerTemplate:null,headerTemplate:null,contentTemplate:null,actionButtons:[],actionButtonsAlignment:"stretched",actionButtonsOrientation:"horizontal",animation:{open:{effects:"slideIn:up",transition:!0,duration:200}},closeButton:!1,startButton:!1,adaptive:!1,focusOnActivate:!0,closeOnClick:!0,views:[],activeView:1},_addView:function(e){const t=this;const n=t.options;const o=t.views&&t.views.length+1>1;const i=e||{headerTemplate:n.headerTemplate,contentTemplate:n.contentTemplate,footerTemplate:n.footerTemplate,actionButtons:n.actionButtons,actionButtonsAlignment:n.actionButtonsAlignment,actionButtonsOrientation:n.actionButtonsOrientation,title:n.title,items:n.items,subtitle:n.subtitle,startButton:n.startButton,closeButton:n.closeButton,ref:n.ref};i.addAnimationClass=o,i.index=t.views.length+1;const a=t._initView(i);return t._toggleViewAnimationVariable(),t._addViewsAnimation(),a},_setCurrentActiveView:function(e){const t=this;t.views&&t.views.length>1&&t.element.css("--kendo-actionsheet-view-current",e)},_removeView:function(e){const t=this;const n=t.views.indexOf(e);t.views.length&&(t.views.splice(n,1),e._content&&Array.prototype.splice.call(t._content,n,1),e._footer&&Array.prototype.splice.call(t._footer,n,1),e._header&&Array.prototype.splice.call(t._header,n,1),e.destroy(),t.views.forEach(((e,n)=>{1===t.views.length&&(e.wrapper.removeClass("k-actionsheet-view-animated"),e.wrapper.css({transitionProperty:"",transitionDuration:""})),e.index=n+1}))),t._toggleViewAnimationVariable()},_toggleViewAnimationVariable:function(){const e=this;const t=e.element;e.views&&e.views.length>1?t.css("--kendo-actionsheet-view-current",e.options.activeView):t.css("--kendo-actionsheet-view-current","")},_addViewsAnimation:function(){const e=this;if(e.views&&e.views.length>1){const t={duration:500};e.wrapper.find(".k-actionsheet-view").addClass("k-actionsheet-view-animated").css({transitionProperty:"transform",transitionDuration:`${t.duration}ms`})}},_hasViews:function(){return this.options.views&&this.options.views.length},setOptions:function(e){const t=this;n.fn.setOptions.call(t,e),t.views.forEach((e=>e.destroy())),t.popup.wrapper.length&&t.element.unwrap().unwrap(),t.popup.destroy(),t.popup=null,t._popup(),e.views&&e.views.length?t._initMultiViews():t._initView(),t._toggleViewAnimationVariable(),t._applyAria()},_wrapper:function(){var t=this;var n=t.element;var o;var i=1==t.options.fullscreen?_:w;n.addClass("k-actionsheet "+i+(t.options.adaptive?" k-adaptive-actionsheet":" k-actionsheet-jq")),t.wrapper=o=n.wrap("<div class='"+f+" "+k+"'></div>").parent(),o.prepend(e("<div></div>").addClass("k-overlay"))},_wrapInView:function(){this.element.wrapInner("<div class='k-actionsheet-view'></div>")},_applyAria:function(){var e=this;var t=e.element;var n=e.wrapper.find(".k-actionsheet-title").attr("id");t.attr({role:"dialog","aria-modal":!0,"aria-labelledby":e.options.title?n:null})},_popup:function(){const e=this;const n=e.options;n.open=null,n.close=null,n.activate=null,n.deactivate=null,e.popup=new a(e.element,y(n.popup,n,{name:"Popup",isRtl:t.support.isRtl(n.anchor),omitOriginOffsets:!0,appendTo:e.wrapper,modal:!0,animation:!!n.adaptive&&n.animation,position:"top center",anchor:n.anchor||e.wrapper})),n.focusOnActivate&&e.popup.bind(d,e._openHandler.bind(e)),e.popup.bind(d,(t=>{e.trigger(d,t)})),e.popup.bind(h,(t=>{e.wrapper.addClass(k),l.off(e.downEvent,e._mousedownProxy),l.off(e.clickEvent,e._clickProxy),e.trigger(h,t)})),e.popup.bind(p,(t=>{e.trigger(p,t)})),e.popup.bind(u,(t=>{var n=e._closeButtonPressed;e._closeButtonPressed=!1,e.trigger(u,y({},t,{closeButton:n}))}))},_initView:function(e){const n=this;const o=n.options;const i=e||{headerTemplate:o.headerTemplate,contentTemplate:o.contentTemplate,footerTemplate:o.footerTemplate,actionButtons:o.actionButtons,actionButtonsAlignment:o.actionButtonsAlignment,actionButtonsOrientation:o.actionButtonsOrientation,title:o.title,items:o.items,subtitle:o.subtitle,startButton:o.startButton,closeButton:o.closeButton,addAnimationClass:o.views.length>1,ref:o.ref};const a=new t.ui.ActionSheetView(n.element,i);return e&&n.views?(n.views.push(a),a._content&&(Array.isArray(n._content)?n._content.push(a._content):n._content=[n._content,a._content]),a._footer&&(Array.isArray(n._footer)?n._footer.push(a._footer):n._footer=[n._footer,a._footer]),a._header&&(Array.isArray(n._header)?n._header.push(a._header):n._header=[n._header,a._header]),a):(n.views=[a],n._content=a._content,n._footer=a._footer,n._header=a._header,a)},_initMultiViews:function(){const e=this;e.options.views.forEach((t=>{e._initView(t)})),e._addViewsAnimation(),e._toggleViewAnimationVariable()},destroy:function(){var e=this;for(e.close(),n.fn.destroy.call(e);e.views.length;)e._removeView(e.views[0]);e._content=null,e._footer=null,e._header=null,e.element.off(i),e.wrapper.off(i),e.popup.destroy()},open:function(e){var t=this;t.altTarget=e&&e.altTarget,t.wrapper.removeClass(k),t._elementHeight=t._elementHeight||t.element.outerHeight(),t.options.adaptive&&t.wrapper.width("100%"),t.popup.open("auto",0),t.popup.wrapper.find(">.k-child-animation-container").css({bottom:0,width:"100%"}),l.off(t.downEvent,t._mousedownProxy).on(t.downEvent,t._mousedownProxy),l.off(t.clickEvent,t._clickProxy).on(t.clickEvent,t._clickProxy),t._tabKeyTrap.trap()},visible:function(){return this.popup.visible()},toggle:function(){this.visible()?this.close():this.open()},fullscreen:function(e){var t=this;t.element.toggleClass(_,!0===e),t.element.toggleClass(w,!0!==e),t.element.closest(".k-child-animation-container").css({height:e?"100%":"auto"})},close:function(){this.popup.close()},position:e.noop,_focusFirstFocusableElement:function(){var e=this.element.find(v).first();e.length&&e.trigger("focus")},_focusLastFocusableElement:function(){var e=this.element.find(v).last();e.length&&e.trigger("focus")},_hasItems:function(){return this.views.find((e=>e._hasItems))},_openHandler:function(){const e=this._hasItems();if(e){var t=e._content.find(".k-actionsheet-item")[0];t&&t.focus()}else this._focusFirstFocusableElement()},_isActionableButton:function(t){return e(t).closest(m).length>0},_triggerAction:function(t){var n=e(t.target).closest(m).data("action");r(n)&&n(t),t.isDefaultPrevented()||this.close()},_keydown:function(n){var o=this;var i=t.keys;var a=n.keyCode;var s=e(n.target);if(a==i.ESC)n.stopPropagation(),o.close();else if(o._isActionableButton(s)&&A(n))o._triggerAction(n);else if(n.keyCode===t.keys.TAB){var r=this.wrapper.find(v);var c=r.first();var l=r.last();n.shiftKey?document.activeElement===c[0]&&(l.trigger("focus"),n.preventDefault()):document.activeElement===l[0]&&(c.trigger("focus"),n.preventDefault())}},_click:function(n){var o=this;var i=t.eventTarget(n);o._isActionableButton(i)&&o._triggerAction(n),o.options.startButton&&e(i).closest("[data-ref-actionsheet-start-button]").length>0&&o.options.startButton.click.call(this,n)},_mousedown:function(n){const o=this;const i=o.element[0];const a=o.wrapper;var s=t.eventTarget(n);if(o.altTarget&&o.altTarget.is(e(s)))return;const r=e(s).closest(`.${f}`);!(r.length>0&&!r.is(a))&&(!function(t,n){return!(!t||!n)&&(t===n||e.contains(t,n))}(i,s)&&o.options.closeOnClick||e(s).closest(`[${t.attr("ref-actionsheet-close-button")}]`,e(i).find("k-actionsheet-titlebar")).length>0)&&(o._closeButtonPressed=!0,o.close())}});function A(e){return e.keyCode==s.ENTER||e.keyCode==s.SPACEBAR}o.plugin(b)}(window.kendo.jQuery);var t=kendo;e.__meta__={id:"actionsheet",name:"ActionSheet",category:"web",description:"The ActionSheet widget displays a set of choices related to a task the user initiates.",depends:["core","popup","icons","html.button","actionsheet.view"]},e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.actionsheet.min.js.map
