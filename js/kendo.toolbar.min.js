/** 
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(define){define("kendo.toolbar.min",["./kendo.core.min","./kendo.userevents.min","./kendo.popup.min","./kendo.html.button.min"],function(){var t={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button"]},c=window.kendo.jQuery,s=void 0,d=window.kendo,e=d.Class,l=d.ui.Widget,p=d.isFunction,g=d.keys,a=d._outerWidth,n=".kendoToolBar",u="k-toolbar",w="k-button",o="k-button-md k-rounded-md k-button-solid k-button-solid-base",k="k-overflow-button",C="k-toggle-button",v="k-button-group",y="k-split-button",x="k-split-button-arrow",A="k-list-container k-split-container",_="k-icon-button",B="k-separator",E="k-spacer",i="k-popup",T="k-toolbar-resizable",O="k-active",I="k-disabled",F="k-state-hidden",U="k-hidden",P="k-group-start",D="k-group-end",H="k-menu-link",z="k-overflow-group",G="k-overflow-hidden",N="k-overflow-anchor",R="k-overflow-container",M="k-overflow-wrapper",W="k-toolbar-first-visible",S="k-toolbar-last-visible",K="k-rounded-md",j="k-group k-menu-group k-reset k-menu-group-md",q="aria-disabled",Q="aria-pressed",V="click",L="toggle",J="open",X="close",m="focus",Y="focusin",Z="keydown",$="tap",tt="spacer",et="both",it="primary",ot="href",nt="role",h="button",st="separator",rt="overflow",lt="next",at="prev",dt="tabindex",ht="template",ft="overflowOpen",pt="overflowClose",ut="never",ct="auto",gt="always",vt="_optionlist",r=d.attr("uid"),mt='<li class="k-menu-item k-item">',bt='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",wt='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",f=" ",kt="",b=".",Ct=",",yt="id",xt=(d.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),At=(d.toolbar.registerComponent=function(t,e,i){xt[t]={toolbar:e,overflow:i}},d.Class.extend({addOverflowAttr:function(){this.element.attr(d.attr(rt),this.options.overflow||ct)},addUidAttr:function(){this.element.attr(r,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(yt,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(yt,this.options.id+"_overflow")},attributes:function(){var t=this.options.attributes,e;if(t){if(t.class){e=t.class;this.element.addClass(e);delete t.class}this.element.attr(t);t.class=e}},show:function(){this.element.removeClass(F);this.element.removeClass(U);this.options.hidden=false},hide:function(){this.element.addClass(F);this.element.addClass(U);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(t){if(t===s)t=true;this.element.toggleClass(I,!t);this.element.attr(q,!t);this.options.enable=t},twin:function(){var t=this.element.attr(r);if(this.overflow&&this.options.splitContainerId)return c("#"+this.options.splitContainerId).find("["+r+"='"+t+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+r+"='"+t+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+r+"='"+t+"']").data(this.options.type)}})),_t=(d.toolbar.Item=At).extend({init:function(t,e){var i=t.useButtonTag?c("<button></button>"):c('<a role="button" href></a>');this.element=i;this.options=c.extend({},this.options,t);this.toolbar=e;this.attributes();if(t.primary)this.options.themeColor=it;if(t.togglable){i.addClass(C);this.toggle(t.selected)}if(t.url!==s&&!t.useButtonTag){i.attr(ot,t.url);if(t.mobile)i.attr(d.attr(nt),h)}if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(!t.togglable&&t.click&&p(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&p(t.toggle))this.toggleHandler=t.toggle},options:{showIcon:et,showText:et},toggle:function(t,e){t=!!t;if(this.group&&t)this.group.select(this);else if(!this.group)this.select(t);if(e&&this.twin())this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(b+v).data("buttonGroup")}}),Bt=(d.toolbar.Button=_t).extend({init:function(t,e){_t.fn.init.call(this,t,e);var i=this.element;t=this.options;i.addClass(w);this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);if(!!t.text&&(t.showText=="toolbar"||t.showText==et))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!=="toolbar"&&t.showIcon!==et){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);if(t.hidden)this.hide();this.element.data({type:h,button:this})},select:function(t){if(t===s)t=false;if(this.options.togglable)this.element.attr(Q,t);this.element.toggleClass(O,t);this.options.selected=t}}),Et=(d.toolbar.ToolBarButton=Bt,_t.extend({init:function(t,e){this.overflow=true;_t.fn.init.call(this,c.extend({},t),e);var i=this.element;t=this.options;if(!!t.text&&(t.showText==rt||t.showText==et))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!==rt&&t.showIcon!==et){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);if(!t.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);i.addClass(k+f+w);if(t.hidden)this.hide();if(t.togglable)this.toggle(t.selected);this.element.data({type:h,button:this})},_wrap:function(){this.element=this.element.wrap(mt).parent()},overflowHidden:function(){this.element.addClass(G)},select:function(t){if(t===s)t=false;if(this.options.isChild)this.element.toggleClass(O,t);else this.element.find(b+w).toggleClass(O,t);this.options.selected=t}})),Tt=(d.toolbar.OverflowButton=Et,d.toolbar.registerComponent(h,Bt,Et),At.extend({createButtons:function(t){var e=this.options;var i=e.buttons||[];var o;for(var n=0;n<i.length;n++){if(!i[n].uid)i[n].uid=d.guid();o=new t(c.extend({mobile:e.mobile,isChild:true,type:h},i[n]),this.toolbar);o.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+F+"')").first().addClass(P);this.element.children().filter(":not('."+F+"')").last().addClass(D)}})),Ot=(d.toolbar.ButtonGroup=Tt).extend({init:function(t,e){var i=this.element=c("<div></div>");this.options=t;this.toolbar=e;this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);this.createButtons(Bt);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(v);if(t.hidden)this.hide();this.element.data({type:"buttonGroup",buttonGroup:this})}}),It=(d.toolbar.ToolBarButtonGroup=Ot,Tt.extend({init:function(t,e){var i=this.element=c("<li></li>");this.options=t;this.toolbar=e;this.overflow=true;this.addOverflowIdAttr();this.createButtons(Et);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((t.mobile?kt:v)+f+z);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(G)}})),Ft=(d.toolbar.OverflowButtonGroup=It,d.toolbar.registerComponent("buttonGroup",Ot,It),Bt.extend({init:function(t,e){var i,o,n;t=this.options=c.extend({},this.options,t);if(t.url!==s)i=c(d.template(wt)({href:t.url,text:t.text}));else i=c(d.template(bt)({text:t.text}));this.element=i;this.toolbar=e;if(t.click&&p(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&p(t.toggle))this.toggleHandler=t.toggle;if(t.imageUrl){o=c('<img alt="icon" class="k-image" />').prependTo(i);o.attr("src",t.imageUrl)}else if(t.icon){n=c("<span></span>").prependTo(i);n.attr("class","k-icon k-i-"+t.icon)}else if(t.spriteCssClass){n=c('<span class="k-sprite"></span>').prependTo(i);n.addClass(t.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(t.enable);if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(t.hidden)this.hide();this.element.data({type:h,button:this})}})),Ut=(d.toolbar.ToolBarMenuButton=Ft,At.extend({init:function(t,e){var i=this.element=c('<div class="'+y+f+v+f+K+'" tabindex="0"></div>');this.options=t;this.toolbar=e;this.mainButton=new Bt(c.extend({},t,{hidden:false}),e);this.arrowButton=c('<a class="'+w+f+o+f+_+f+x+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-button-icon k-i-arrow-s")+'"></span></a>');this.popupElement=c('<ul class="'+A+f+j+'"></ul>');this.mainButton.element.removeAttr("href tabindex").appendTo(i);this.arrowButton.appendTo(i);this.popupElement.appendTo(i);if(t.align)i.addClass("k-align-"+t.align);if(!t.id)t.id=t.uid;i.attr(yt,t.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this._navigatable();this.mainButton.main=true;this.enable(t.enable);if(t.hidden)this.hide();i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var i=this;i.popupElement.on(Z+n,b+H,function(t){var e=c(t.target).parent();t.preventDefault();if(t.keyCode===g.ESC||t.keyCode===g.TAB||t.altKey&&t.keyCode===g.UP){i.toggle();i.focus()}else if(t.keyCode===g.DOWN)St(e,lt).trigger(m);else if(t.keyCode===g.UP)St(e,at).trigger(m);else if(t.keyCode===g.SPACEBAR||t.keyCode===g.ENTER)i.toolbar.userEvents.trigger($,{target:c(t.target)});else if(t.keyCode===g.HOME)e.parent().find(":kendoFocusable").first().trigger(m);else if(t.keyCode===g.END)e.parent().find(":kendoFocusable").last().trigger(m)})},createMenuButtons:function(){var t=this.options;var e=t.menuButtons;var i;for(var o=0;o<e.length;o++){i=new Ft(c.extend({mobile:t.mobile,type:h,click:t.click},e[o]),this.toolbar);i.element.wrap(mt).parent().appendTo(this.popupElement)}},createPopup:function(){var i=this;var t=this.options;var o=this.element;this.popupElement.attr(yt,t.id+vt).attr(r,t.rootUid);if(t.mobile)this.popupElement=Mt(this.popupElement);this.popup=this.popupElement.kendoPopup({appendTo:t.mobile?c(t.mobile).children(".km-pane"):null,anchor:o,isRtl:this.toolbar._isRtl,copyAnchorStyles:false,animation:t.animation,open:function(t){var e=i.toolbar.trigger(J,{target:o});if(e){t.preventDefault();return}i.adjustPopupWidth(t.sender)},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(t){var e=i.toolbar.trigger(X,{target:o});if(e)t.preventDefault();o.trigger(m)}}).data("kendoPopup");this.popup.element.on(V+n,"a.k-button",Wt)},adjustPopupWidth:function(t){var e=t.options.anchor,i=a(e),o;d.wrap(t.element).addClass("k-split-wrapper");if(t.element.css("box-sizing")!=="border-box")o=i-(a(t.element)-t.element.width());else o=i;t.element.css({fontFamily:e.css("font-family"),"min-width":o})},remove:function(){this.popup.element.off(V+n,"a.k-button");this.popup.destroy();this.element.remove()},toggle:function(){if(this.options.enable||this.popup.visible())this.popup.toggle()},enable:function(t){if(t===s)t=true;this.mainButton.enable(t);this.element.toggleClass(I,!t);this.element.attr(q,!t);this.options.enable=t},focus:function(){this.element.trigger(m)},hide:function(){if(this.popup)this.popup.close();this.element.addClass(F);this.element.addClass(U);this.options.hidden=true},show:function(){this.element.removeClass(F);this.element.removeClass(U);this.options.hidden=false}})),Pt=(d.toolbar.ToolBarSplitButton=Ut,At.extend({init:function(t,e){var i=this.element=c('<li class="'+y+'"></li>'),o=t.menuButtons,n,s;this.options=t;this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+vt;this.mainButton=new Et(c.extend({isChild:true},t));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new Et(c.extend({mobile:t.mobile,type:h,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;i.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(G)}})),Dt=(d.toolbar.OverflowSplitButton=Pt,d.toolbar.registerComponent("splitButton",Ut,Pt),At.extend({init:function(t,e){var i=this.element=c("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(B);i.attr(nt,st);i.data({type:st,separator:this})}})),Ht=At.extend({init:function(t,e){var i=this.element=c("<li>&nbsp;</li>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(B);i.attr(nt,st);i.data({type:st,separator:this})},overflowHidden:function(){this.element.addClass(G)}}),zt=(d.toolbar.registerComponent("separator",Dt,Ht),At.extend({init:function(t,e){var i=this.element=c("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;i.addClass(E);i.data({type:tt})}})),Gt=(d.toolbar.registerComponent(tt,zt),At.extend({init:function(t,e,i){var o=p(t)?t(e):t;if(!(o instanceof jQuery))o=c("<div></div>").html(o);else o=o.wrap("<div></div>").parent();this.element=o;this.options=e;this.options.type=ht;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();if(e.hidden)this.hide();o.data({type:ht,template:this})}})),Nt=(d.toolbar.TemplateItem=Gt,At.extend({init:function(t,e,i){var o=p(t)?c(t(e)):c(t);if(!(o instanceof jQuery))o=c("<li></li>").html(o);else o=o.wrap("<li></li>").parent();this.element=o;this.options=e;this.options.type=ht;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();o.data({type:ht,template:this})},overflowHidden:function(){this.element.addClass(G)}}));function Rt(t){if(!t.target.is(".k-toggle-button"))t.target.toggleClass(O,t.type=="press")}function Mt(t){t=c(t);return t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function Wt(t){if(c(t.target).closest("a.k-button").length)t.preventDefault()}function St(t,e){var i=e===lt?c.fn.next:c.fn.prev;var o=e===lt?c.fn.first:c.fn.last;var n=i.call(t);if(!n.length&&t.is(b+N))return t;if(n.is(":kendoFocusable")||!n.length)return n;if(n.find(":kendoFocusable").length)return o.call(n.find(":kendoFocusable"));return St(n,e)}d.toolbar.OverflowTemplateItem=Nt;var Kt=e.extend({init:function(t){this.name=t;this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(t){var e=c.inArray(t,this.buttons);this.buttons.splice(e,1)},select:function(t){var e;for(var i=0;i<this.buttons.length;i++){e=this.buttons[i];e.select(false)}t.select(true);if(t.twin())t.twin().select(true)}}),jt=l.extend({init:function(t,e){var i=this;l.fn.init.call(i,t,e);e=i.options;t=i.wrapper=i.element;t.addClass(u+" k-widget");t.attr(nt,"toolbar");this.uid=d.guid();this._isRtl=d.support.isRtl(t);this._groups={};t.attr(r,this.uid);i.isMobile=typeof e.mobile==="boolean"?e.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){t.addClass("km-widget");w="km-button";v="km-buttongroup";O="km-state-active";I="km-state-disabled"}if(e.resizable){i._renderOverflow();t.addClass(T);i.overflowUserEvents=new d.UserEvents(i.element,{threshold:5,allowSelection:true,filter:b+N,tap:i._toggleOverflow.bind(i)});i._resizeHandler=d.onResize(function(){i.resize()})}else i.popup={element:c([])};if(e.items&&e.items.length){for(var o=0;o<e.items.length;o++)i.add(e.items[o]);if(e.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new d.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+r+"="+this.uid+"] a."+w+Ct+f+"["+r+"="+this.uid+"] ."+H+Ct+f+"["+r+"="+this.uid+"] ."+k,tap:i._buttonClick.bind(i),press:Rt,release:Rt});i.element.on(V+n,"a.k-button",Wt);i._navigatable();if(e.resizable)i.popup.element.on(V+n,+"a.k-button",Wt);if(e.resizable)this._toggleOverflowAnchor();d.notify(i)},events:[V,L,J,X,ft,pt],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(t,e){var i;if(!this._groups[e])i=this._groups[e]=new Kt;else i=this._groups[e];i.add(t);return i},destroy:function(){var t=this;t.element.find(b+y).each(function(t,e){c(e).data("kendoPopup").destroy()});t.element.off(n,"a.k-button");t.userEvents.destroy();if(t.options.resizable){d.unbindResize(t._resizeHandler);t.overflowUserEvents.destroy();t.popup.element.off(n,"a.k-button");t.popup.destroy()}l.fn.destroy.call(t)},add:function(t){var e=xt[t.type],i=t.template,o,n=this,s=n.isMobile?kt:"k-item",r=t.overflowTemplate,l;c.extend(t,{uid:d.guid(),animation:n.animation,mobile:n.isMobile,rootUid:n.uid});if(t.menuButtons)for(var a=0;a<t.menuButtons.length;a++)c.extend(t.menuButtons[a],{uid:d.guid()});if(i&&!r||t.type===tt)t.overflow=ut;else if(!t.overflow)t.overflow=ct;if(t.overflow!==ut&&n.options.resizable){if(r)l=new Nt(r,t,n);else if(e){l=new e.overflow(t,n);l.element.addClass(s)}if(l){if(t.overflow===ct)l.overflowHidden();l.element.appendTo(n.popup.container);n.angular("compile",function(){return{elements:l.element.get()}})}}if(t.overflow!==gt){if(i)o=new Gt(i,t,n);else if(e)o=new e.toolbar(t,n);if(o){o.element.appendTo(n.element);n.angular("compile",function(){return{elements:o.element.get()}})}}},_getItem:function(t){var e,i,o,n=this.options.resizable,s;e=this.element.find(t);if(!e.length)e=c(".k-split-container[data-uid="+this.uid+"]").find(t);s=e.length?e.data("type"):kt;i=e.data(s);if(i){if(i.main){e=e.parent(b+y);s="splitButton";i=e.data(s)}if(n)o=i.twin()}else if(n){e=this.popup.element.find(t);s=e.length?e.data("type"):kt;o=e.data(s);if(o&&o.main){e=e.parent(b+y);s="splitButton";o=e.data(s)}}return{type:s,toolbar:i,overflow:o}},remove:function(t){var e=this._getItem(t);if(e.toolbar)e.toolbar.remove();if(e.overflow)e.overflow.remove();this.resize(true)},hide:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===h&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.hide();if(i)i.refresh()}else if(!e.toolbar.options.hidden)e.toolbar.hide();if(e.overflow)if(e.overflow.options.type===h&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.overflow.hide();if(i)i.refresh()}else if(!e.overflow.options.hidden)e.overflow.hide();this.resize(true)},show:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===h&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.toolbar.options.hidden)e.toolbar.show();if(e.overflow)if(e.overflow.options.type===h&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.overflow.options.hidden)e.overflow.show();this.resize(true)},enable:function(t,e){var i=this._getItem(t);if(typeof e=="undefined")e=true;if(i.toolbar)i.toolbar.enable(e);if(i.overflow)i.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(b+C+"[data-group='"+t+"']").filter(b+O)},toggle:function(t,e){var i=c(t),o=i.data(h);if(o.options.togglable){if(e===s)e=true;o.toggle(e,true)}},_renderOverflow:function(){var s=this,t=xt.overflowContainer,i=s._isRtl,e=i?"left":"right";s.overflowAnchor=c(xt.overflowAnchor).addClass(w);s.element.append(s.overflowAnchor);if(s.isMobile){s.overflowAnchor.append('<span class="km-icon km-more"></span>');t=Mt(t)}else s.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');s.popup=new d.ui.Popup(t,{origin:"bottom "+e,position:"top "+e,anchor:s.overflowAnchor,isRtl:i,animation:s.animation,appendTo:s.isMobile?c(s.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(t){var e=d.wrap(s.popup.element).addClass(M);if(!s.isMobile)e.css("margin-left",(i?-1:1)*((a(e)-e.width())/2+1));else s.popup.container.css("max-height",parseFloat(c(".km-content:visible").innerHeight())-15+"px");if(s.trigger(ft))t.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(t){if(s.trigger(pt))t.preventDefault();this.element.trigger(m)}});s.popup.element.on(Z+n,b+w,function(t){var e=c(t.target),i=e.parent(),o=i.is(b+v)||i.is(b+y),n;t.preventDefault();if(t.keyCode===g.ESC||t.keyCode===g.TAB||t.altKey&&t.keyCode===g.UP){s._toggleOverflow();s.overflowAnchor.trigger(m)}else if(t.keyCode===g.DOWN){n=!o||o&&e.is(":last-child")?i:e;St(n,lt).trigger(m)}else if(t.keyCode===g.UP){n=!o||o&&e.is(":first-child")?i:e;St(n,at).trigger(m)}else if(t.keyCode===g.SPACEBAR||t.keyCode===g.ENTER){s.userEvents.trigger($,{target:c(t.target)});s.overflowAnchor.trigger(m)}else if(t.keyCode===g.HOME)i.parent().find(":kendoFocusable").first().trigger(m);else if(t.keyCode===g.END)i.parent().find(":kendoFocusable").last().trigger(m)});if(s.isMobile)s.popup.container=s.popup.element.find(b+R);else s.popup.container=s.popup.element;s.popup.container.attr(r,this.uid)},_toggleOverflowAnchor:function(){var t=false;var e=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)t=this.popup.element.find(b+R).children(":not(."+G+", ."+i+")").length>0;else t=this.popup.element.children(":not(."+G+", ."+i+")").length>0;if(t){this.overflowAnchor.css({visibility:"visible",width:kt});this.wrapper.css(e,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"});this.wrapper.css(e,kt)}},_buttonClick:function(t){var e=this,i,o,n,s,r=t.target.closest(b+x).length,l,a,d;t.preventDefault();if(r){e._toggle(t);return}o=c(t.target).closest(b+w+Ct+f+b+H,e.element);if(o.hasClass(N))return;n=o.data(h);if(!n&&e.popup){o=c(t.target).closest(b+k,e.popup.container);n=o.parent("li").data(h)}if(!n||!n.options.enable)return;if(n.options.togglable){l=p(n.toggleHandler)?n.toggleHandler:null;n.toggle(!n.options.selected,true);a={target:o,group:n.options.group,checked:n.options.selected,id:n.options.id,item:n};if(l)l.call(e,a);e.trigger(L,a)}else{l=p(n.clickHandler)?n.clickHandler:null;a={sender:e,target:o,id:n.options.id,item:n};if(l)l.call(e,a);e.trigger(V,a)}if(n.options.url){if(n.options.attributes&&n.options.attributes.target)d=n.options.attributes.target;window.open(n.options.url,d||"_self")}if(o.hasClass(k))e.popup.close();s=o.closest(".k-split-container");if(s[0]){i=s.data("kendoPopup");(i?i:s.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_navigatable:function(){var t=this;t.element.attr(dt,0).on(Y+n,function(t){var e=c(t.target);var i=c(this).find(":kendoFocusable").first();if(!e.is(b+u)||i.length===0)return;if(i.is(b+N))i=St(i,lt);if(i.length)i[0].focus()}).on(Z+n,t._keydown.bind(t))},_keydown:function(t){var e=c(t.target),i=t.keyCode,o=this.element.children(":not(.k-separator):visible"),n=this._isRtl?-1:1;if(i===g.TAB){var s=e.parentsUntil(this.element).last(),r=false,l=false,a=false;if(!o.not(b+N).length)a=true;if(!s.length)s=e;if(s.is(b+N)&&!a){var h=o.last();if(t.shiftKey)t.preventDefault();if(h.is(":kendoFocusable"))o.last().trigger(m);else o.last().find(":kendoFocusable").last().trigger(m)}if(!t.shiftKey&&o.index(s)===o.length-1)if(s.is(b+v))r=e.is(":last-child");else r=true;var f=o.index(s)===o.not(".k-overflow-anchor").first().index();if(t.shiftKey&&f)if(s.is(b+v))l=e.is(":first-child");else l=true;if(r&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"&&!a){t.preventDefault();this.overflowAnchor.trigger(m)}if(l||a&&t.shiftKey){t.preventDefault();var d=this._getPrevFocusable(this.wrapper);if(d)d.trigger(m)}this._preventNextFocus=false}if(t.altKey&&i===g.DOWN){var p=c(document.activeElement).data("splitButton");var u=c(document.activeElement).is(b+N);if(p)p.toggle();else if(u)this._toggleOverflow();return}if((i===g.SPACEBAR||i===g.ENTER)&&!e.is("input, checkbox")){if(i===g.SPACEBAR)t.preventDefault();if(e.is(b+y)){e=e.children().first();this.userEvents.trigger($,{target:e})}else if(i===g.SPACEBAR)this.userEvents.trigger($,{target:e});return}if(i===g.HOME){if(e.is(".k-dropdownlist")||e.is("input"))return;if(this.overflowAnchor)o.eq(1).trigger(m);else o.first().trigger(m);t.preventDefault()}else if(i===g.END){if(e.is(".k-dropdownlist")||e.is("input"))return;if(this.overflowAnchor&&c(this.overflowAnchor).css("visibility")!="hidden")this.overflowAnchor.trigger(m);else o.last().trigger(m);t.preventDefault()}else if(i===g.RIGHT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdownlist, .k-colorpicker")&&this._getNextElement(t.target,1*n)){this._getNextElement(t.target,1*n).focus();t.preventDefault()}else if(i===g.LEFT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdownlist, .k-colorpicker")&&this._getNextElement(t.target,-1*n)){this._getNextElement(t.target,-1*n).focus();t.preventDefault()}},_getNextElement:function(t,e){var i=this.element.children(":not(.k-separator, .k-spacer):visible");var o=i.index(t)===-1?i.index(t.parentElement):i.index(t);var n=this.overflowAnchor?1:0;var s=e;var r=e===1?i.length-1:n;var l=e===1?n:i.length-1;var a=i[o+e];this._preventNextFocus=false;if(c(t).closest(b+v).not(b+y).length&&!c(t).is(e===1?":last-child":":first-child"))return c(t).closest(b+v).children()[c(t).closest(b+v).children().index(t)+e];if(this.overflowAnchor&&t===this.overflowAnchor[0]&&e===-1)a=i[i.length-1];if(o===r)a=!this.overflowAnchor||this.overflowAnchor&&c(this.overflowAnchor).css("visibility")==="hidden"?i[l]:this.overflowAnchor;while(!c(a).is(":kendoFocusable")){if(e===-1&&c(a).closest(b+v).length)a=c(a).children(":not(label, div)").last();else a=c(a).children(":not(label, div)").first();if(!a.length){s=s+e;a=i[o+s];if(!a)return this.overflowAnchor}if(c(a).hasClass("k-combobox"))a=c(a).find("input");this._preventNextFocus=c(a).closest(b+v).length?false:true}return a},_getPrevFocusable:function(t){if(t.is("html"))return t;var e,i,o=t.prevAll();o.each(function(){i=c(this);if(i.is(":kendoFocusable")){e=i;return false}else if(i.find(":kendoFocusable").length>0){e=i.find(":kendoFocusable").last();return false}});if(e)return e;else return this._getPrevFocusable(t.parent())},_toggle:function(t){var e=c(t.target).closest(b+y).data("splitButton");t.preventDefault();if(!e.options.enable)return;e.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;if(!this.options.resizable)return;this.popup.close();this._shrink(e);this._stretch(e);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var t=0;this.element.children(":visible:not(."+F+Ct+f+b+E+")").each(function(){t+=a(c(this),true)});return Math.ceil(t)},_shrink:function(t){var e,i;if(t<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+N+")");for(var o=i.length-1;o>=0;o--){e=i.eq(o);if(t>this._childrenWidth())break;else this._hideItem(e)}}},_stretch:function(t){var e,i;if(t>this._childrenWidth()){i=this.element.children(":hidden:not('."+F+"')");for(var o=0;o<i.length;o++){e=i.eq(o);if(t<this._childrenWidth()||!this._showItem(e,t))break}}},_hideItem:function(t){t.addClass(U);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass(G)},_showItem:function(t,e){t.removeClass(U);var i=a(t,true);t.addClass(U);if(t.length&&e>this._childrenWidth()+i){t.removeClass(U);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass(G);return true}return false},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),i=t.filter(":not(.k-overflow-hidden)"),o=e.filter(":visible");t.add(e).removeClass(W+f+S);i.first().add(o.first()).addClass(W);i.last().add(o.last()).addClass(S)}});return d.ui.plugin(jt),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()});
//# sourceMappingURL=kendo.toolbar.min.js.map
