/** 
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(define){define("kendo.toolbar.min",["./kendo.core.min","./kendo.userevents.min","./kendo.popup.min","./kendo.html.button.min"],function(){var t={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button"]},c=window.kendo.jQuery,s=void 0,d=window.kendo,e=d.Class,l=d.ui.Widget,a=c.proxy,f=d.isFunction,g=d.keys,u=d._outerWidth,n=".kendoToolBar",w="k-toolbar",k="k-button",o="k-button-md k-rounded-md k-button-solid k-button-solid-base",C="k-overflow-button",y="k-toggle-button",v="k-button-group",x="k-split-button",A="k-split-button-arrow",_="k-list-container k-split-container",B="k-icon-button",E="k-separator",T="k-spacer",i="k-popup",O="k-toolbar-resizable",I="k-active",F="k-disabled",U="k-state-hidden",P="k-hidden",D="k-group-start",H="k-group-end",z="k-menu-link",G="k-overflow-group",N="k-overflow-hidden",R="k-overflow-anchor",M="k-overflow-container",W="k-overflow-wrapper",S="k-toolbar-first-visible",K="k-toolbar-last-visible",j="k-rounded-md",q="k-group k-menu-group k-reset k-menu-group-md",Q="aria-disabled",V="aria-pressed",L="click",J="toggle",X="open",Y="close",m="focus",Z="focusin",$="keydown",tt="tap",et="spacer",it="both",ot="primary",nt="href",st="role",h="button",rt="separator",lt="overflow",at="next",dt="prev",ht="tabindex",pt="template",ft="overflowOpen",ut="overflowClose",ct="never",gt="auto",vt="always",mt="_optionlist",r=d.attr("uid"),bt='<li class="k-menu-item k-item">',wt='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",kt='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",p=" ",Ct="",b=".",yt=",",xt="id",At=(d.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),_t=(d.toolbar.registerComponent=function(t,e,i){At[t]={toolbar:e,overflow:i}},d.Class.extend({addOverflowAttr:function(){this.element.attr(d.attr(lt),this.options.overflow||gt)},addUidAttr:function(){this.element.attr(r,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(xt,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(xt,this.options.id+"_overflow")},attributes:function(){var t=this.options.attributes,e;if(t){if(t.class){e=t.class;this.element.addClass(e);delete t.class}this.element.attr(t);t.class=e}},show:function(){this.element.removeClass(U);this.element.removeClass(P);this.options.hidden=false},hide:function(){this.element.addClass(U);this.element.addClass(P);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(t){if(t===s)t=true;this.element.toggleClass(F,!t);this.element.attr(Q,!t);this.options.enable=t},twin:function(){var t=this.element.attr(r);if(this.overflow&&this.options.splitContainerId)return c("#"+this.options.splitContainerId).find("["+r+"='"+t+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+r+"='"+t+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+r+"='"+t+"']").data(this.options.type)}})),Bt=(d.toolbar.Item=_t).extend({init:function(t,e){var i=t.useButtonTag?c("<button></button>"):c('<a role="button" href></a>');this.element=i;this.options=c.extend({},this.options,t);this.toolbar=e;this.attributes();if(t.primary)this.options.themeColor=ot;if(t.togglable){i.addClass(y);this.toggle(t.selected)}if(t.url!==s&&!t.useButtonTag){i.attr(nt,t.url);if(t.mobile)i.attr(d.attr(st),h)}if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(!t.togglable&&t.click&&f(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&f(t.toggle))this.toggleHandler=t.toggle},options:{showIcon:it,showText:it},toggle:function(t,e){t=!!t;if(this.group&&t)this.group.select(this);else if(!this.group)this.select(t);if(e&&this.twin())this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(b+v).data("buttonGroup")}}),Et=(d.toolbar.Button=Bt).extend({init:function(t,e){Bt.fn.init.call(this,t,e);var i=this.element;t=this.options;i.addClass(k);this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);if(!!t.text&&(t.showText=="toolbar"||t.showText==it))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!=="toolbar"&&t.showIcon!==it){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);if(t.hidden)this.hide();this.element.data({type:h,button:this})},select:function(t){if(t===s)t=false;if(this.options.togglable)this.element.attr(V,t);this.element.toggleClass(I,t);this.options.selected=t}}),Tt=(d.toolbar.ToolBarButton=Et,Bt.extend({init:function(t,e){this.overflow=true;Bt.fn.init.call(this,c.extend({},t),e);var i=this.element;t=this.options;if(!!t.text&&(t.showText==lt||t.showText==it))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!==lt&&t.showIcon!==it){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);if(!t.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);i.addClass(C+p+k);if(t.hidden)this.hide();if(t.togglable)this.toggle(t.selected);this.element.data({type:h,button:this})},_wrap:function(){this.element=this.element.wrap(bt).parent()},overflowHidden:function(){this.element.addClass(N)},select:function(t){if(t===s)t=false;if(this.options.isChild)this.element.toggleClass(I,t);else this.element.find(b+k).toggleClass(I,t);this.options.selected=t}})),Ot=(d.toolbar.OverflowButton=Tt,d.toolbar.registerComponent(h,Et,Tt),_t.extend({createButtons:function(t){var e=this.options;var i=e.buttons||[];var o;for(var n=0;n<i.length;n++){if(!i[n].uid)i[n].uid=d.guid();o=new t(c.extend({mobile:e.mobile,isChild:true,type:h},i[n]),this.toolbar);o.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+U+"')").first().addClass(D);this.element.children().filter(":not('."+U+"')").last().addClass(H)}})),It=(d.toolbar.ButtonGroup=Ot).extend({init:function(t,e){var i=this.element=c("<div></div>");this.options=t;this.toolbar=e;this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);this.createButtons(Et);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(v);this.element.data({type:"buttonGroup",buttonGroup:this})}}),Ft=(d.toolbar.ToolBarButtonGroup=It,Ot.extend({init:function(t,e){var i=this.element=c("<li></li>");this.options=t;this.toolbar=e;this.overflow=true;this.addOverflowIdAttr();this.createButtons(Tt);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((t.mobile?Ct:v)+p+G);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(N)}})),Ut=(d.toolbar.OverflowButtonGroup=Ft,d.toolbar.registerComponent("buttonGroup",It,Ft),Et.extend({init:function(t,e){var i,o,n;t=this.options=c.extend({},this.options,t);if(t.url!==s)i=c(d.template(kt)({href:t.url,text:t.text}));else i=c(d.template(wt)({text:t.text}));this.element=i;this.toolbar=e;if(t.click&&f(t.click))this.clickHandler=t.click;if(t.imageUrl){o=c('<img alt="icon" class="k-image" />').prependTo(i);o.attr("src",t.imageUrl)}else if(t.icon){n=c("<span></span>").prependTo(i);n.attr("class","k-icon k-i-"+t.icon)}else if(t.spriteCssClass){n=c('<span class="k-sprite"></span>').prependTo(i);n.addClass(t.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(t.enable);if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(t.hidden)this.hide();this.element.data({type:h,button:this})}})),Pt=(d.toolbar.ToolBarMenuButton=Ut,_t.extend({init:function(t,e){var i=this.element=c('<div class="'+x+p+v+p+j+'" tabindex="0"></div>');this.options=t;this.toolbar=e;this.mainButton=new Et(c.extend({},t,{hidden:false}),e);this.arrowButton=c('<a class="'+k+p+o+p+B+p+A+'"><span class="'+(t.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-s")+'"></span></a>');this.popupElement=c('<ul class="'+_+p+q+'"></ul>');this.mainButton.element.removeAttr("href tabindex").appendTo(i);this.arrowButton.appendTo(i);this.popupElement.appendTo(i);if(t.align)i.addClass("k-align-"+t.align);if(!t.id)t.id=t.uid;i.attr(xt,t.id+"_wrapper");this.addOverflowAttr();this.addUidAttr();this.createMenuButtons();this.createPopup();this._navigatable();this.mainButton.main=true;this.enable(t.enable);if(t.hidden)this.hide();i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var i=this;i.popupElement.on($+n,b+z,function(t){var e=c(t.target).parent();t.preventDefault();if(t.keyCode===g.ESC||t.keyCode===g.TAB||t.altKey&&t.keyCode===g.UP){i.toggle();i.focus()}else if(t.keyCode===g.DOWN)Kt(e,at).trigger(m);else if(t.keyCode===g.UP)Kt(e,dt).trigger(m);else if(t.keyCode===g.SPACEBAR||t.keyCode===g.ENTER)i.toolbar.userEvents.trigger(tt,{target:c(t.target)});else if(t.keyCode===g.HOME)e.parent().find(":kendoFocusable").first().trigger(m);else if(t.keyCode===g.END)e.parent().find(":kendoFocusable").last().trigger(m)})},createMenuButtons:function(){var t=this.options;var e=t.menuButtons;var i;for(var o=0;o<e.length;o++){i=new Ut(c.extend({mobile:t.mobile,type:h,click:t.click},e[o]),this.toolbar);i.element.wrap(bt).parent().appendTo(this.popupElement)}},createPopup:function(){var i=this;var t=this.options;var o=this.element;this.popupElement.attr(xt,t.id+mt).attr(r,t.rootUid);if(t.mobile)this.popupElement=Wt(this.popupElement);this.popup=this.popupElement.kendoPopup({appendTo:t.mobile?c(t.mobile).children(".km-pane"):null,anchor:o,isRtl:this.toolbar._isRtl,copyAnchorStyles:false,animation:t.animation,open:function(t){var e=i.toolbar.trigger(X,{target:o});if(e){t.preventDefault();return}i.adjustPopupWidth(t.sender)},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(t){var e=i.toolbar.trigger(Y,{target:o});if(e)t.preventDefault();o.trigger(m)}}).data("kendoPopup");this.popup.element.on(L+n,"a.k-button",St)},adjustPopupWidth:function(t){var e=t.options.anchor,i=u(e),o;d.wrap(t.element).addClass("k-split-wrapper");if(t.element.css("box-sizing")!=="border-box")o=i-(u(t.element)-t.element.width());else o=i;t.element.css({fontFamily:e.css("font-family"),"min-width":o})},remove:function(){this.popup.element.off(L+n,"a.k-button");this.popup.destroy();this.element.remove()},toggle:function(){if(this.options.enable||this.popup.visible())this.popup.toggle()},enable:function(t){if(t===s)t=true;this.mainButton.enable(t);this.element.toggleClass(F,!t);this.element.attr(Q,!t);this.options.enable=t},focus:function(){this.element.trigger(m)},hide:function(){if(this.popup)this.popup.close();this.element.addClass(U);this.element.addClass(P);this.options.hidden=true},show:function(){this.element.removeClass(U);this.element.removeClass(P);this.options.hidden=false}})),Dt=(d.toolbar.ToolBarSplitButton=Pt,_t.extend({init:function(t,e){var i=this.element=c('<li class="'+x+'"></li>'),o=t.menuButtons,n,s;this.options=t;this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+mt;this.mainButton=new Tt(c.extend({isChild:true},t));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new Tt(c.extend({mobile:t.mobile,type:h,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;i.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(N)}})),Ht=(d.toolbar.OverflowSplitButton=Dt,d.toolbar.registerComponent("splitButton",Pt,Dt),_t.extend({init:function(t,e){var i=this.element=c("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(E);i.attr(st,rt);i.data({type:rt,separator:this})}})),zt=_t.extend({init:function(t,e){var i=this.element=c("<li>&nbsp;</li>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(E);i.attr(st,rt);i.data({type:rt,separator:this})},overflowHidden:function(){this.element.addClass(N)}}),Gt=(d.toolbar.registerComponent("separator",Ht,zt),_t.extend({init:function(t,e){var i=this.element=c("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;i.addClass(T);i.data({type:et})}})),Nt=(d.toolbar.registerComponent(et,Gt),_t.extend({init:function(t,e,i){var o=f(t)?t(e):t;if(!(o instanceof jQuery))o=c("<div></div>").html(o);else o=o.wrap("<div></div>").parent();this.element=o;this.options=e;this.options.type=pt;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();o.data({type:pt,template:this})}})),Rt=(d.toolbar.TemplateItem=Nt,_t.extend({init:function(t,e,i){var o=f(t)?c(t(e)):c(t);if(!(o instanceof jQuery))o=c("<li></li>").html(o);else o=o.wrap("<li></li>").parent();this.element=o;this.options=e;this.options.type=pt;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();o.data({type:pt,template:this})},overflowHidden:function(){this.element.addClass(N)}}));function Mt(t){if(!t.target.is(".k-toggle-button"))t.target.toggleClass(I,t.type=="press")}function Wt(t){t=c(t);return t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function St(t){if(c(t.target).closest("a.k-button").length)t.preventDefault()}function Kt(t,e){var i=e===at?c.fn.next:c.fn.prev;var o=e===at?c.fn.first:c.fn.last;var n=i.call(t);if(!n.length&&t.is(b+R))return t;if(n.is(":kendoFocusable")||!n.length)return n;if(n.find(":kendoFocusable").length)return o.call(n.find(":kendoFocusable"));return Kt(n,e)}d.toolbar.OverflowTemplateItem=Rt;var jt=e.extend({init:function(t){this.name=t;this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(t){var e=c.inArray(t,this.buttons);this.buttons.splice(e,1)},select:function(t){var e;for(var i=0;i<this.buttons.length;i++){e=this.buttons[i];e.select(false)}t.select(true);if(t.twin())t.twin().select(true)}}),qt=l.extend({init:function(t,e){var i=this;l.fn.init.call(i,t,e);e=i.options;t=i.wrapper=i.element;t.addClass(w+" k-widget");t.attr(st,"toolbar");this.uid=d.guid();this._isRtl=d.support.isRtl(t);this._groups={};t.attr(r,this.uid);i.isMobile=typeof e.mobile==="boolean"?e.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){t.addClass("km-widget");k="km-button";v="km-buttongroup";I="km-state-active";F="km-state-disabled"}if(e.resizable){i._renderOverflow();t.addClass(O);i.overflowUserEvents=new d.UserEvents(i.element,{threshold:5,allowSelection:true,filter:b+R,tap:a(i._toggleOverflow,i)});i._resizeHandler=d.onResize(function(){i.resize()})}else i.popup={element:c([])};if(e.items&&e.items.length){for(var o=0;o<e.items.length;o++)i.add(e.items[o]);if(e.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new d.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+r+"="+this.uid+"] a."+k+yt+p+"["+r+"="+this.uid+"] ."+z+yt+p+"["+r+"="+this.uid+"] ."+C,tap:a(i._buttonClick,i),press:Mt,release:Mt});i.element.on(L+n,"a.k-button",St);i._navigatable();if(e.resizable)i.popup.element.on(L+n,+"a.k-button",St);if(e.resizable)this._toggleOverflowAnchor();d.notify(i)},events:[L,J,X,Y,ft,ut],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(t,e){var i;if(!this._groups[e])i=this._groups[e]=new jt;else i=this._groups[e];i.add(t);return i},destroy:function(){var t=this;t.element.find(b+x).each(function(t,e){c(e).data("kendoPopup").destroy()});t.element.off(n,"a.k-button");t.userEvents.destroy();if(t.options.resizable){d.unbindResize(t._resizeHandler);t.overflowUserEvents.destroy();t.popup.element.off(n,"a.k-button");t.popup.destroy()}l.fn.destroy.call(t)},add:function(t){var e=At[t.type],i=t.template,o,n=this,s=n.isMobile?Ct:"k-item",r=t.overflowTemplate,l;c.extend(t,{uid:d.guid(),animation:n.animation,mobile:n.isMobile,rootUid:n.uid});if(t.menuButtons)for(var a=0;a<t.menuButtons.length;a++)c.extend(t.menuButtons[a],{uid:d.guid()});if(i&&!r||t.type===et)t.overflow=ct;else if(!t.overflow)t.overflow=gt;if(t.overflow!==ct&&n.options.resizable){if(r)l=new Rt(r,t,n);else if(e){l=new e.overflow(t,n);l.element.addClass(s)}if(l){if(t.overflow===gt)l.overflowHidden();l.element.appendTo(n.popup.container);n.angular("compile",function(){return{elements:l.element.get()}})}}if(t.overflow!==vt){if(i)o=new Nt(i,t,n);else if(e)o=new e.toolbar(t,n);if(o){o.element.appendTo(n.element);n.angular("compile",function(){return{elements:o.element.get()}})}}},_getItem:function(t){var e,i,o,n=this.options.resizable,s;e=this.element.find(t);if(!e.length)e=c(".k-split-container[data-uid="+this.uid+"]").find(t);s=e.length?e.data("type"):Ct;i=e.data(s);if(i){if(i.main){e=e.parent(b+x);s="splitButton";i=e.data(s)}if(n)o=i.twin()}else if(n){e=this.popup.element.find(t);s=e.length?e.data("type"):Ct;o=e.data(s);if(o&&o.main){e=e.parent(b+x);s="splitButton";o=e.data(s)}}return{type:s,toolbar:i,overflow:o}},remove:function(t){var e=this._getItem(t);if(e.toolbar)e.toolbar.remove();if(e.overflow)e.overflow.remove();this.resize(true)},hide:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===h&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.hide();if(i)i.refresh()}else if(!e.toolbar.options.hidden)e.toolbar.hide();if(e.overflow)if(e.overflow.options.type===h&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.overflow.hide();if(i)i.refresh()}else if(!e.overflow.options.hidden)e.overflow.hide();this.resize(true)},show:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===h&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.toolbar.options.hidden)e.toolbar.show();if(e.overflow)if(e.overflow.options.type===h&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.overflow.options.hidden)e.overflow.show();this.resize(true)},enable:function(t,e){var i=this._getItem(t);if(typeof e=="undefined")e=true;if(i.toolbar)i.toolbar.enable(e);if(i.overflow)i.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(b+y+"[data-group='"+t+"']").filter(b+I)},toggle:function(t,e){var i=c(t),o=i.data(h);if(o.options.togglable){if(e===s)e=true;o.toggle(e,true)}},_renderOverflow:function(){var s=this,t=At.overflowContainer,i=s._isRtl,e=i?"left":"right";s.overflowAnchor=c(At.overflowAnchor).addClass(k);s.element.append(s.overflowAnchor);if(s.isMobile){s.overflowAnchor.append('<span class="km-icon km-more"></span>');t=Wt(t)}else s.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');s.popup=new d.ui.Popup(t,{origin:"bottom "+e,position:"top "+e,anchor:s.overflowAnchor,isRtl:i,animation:s.animation,appendTo:s.isMobile?c(s.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(t){var e=d.wrap(s.popup.element).addClass(W);if(!s.isMobile)e.css("margin-left",(i?-1:1)*((u(e)-e.width())/2+1));else s.popup.container.css("max-height",parseFloat(c(".km-content:visible").innerHeight())-15+"px");if(s.trigger(ft))t.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().trigger(m)},close:function(t){if(s.trigger(ut))t.preventDefault();this.element.trigger(m)}});s.popup.element.on($+n,b+k,function(t){var e=c(t.target),i=e.parent(),o=i.is(b+v)||i.is(b+x),n;t.preventDefault();if(t.keyCode===g.ESC||t.keyCode===g.TAB||t.altKey&&t.keyCode===g.UP){s._toggleOverflow();s.overflowAnchor.trigger(m)}else if(t.keyCode===g.DOWN){n=!o||o&&e.is(":last-child")?i:e;Kt(n,at).trigger(m)}else if(t.keyCode===g.UP){n=!o||o&&e.is(":first-child")?i:e;Kt(n,dt).trigger(m)}else if(t.keyCode===g.SPACEBAR||t.keyCode===g.ENTER){s.userEvents.trigger(tt,{target:c(t.target)});s.overflowAnchor.trigger(m)}else if(t.keyCode===g.HOME)i.parent().find(":kendoFocusable").first().trigger(m);else if(t.keyCode===g.END)i.parent().find(":kendoFocusable").last().trigger(m)});if(s.isMobile)s.popup.container=s.popup.element.find(b+M);else s.popup.container=s.popup.element;s.popup.container.attr(r,this.uid)},_toggleOverflowAnchor:function(){var t=false;var e=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)t=this.popup.element.find(b+M).children(":not(."+N+", ."+i+")").length>0;else t=this.popup.element.children(":not(."+N+", ."+i+")").length>0;if(t){this.overflowAnchor.css({visibility:"visible",width:Ct});this.wrapper.css(e,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"});this.wrapper.css(e,Ct)}},_buttonClick:function(t){var e=this,i,o,n,s,r=t.target.closest(b+A).length,l,a,d;t.preventDefault();if(r){e._toggle(t);return}o=c(t.target).closest(b+k+yt+p+b+z,e.element);if(o.hasClass(R))return;n=o.data(h);if(!n&&e.popup){o=c(t.target).closest(b+C,e.popup.container);n=o.parent("li").data(h)}if(!n||!n.options.enable)return;if(n.options.togglable){l=f(n.toggleHandler)?n.toggleHandler:null;n.toggle(!n.options.selected,true);a={target:o,group:n.options.group,checked:n.options.selected,id:n.options.id,item:n};if(l)l.call(e,a);e.trigger(J,a)}else{l=f(n.clickHandler)?n.clickHandler:null;a={sender:e,target:o,id:n.options.id,item:n};if(l)l.call(e,a);e.trigger(L,a)}if(n.options.url){if(n.options.attributes&&n.options.attributes.target)d=n.options.attributes.target;window.open(n.options.url,d||"_self")}if(o.hasClass(C))e.popup.close();s=o.closest(".k-split-container");if(s[0]){i=s.data("kendoPopup");(i?i:s.parents(".km-popup-wrapper").data("kendoPopup")).close()}},_navigatable:function(){var t=this;t.element.attr(ht,0).on(Z+n,function(t){var e=c(t.target);var i=c(this).find(":kendoFocusable").first();if(!e.is(b+w)||i.length===0)return;if(i.is(b+R))i=Kt(i,at);if(i.length)i[0].focus()}).on($+n,a(t._keydown,t))},_keydown:function(t){var e=c(t.target),i=t.keyCode,o=this.element.children(":not(.k-separator):visible"),n=this._isRtl?-1:1;if(i===g.TAB){var s=e.parentsUntil(this.element).last(),r=false,l=false,a=false;if(!o.not(b+R).length)a=true;if(!s.length)s=e;if(s.is(b+R)&&!a){var h=o.last();if(t.shiftKey)t.preventDefault();if(h.is(":kendoFocusable"))o.last().trigger(m);else o.last().find(":kendoFocusable").last().trigger(m)}if(!t.shiftKey&&o.index(s)===o.length-1)if(s.is(b+v))r=e.is(":last-child");else r=true;var p=o.index(s)===o.not(".k-overflow-anchor").first().index();if(t.shiftKey&&p)if(s.is(b+v))l=e.is(":first-child");else l=true;if(r&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"&&!a){t.preventDefault();this.overflowAnchor.trigger(m)}if(l||a&&t.shiftKey){t.preventDefault();var d=this._getPrevFocusable(this.wrapper);if(d)d.trigger(m)}this._preventNextFocus=false}if(t.altKey&&i===g.DOWN){var f=c(document.activeElement).data("splitButton");var u=c(document.activeElement).is(b+R);if(f)f.toggle();else if(u)this._toggleOverflow();return}if((i===g.SPACEBAR||i===g.ENTER)&&!e.is("input, checkbox")){if(i===g.SPACEBAR)t.preventDefault();if(e.is(b+x)){e=e.children().first();this.userEvents.trigger(tt,{target:e})}else if(i===g.SPACEBAR)this.userEvents.trigger(tt,{target:e});return}if(i===g.HOME){if(e.is(".k-dropdown")||e.is("input"))return;if(this.overflowAnchor)o.eq(1).trigger(m);else o.first().trigger(m);t.preventDefault()}else if(i===g.END){if(e.is(".k-dropdown")||e.is("input"))return;if(this.overflowAnchor&&c(this.overflowAnchor).css("visibility")!="hidden")this.overflowAnchor.trigger(m);else o.last().trigger(m);t.preventDefault()}else if(i===g.RIGHT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(t.target,1*n)){this._getNextElement(t.target,1*n).focus();t.preventDefault()}else if(i===g.LEFT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdown, .k-colorpicker")&&this._getNextElement(t.target,-1*n)){this._getNextElement(t.target,-1*n).focus();t.preventDefault()}},_getNextElement:function(t,e){var i=this.element.children(":not(.k-separator, .k-spacer):visible");var o=i.index(t)===-1?i.index(t.parentElement):i.index(t);var n=this.overflowAnchor?1:0;var s=e;var r=e===1?i.length-1:n;var l=e===1?n:i.length-1;var a=i[o+e];this._preventNextFocus=false;if(c(t).closest(b+v).not(b+x).length&&!c(t).is(e===1?":last-child":":first-child"))return c(t).closest(b+v).children()[c(t).closest(b+v).children().index(t)+e];if(this.overflowAnchor&&t===this.overflowAnchor[0]&&e===-1)a=i[i.length-1];if(o===r)a=!this.overflowAnchor||this.overflowAnchor&&c(this.overflowAnchor).css("visibility")==="hidden"?i[l]:this.overflowAnchor;while(!c(a).is(":kendoFocusable")){if(e===-1&&c(a).closest(b+v).length)a=c(a).children(":not(label, div)").last();else a=c(a).children(":not(label, div)").first();if(!a.length){s=s+e;a=i[o+s];if(!a)return this.overflowAnchor}if(c(a).hasClass("k-combobox"))a=c(a).find("input");this._preventNextFocus=c(a).closest(b+v).length?false:true}return a},_getPrevFocusable:function(t){if(t.is("html"))return t;var e,i,o=t.prevAll();o.each(function(){i=c(this);if(i.is(":kendoFocusable")){e=i;return false}else if(i.find(":kendoFocusable").length>0){e=i.find(":kendoFocusable").last();return false}});if(e)return e;else return this._getPrevFocusable(t.parent())},_toggle:function(t){var e=c(t.target).closest(b+x).data("splitButton");t.preventDefault();if(!e.options.enable)return;e.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;if(!this.options.resizable)return;this.popup.close();this._shrink(e);this._stretch(e);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var t=0;this.element.children(":visible:not(."+U+yt+p+b+T+")").each(function(){t+=u(c(this),true)});return Math.ceil(t)},_shrink:function(t){var e,i;if(t<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+R+")");for(var o=i.length-1;o>=0;o--){e=i.eq(o);if(t>this._childrenWidth())break;else this._hideItem(e)}}},_stretch:function(t){var e,i;if(t>this._childrenWidth()){i=this.element.children(":hidden:not('."+U+"')");for(var o=0;o<i.length;o++){e=i.eq(o);if(t<this._childrenWidth()||!this._showItem(e,t))break}}},_hideItem:function(t){t.addClass(P);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass(N)},_showItem:function(t,e){t.removeClass(P);var i=u(t,true);t.addClass(P);if(t.length&&e>this._childrenWidth()+i){t.removeClass(P);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass(N);return true}return false},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),i=t.filter(":not(.k-overflow-hidden)"),o=e.filter(":visible");t.add(e).removeClass(S+p+K);i.first().add(o.first()).addClass(S);i.last().add(o.last()).addClass(K)}});return d.ui.plugin(qt),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()});
//# sourceMappingURL=kendo.toolbar.min.js.map
