/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.toolbar.min",["kendo.core.min","kendo.userevents.min","kendo.popup.min","kendo.html.button.min","kendo.splitbutton.min","kendo.dropdownbutton.min"],function(){var e={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button","splitbutton","dropdownbutton"]},p=window.kendo.jQuery,s=void 0,d=window.kendo,i=d.Class,o=d.ui,a=o.Widget,h=d.isFunction,c=d.keys,f=d._outerWidth,u=".kendoToolBar",m="k-toolbar",w="k-button",k="k-overflow-button",C="k-toggle-button",b="k-button-group",x="k-split-button",y="k-menu-button",B="k-separator",A="k-spacer",_="k-popup",D="k-toolbar-resizable",I="k-selected",T="k-disabled",O="k-hidden",U="k-force-hidden",E="k-group-start",F="k-group-end",H="k-menu-link",z="k-menu-item",G="k-overflow-group",n="k-overflow-hidden",M="k-overflow-anchor",N="k-overflow-container",S="k-overflow-wrapper",P="k-toolbar-first-visible",R="k-toolbar-last-visible",W="aria-disabled",K="aria-pressed",j="click",q="toggle",Q="open",V="close",v="focus",L="focusin",J="keydown",X="tap",Y="spacer",Z="both",$="primary",tt="href",et="role",l="button",it="splitButton",ot="dropDownButton",nt="separator",st="overflow",rt="next",lt="prev",at="tabindex",dt="template",ht="overflowOpen",ft="overflowClose",ut="never",pt="auto",ct="always",bt="_optionlist",r=d.attr("uid"),vt='<li class="k-menu-item k-item">',gt='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",mt='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",wt=" ",kt="",Ct="textItem",g=".",xt=",",yt="id",Bt=(d.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),t=(d.toolbar.registerComponent=function(t,e,i){Bt[t]={toolbar:e,overflow:i}},d.Class.extend({addOverflowAttr:function(){this.element.attr(d.attr(st),this.options.overflow||pt)},addUidAttr:function(){this.element.attr(r,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(yt,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(yt,this.options.id+"_overflow")},attributes:function(){var t=this.options.attributes,e;if(t){if(t.class){e=t.class;this.element.addClass(e);delete t.class}this.element.attr(t);t.class=e}},show:function(){this.element.removeClass(O);this.element.removeClass(U);this.options.hidden=false},hide:function(){this.element.addClass(O);this.element.addClass(U);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(t){if(t===s)t=true;this.element.toggleClass(T,!t);this.element.attr(W,!t);this.options.enable=t},twin:function(){var t=this.element.attr(r);if(this.overflow&&this.options.splitContainerId)return p("#"+this.options.splitContainerId).find("["+r+"='"+t+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+r+"='"+t+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+r+"='"+t+"']").data(this.options.type)}})),At=(d.toolbar.Item=t).extend({init:function(t,e){this.options=p.extend({},this.options,t);this.toolbar=e}}),_t=(d.toolbar.BareItem=At,t.extend({init:function(t,e){var i=t.useButtonTag?p("<button></button>"):p('<a role="button" href></a>');this.element=i;this.options=p.extend({},this.options,t);this.toolbar=e;this.attributes();if(t.primary)this.options.themeColor=$;if(t.togglable){i.addClass(C);this.toggle(t.selected)}if(t.url!==s&&!t.useButtonTag){i.attr(tt,t.url);if(t.mobile)i.attr(d.attr(et),l)}if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(!t.togglable&&t.click&&h(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&h(t.toggle))this.toggleHandler=t.toggle},options:{showIcon:Z,showText:Z},toggle:function(t,e){t=!!t;if(this.group&&t)this.group.select(this);else if(!this.group)this.select(t);if(e&&this.twin())this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(g+b).data("buttonGroup")}})),Dt=(d.toolbar.Button=_t).extend({init:function(t,e){_t.fn.init.call(this,t,e);var i=this.element;t=this.options;i.addClass(w);this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);if(!!t.text&&(t.showText=="toolbar"||t.showText==Z))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!=="toolbar"&&t.showIcon!==Z){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);if(t.hidden)this.hide();this.element.data({type:l,button:this})},select:function(t){if(t===s)t=false;if(this.options.togglable)this.element.attr(K,t);this.element.toggleClass(I,t);this.options.selected=t}}),It=(d.toolbar.ToolBarButton=Dt,_t.extend({init:function(t,e){this.overflow=true;_t.fn.init.call(this,p.extend({},t),e);var i=this.element;t=this.options;if(!!t.text&&(t.showText==st||t.showText==Z))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr("aria-label",t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!==st&&t.showIcon!==Z){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}d.html.renderButton(i,t);if(!t.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);i.addClass(k+wt+w);if(t.hidden)this.hide();if(t.togglable)this.toggle(t.selected);this.element.data({type:l,button:this})},_wrap:function(){this.element=this.element.wrap(vt).parent()},overflowHidden:function(){this.element.addClass(n)},select:function(t){if(t===s)t=false;if(this.options.isChild)this.element.toggleClass(I,t);else this.element.find(g+w).toggleClass(I,t);this.options.selected=t}})),Tt=(d.toolbar.OverflowButton=It,d.toolbar.registerComponent(l,Dt,It),t.extend({createButtons:function(t){var e=this.options;var i=e.buttons||[];var o;for(var n=0;n<i.length;n++){if(!i[n].uid)i[n].uid=d.guid();o=new t(p.extend({mobile:e.mobile,isChild:true,type:l},i[n]),this.toolbar);o.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+O+"')").first().addClass(E);this.element.children().filter(":not('."+O+"')").last().addClass(F)}})),Ot=(d.toolbar.ButtonGroup=Tt).extend({init:function(t,e){var i=this.element=p("<div></div>");this.options=t;this.toolbar=e;this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);this.createButtons(Dt);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(b);if(t.hidden)this.hide();this.element.data({type:"buttonGroup",buttonGroup:this})}}),Ut=(d.toolbar.ToolBarButtonGroup=Ot,Tt.extend({init:function(t,e){var i=this.element=p("<li></li>");this.options=t;this.toolbar=e;this.overflow=true;this.addOverflowIdAttr();this.createButtons(It);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((t.mobile?kt:b)+wt+G);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(n)}})),Et=(d.toolbar.OverflowButtonGroup=Ut,d.toolbar.registerComponent("buttonGroup",Ot,Ut),Dt.extend({init:function(t,e){var i,o,n;t=this.options=p.extend({},this.options,t);if(t.url!==s)i=p(d.template(mt)({href:t.url,text:t.text}));else i=p(d.template(gt)({text:t.text}));this.element=i;this.toolbar=e;if(t.click&&h(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&h(t.toggle))this.toggleHandler=t.toggle;if(t.imageUrl){o=p('<img alt="icon" class="k-image" />').prependTo(i);o.attr("src",t.imageUrl)}else if(t.icon){n=p("<span></span>").prependTo(i);n.attr("class","k-icon k-i-"+t.icon)}else if(t.spriteCssClass){n=p('<span class="k-sprite"></span>').prependTo(i);n.addClass(t.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(t.enable);if(t.group){i.attr(d.attr("group"),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(t.hidden)this.hide();this.element.data({type:l,button:this})}})),Ft=(d.toolbar.ToolBarMenuButton=Et,t.extend({init:function(t,e){var i=this;i.options=p.extend({id:t.id||t.uid,enable:true},t,{togglable:false});if(t.primary)i.options.themeColor=$;if(t.showIcon==="overflow")i.options.icon=null;if(t.showText==="overflow")i.options.text="";i.toolbar=e;i.splitButton=new o.SplitButton(p("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),p.extend({},i.options,{items:i._extend(t.menuButtons)}),e.options);i.element=i.splitButton.wrapper;i.splitButton.bind(j,e._buttonClick.bind(e));i.splitButton.bind(V,i._close.bind(i));i.splitButton.bind(Q,i._open.bind(i));i.splitButton.element.data({type:it,button:i,splitButton:i});i.splitButton.wrapper.data({type:it,button:i,splitButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(t){var e=this;var i=e.toolbar.trigger(Q,{target:e.element});if(i)t.preventDefault()},_close:function(t){var e=this;var i=e.toolbar.trigger(V,{target:e.element});if(i)t.preventDefault();e.splitButton.element.trigger(v)},_extend:function(t){var i=this;return t.map(function(t){var e=new At(t,i.toolbar);return p.extend({},t,{togglable:false,data:function(){return{type:l,button:e,splitButton:i}}})})},addMenuAttributes:function(){var t=this,e=t.splitButton.items(),i;e.each(function(t,e){e=p(e);i=e.data(l);i.element=e;i.options=p.extend({type:l,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var t=this.splitButton.wrapper;this.splitButton.destroy();t.remove()},enable:function(t,e){this.splitButton.enable(t,e,true);if(this.twin())this.twin().enable(t)},attributes:function(){var t=this,e=t.splitButton.element,i=this.options.attributes,o;if(i){if(i.class){o=i.class;e.addClass(o);delete i.class}e.attr(i);i.class=o}}})),Ht=(d.toolbar.ToolBarSplitButton=Ft,t.extend({init:function(t,e){var i=this.element=p('<li class="'+x+'"></li>'),o=t.menuButtons,n,s;this.options=p.extend({},t,{togglable:false});this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+bt;this.mainButton=new It(p.extend({isChild:true},t,{togglable:false}));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new It(p.extend({mobile:t.mobile,type:l,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:it,splitButton:this})},enable:function(t){var e=this.element.add(this.element.find(g+k));if(t===s)t=true;e.toggleClass(T,!t);e.attr(W,!t);this.options.enable=t},overflowHidden:function(){this.element.addClass(n)}})),zt=(d.toolbar.OverflowSplitButton=Ht,d.toolbar.registerComponent(it,Ft,Ht),t.extend({init:function(t,e){var i=this;i.options=p.extend({id:t.id||t.uid,enable:true},t,{togglable:false});if(t.primary)i.options.themeColor=$;if(t.showIcon==="overflow")i.options.icon=null;if(t.showText==="overflow")i.options.text="";i.toolbar=e;i.dropDownButton=new o.DropDownButton(p("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),p.extend({},i.options,{items:i._extend(t.menuButtons)}),e.options);i.element=i.dropDownButton.element;i.dropDownButton.bind(j,e._buttonClick.bind(e));i.dropDownButton.bind(V,i._close.bind(i));i.dropDownButton.bind(Q,i._open.bind(i));i.dropDownButton.element.data({type:ot,button:i,dropDownButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(t){var e=this;var i=e.toolbar.trigger(Q,{target:e.element});if(i)t.preventDefault()},_close:function(t){var e=this;var i=e.toolbar.trigger(V,{target:e.element});if(i)t.preventDefault();e.dropDownButton.element.trigger(v)},_extend:function(t){var i=this;return t.map(function(t){var e=new At(t,i.toolbar);return p.extend({},t,{data:function(){return{type:l,button:e,dropDownButton:i}}})})},addMenuAttributes:function(){var t=this,e=t.dropDownButton.items(),i;e.each(function(t,e){e=p(e);i=e.data(l);i.element=e;i.options=p.extend({type:l,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var t=this.dropDownButton.element;this.dropDownButton.destroy();t.remove()},enable:function(t,e){this.dropDownButton.enable(t,e,true);if(this.twin())this.twin().enable(t)},attributes:function(){var t=this,e=t.element,i=this.options.attributes,o;if(i){if(i.class){o=i.class;e.addClass(o);delete i.class}e.attr(i);i.class=o}}})),Gt=(d.toolbar.ToolBarSplitButton=Ft,t.extend({init:function(t,e){var i=this.element=p("<span></span>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();if(t.icon&&(!t.showIcon||t.showIcon!=="toolbar"))i.append('<span class="k-icon k-i-'+t.icon+'"></span>');if(t.showText!=="toolbar")i.append("<span>"+this.options.text+"</span>");i.data({type:Ct,textItem:this})},overflowHidden:function(){this.element.addClass(n)}})),Mt=t.extend({init:function(t,e){var i=this.element=p('<li class="'+x+" "+y+'"></li>'),o=t.menuButtons,n,s;this.options=p.extend({},t,{togglable:false});this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+bt;this.mainButton=new Gt(p.extend({isChild:true},t,{togglable:false}));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new It(p.extend({mobile:t.mobile,type:l,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:ot,dropDownButton:this})},enable:function(t){var e=this.element.add(this.element.find(g+k));if(t===s)t=true;e.toggleClass(T,!t);e.attr(W,!t);this.options.enable=t},overflowHidden:function(){this.element.addClass(n)}}),Nt=(d.toolbar.OverflowSplitButton=Mt,d.toolbar.registerComponent(ot,zt,Mt),t.extend({init:function(t,e){var i=this.element=p("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(B);i.attr(et,nt);i.data({type:nt,separator:this})}})),St=t.extend({init:function(t,e){var i=this.element=p("<li>&nbsp;</li>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(B);i.attr(et,nt);i.data({type:nt,separator:this})},overflowHidden:function(){this.element.addClass(n)}}),Pt=(d.toolbar.registerComponent("separator",Nt,St),t.extend({init:function(t,e){var i=this.element=p("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;i.addClass(A);i.data({type:Y})}})),Rt=(d.toolbar.registerComponent(Y,Pt),t.extend({init:function(t,e,i){var o=h(t)?t(e):t;if(!(o instanceof jQuery))o=p("<div></div>").html(o);else o=o.wrap("<div></div>").parent();this.element=o;this.options=e;this.options.type=dt;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();if(e.hidden)this.hide();o.data({type:dt,template:this})}})),Wt=(d.toolbar.TemplateItem=Rt,t.extend({init:function(t,e,i){var o=h(t)?p(t(e)):p(t);if(!(o instanceof jQuery))o=p("<li></li>").html(o);else o=o.wrap("<li></li>").parent();this.element=o;this.options=e;this.options.type=dt;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();o.data({type:dt,template:this})},overflowHidden:function(){this.element.addClass(n)}}));function Kt(t){if(!t.target.is(".k-toggle-button"))t.target.toggleClass(I,t.type=="press")}function jt(t){t=p(t);return t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function qt(t){if(p(t.target).closest("a.k-button").length)t.preventDefault()}function Qt(t,e){var i=e===rt?p.fn.next:p.fn.prev;var o=e===rt?p.fn.first:p.fn.last;var n=i.call(t);if(!n.length&&t.is(g+M))return t;if(n.is(":kendoFocusable")||!n.length)return n;if(n.find(":kendoFocusable").length)return o.call(n.find(":kendoFocusable"));return Qt(n,e)}d.toolbar.OverflowTemplateItem=Wt;var Vt=i.extend({init:function(t){this.name=t;this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(t){var e=p.inArray(t,this.buttons);this.buttons.splice(e,1)},select:function(t){var e;for(var i=0;i<this.buttons.length;i++){e=this.buttons[i];e.select(false)}t.select(true);if(t.twin())t.twin().select(true)}}),Lt=a.extend({init:function(t,e){var i=this;a.fn.init.call(i,t,e);e=i.options;t=i.wrapper=i.element;t.addClass(m+" k-widget");t.attr(et,"toolbar");this.uid=d.guid();this._isRtl=d.support.isRtl(t);this._groups={};t.attr(r,this.uid);i.isMobile=typeof e.mobile==="boolean"?e.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){t.addClass("km-widget");w="km-button";b="km-buttongroup";I="km-state-active";T="km-state-disabled"}if(e.resizable){i._renderOverflow();t.addClass(D);i.overflowUserEvents=new d.UserEvents(i.element,{threshold:5,allowSelection:true,filter:g+M,tap:i._toggleOverflow.bind(i)});i._resizeHandler=d.onResize(function(){i.resize()})}else i.popup={element:p([])};if(e.items&&e.items.length){for(var o=0;o<e.items.length;o++)i.add(e.items[o]);if(e.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new d.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+r+"="+this.uid+"] a."+w+xt+wt+"["+r+"="+this.uid+"] ."+z+xt+wt+"["+r+"="+this.uid+"] ."+k,tap:i._buttonClick.bind(i),press:Kt,release:Kt});i.element.on(j+u,"a.k-button",qt);i._navigatable();if(e.resizable)i.popup.element.on(j+u,+"a.k-button",qt);if(e.resizable)this._toggleOverflowAnchor();d.notify(i)},events:[j,q,Q,V,ht,ft],options:{name:"ToolBar",items:[],resizable:true,mobile:null},addToGroup:function(t,e){var i;if(!this._groups[e])i=this._groups[e]=new Vt;else i=this._groups[e];i.add(t);return i},destroy:function(){var t=this;t.destroySplitButtons();t.destroyDropDownButtons();t.element.off(u,"a.k-button");t.userEvents.destroy();if(t.options.resizable){d.unbindResize(t._resizeHandler);t.overflowUserEvents.destroy();t.popup.element.off(u,"a.k-button");t.popup.destroy()}a.fn.destroy.call(t)},destroySplitButtons:function(){var i=this,t=i.element.find(g+x),o;t.each(function(t,e){o=i._getItem(e);if(o&&o.type===it)o=o.toolbar;if(o&&o.splitButton&&o.splitButton.destroy){o.splitButton.destroy();p(e).remove()}})},destroyDropDownButtons:function(){var i=this,t=i.element.find(g+y),o;t.each(function(t,e){o=i._getItem(e);if(o&&o.type===ot)o=o.toolbar;if(o&&o.dropDownButton&&o.dropDownButton.destroy){o.dropDownButton.destroy();p(e).remove()}})},add:function(t){var e=Bt[t.type],i=t.template,o,n=this,s=n.isMobile?kt:"k-item",r=t.overflowTemplate,l;p.extend(t,{uid:d.guid(),animation:n.animation,mobile:n.isMobile,rootUid:n.uid});if(t.menuButtons)for(var a=0;a<t.menuButtons.length;a++)p.extend(t.menuButtons[a],{uid:d.guid()});if(i&&!r||t.type===Y)t.overflow=ut;else if(!t.overflow)t.overflow=pt;if(t.overflow!==ut&&n.options.resizable){if(r)l=new Wt(r,t,n);else if(e){l=new e.overflow(t,n);l.element.addClass(s)}if(l){if(t.overflow===pt)l.overflowHidden();l.element.appendTo(n.popup.container);n.angular("compile",function(){return{elements:l.element.get()}})}}if(t.overflow!==ct){if(i)o=new Rt(i,t,n);else if(e)o=new e.toolbar(t,n);if(o){o.element.appendTo(n.element);n.angular("compile",function(){return{elements:o.element.get()}})}}},_getItem:function(t){var e,i,o,n=this.options.resizable,s;e=this.element.find(t);if(!e.length)e=p('[data-role="buttonmenu"]').find(t);s=e.length?e.data("type"):kt;i=e.data(s);if(i&&n)o=i.twin();else if(n){e=this.popup.element.find(t);s=e.length?e.data("type"):kt;o=e.data(s);if(s===Ct){e=e.parent(g+y);s="dropDownButton";o=e.data(s)}if(o&&o.main&&s!==Ct){e=e.parent(g+x);s="splitButton";o=e.data(s)}}return{type:s,toolbar:i,overflow:o}},remove:function(t){var e=this._getItem(t);if(e.toolbar)e.toolbar.remove();if(e.overflow)e.overflow.remove();this.resize(true)},hide:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===l&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.hide();if(i)i.refresh()}else if(!e.toolbar.options.hidden)e.toolbar.hide();if(e.overflow)if(e.overflow.options.type===l&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.overflow.hide();if(i)i.refresh()}else if(!e.overflow.options.hidden)e.overflow.hide();this.resize(true)},show:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===l&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.toolbar.options.hidden)e.toolbar.show();if(e.overflow)if(e.overflow.options.type===l&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.overflow.options.hidden)e.overflow.show();this.resize(true)},enable:function(t,e){var i=this._getItem(t);if(typeof e=="undefined")e=true;if(i.toolbar)i.toolbar.enable(e,i.element);if(i.overflow)i.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(g+C+"[data-group='"+t+"']").filter(g+I)},toggle:function(t,e){var i=p(t),o=i.data(l);if(o.options.togglable){if(e===s)e=true;o.toggle(e,true)}},_renderOverflow:function(){var s=this,t=Bt.overflowContainer,i=s._isRtl,e=i?"left":"right";s.overflowAnchor=p(Bt.overflowAnchor).addClass(w);s.element.append(s.overflowAnchor);if(s.isMobile){s.overflowAnchor.append('<span class="km-icon km-more"></span>');t=jt(t)}else s.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');s.popup=new d.ui.Popup(t,{origin:"bottom "+e,position:"top "+e,anchor:s.overflowAnchor,isRtl:i,animation:s.animation,appendTo:s.isMobile?p(s.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(t){var e=d.wrap(s.popup.element).addClass(S);if(!s.isMobile)e.css("margin-left",(i?-1:1)*((f(e)-e.width())/2+1));else s.popup.container.css("max-height",parseFloat(p(".km-content:visible").innerHeight())-15+"px");if(s.trigger(ht))t.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().trigger(v)},close:function(t){if(s.trigger(ft))t.preventDefault();this.element.trigger(v)}});s.popup.element.on(J+u,g+w,function(t){var e=p(t.target),i=e.parent(),o=i.is(g+b)||i.is(g+x),n;t.preventDefault();if(t.keyCode===c.ESC||t.keyCode===c.TAB||t.altKey&&t.keyCode===c.UP){s._toggleOverflow();s.overflowAnchor.trigger(v)}else if(t.keyCode===c.DOWN){n=!o||o&&e.is(":last-child")||o&&!e.next().is(":kendoFocusable")?i:e;Qt(n,rt).trigger(v)}else if(t.keyCode===c.UP){n=!o||o&&e.is(":first-child")||o&&!e.prev().is(":kendoFocusable")?i:e;Qt(n,lt).trigger(v)}else if((t.keyCode===c.SPACEBAR||t.keyCode===c.ENTER)&&!p(t.target).is(g+T)){s.userEvents.trigger(X,{target:p(t.target)});s.overflowAnchor.trigger(v)}else if(t.keyCode===c.HOME)i.parent().find(":kendoFocusable").first().trigger(v);else if(t.keyCode===c.END)i.parent().find(":kendoFocusable").last().trigger(v)});if(s.isMobile)s.popup.container=s.popup.element.find(g+N);else s.popup.container=s.popup.element;s.popup.container.attr(r,this.uid)},_toggleOverflowAnchor:function(){var t=false;var e=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)t=this.popup.element.find(g+N).children(":not(."+n+", ."+_+")").length>0;else t=this.popup.element.children(":not(."+n+", ."+_+")").length>0;if(t){this.overflowAnchor.css({visibility:"visible",width:kt});this.wrapper.css(e,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:"hidden",width:"1px"});this.wrapper.css(e,kt)}},_buttonClick:function(t){var e=this,i=p(t.target),o,n,s,r;t.preventDefault();if(!i.data(it))i=p(t.target).closest(g+w+xt+wt+g+H,e.element);if(i.hasClass(M))return;o=i.data(l);if(!o&&e.popup){i=p(t.target).closest(g+k,e.popup.container);o=i.parent("li").data(l)}if(!o||!o.options.enable)return;if(o.options.togglable){n=h(o.toggleHandler)?o.toggleHandler:null;o.toggle(!o.options.selected,true);s={target:i,group:o.options.group,checked:o.options.selected,id:o.options.id,item:o};if(n)n.call(e,s);e.trigger(q,s)}else{n=h(o.clickHandler)?o.clickHandler:null;s={sender:e,target:i,id:o.options.id,item:o};if(n)n.call(e,s);e.trigger(j,s)}if(o.options.url){if(o.options.attributes&&o.options.attributes.target)r=o.options.attributes.target;window.open(o.options.url,r||"_self")}if(i.hasClass(k))e.popup.close()},_navigatable:function(){var t=this;t.element.attr(at,0).on(L+u,function(t){var e=p(t.target);var i=p(this).find(":kendoFocusable").first();if(!e.is(g+m)||i.length===0)return;if(i.is(g+M))i=Qt(i,rt);if(i.length)i[0].focus()}).on(J+u,t._keydown.bind(t))},_keydown:function(t){var e=p(t.target),i=t.keyCode,o=this.element.children(":not(.k-separator):visible"),n=this._isRtl?-1:1;if(i===c.TAB){var s=e.parentsUntil(this.element).last(),r=false,l=false,a=false;if(!o.not(g+M).length)a=true;if(!s.length)s=e;if(s.is(g+M)&&!a){var h=o.last();if(t.shiftKey)t.preventDefault();if(h.is(":kendoFocusable"))o.last().trigger(v);else o.last().find(":kendoFocusable").last().trigger(v)}if(!t.shiftKey&&o.index(s)===o.length-1)if(s.is(g+b))r=e.is(":last-child");else r=true;var f=o.index(s)===o.not(".k-overflow-anchor").first().index();if(t.shiftKey&&f)if(s.is(g+b))l=e.is(":first-child");else l=true;if(r&&this.overflowAnchor&&this.overflowAnchor.css("visibility")!=="hidden"&&!a){t.preventDefault();this.overflowAnchor.trigger(v)}if(l||a&&t.shiftKey){t.preventDefault();var d=this._getPrevFocusable(this.wrapper);if(d)d.trigger(v)}this._preventNextFocus=false}if(t.altKey&&i===c.DOWN){var u=p(document.activeElement).is(g+M);if(u)this._toggleOverflow();return}if((i===c.SPACEBAR||i===c.ENTER)&&!e.is("input, checkbox, button")){if(i===c.SPACEBAR){t.preventDefault();this.userEvents.trigger(X,{target:e})}return}if(i===c.HOME){if(e.is(".k-dropdownlist")||e.is("input"))return;if(this.overflowAnchor)o.eq(1).trigger(v);else o.first().trigger(v);t.preventDefault()}else if(i===c.END){if(e.is(".k-dropdownlist")||e.is("input"))return;if(this.overflowAnchor&&p(this.overflowAnchor).css("visibility")!="hidden")this.overflowAnchor.trigger(v);else o.last().trigger(v);t.preventDefault()}else if(i===c.RIGHT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdownlist, .k-colorpicker")&&this._getNextElement(t.target,1*n)){this._getNextElement(t.target,1*n).focus();t.preventDefault()}else if(i===c.LEFT&&!this._preventNextFocus&&!e.is("input, select, .k-dropdownlist, .k-colorpicker")&&this._getNextElement(t.target,-1*n)){this._getNextElement(t.target,-1*n).focus();t.preventDefault()}},_getNextElement:function(t,e){var i=this.element.children(":not(.k-separator, .k-spacer):visible");var o=i.index(t)===-1?i.index(t.parentElement):i.index(t);var n=this.overflowAnchor?1:0;var s=e;var r=e===1?i.length-1:n;var l=e===1?n:i.length-1;var a=i[o+e];this._preventNextFocus=false;if(p(t).closest(g+b).not(g+x).length&&!p(t).is(e===1?":last-child":":first-child"))return p(t).closest(g+b).children()[p(t).closest(g+b).children().index(t)+e];if(this.overflowAnchor&&t===this.overflowAnchor[0]&&e===-1)a=i[i.length-1];if(o===r)a=!this.overflowAnchor||this.overflowAnchor&&p(this.overflowAnchor).css("visibility")==="hidden"?i[l]:this.overflowAnchor;while(!p(a).is(":kendoFocusable")){if(e===-1&&p(a).closest(g+b).length)a=p(a).children(":not(label, div)").last();else a=p(a).children(":not(label, div)").first();if(!a.length){s=s+e;a=i[o+s];if(!a)return this.overflowAnchor}if(p(a).hasClass("k-combobox"))a=p(a).find("input");if(p(a).hasClass("k-split-button-arrow"))a=p(a).prev();this._preventNextFocus=p(a).closest(g+b).length?false:true}return a},_getPrevFocusable:function(t){if(t.is("html"))return t;var e,i,o=t.prevAll();o.each(function(){i=p(this);if(i.is(":kendoFocusable")){e=i;return false}else if(i.find(":kendoFocusable").length>0){e=i.find(":kendoFocusable").last();return false}});if(e)return e;else return this._getPrevFocusable(t.parent())},_toggle:function(t){var e=p(t.target).closest(g+x).data("splitButton");t.preventDefault();if(!e.options.enable)return;e.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;if(!this.options.resizable)return;this.popup.close();this._shrink(e);this._stretch(e);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var t=0;var e=parseInt(this.element.css("gap"),10)||0;this.element.children(":visible:not("+g+A+")").each(function(){t+=f(p(this),true)+e});return Math.ceil(t)},_shrink:function(t){var e,i;if(t<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+M+")");for(var o=i.length-1;o>=0;o--){e=i.eq(o);if(t>this._childrenWidth())break;else this._hideItem(e)}}},_stretch:function(t){var e,i;if(t>this._childrenWidth()){i=this.element.children(g+O+":not("+g+U+")");for(var o=0;o<i.length;o++){e=i.eq(o);if(t<this._childrenWidth()||!this._showItem(e,t))break}}},_hideItem:function(t){t.addClass(O);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass(n)},_showItem:function(t,e){var i=parseInt(this.element.css("gap"),10)||0;t.removeClass(O);var o=f(t,true)+i;t.addClass(O);if(t.length&&e>this._childrenWidth()+o){t.removeClass(O);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass(n);return true}return false},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),i=t.filter(":not(.k-overflow-hidden)"),o=e.filter(":visible");t.add(e).removeClass(P+wt+R);i.first().add(o.first()).addClass(P);i.last().add(o.last()).addClass(R)}});return d.ui.plugin(Lt),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()});
//# sourceMappingURL=kendo.toolbar.min.js.map
