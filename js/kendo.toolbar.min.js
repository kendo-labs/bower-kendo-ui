/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.userevents.min","kendo.popup.min","kendo.html.button.min","kendo.splitbutton.min","kendo.dropdownbutton.min"],t):t()}((function(){!function(t,e){var o=window.kendo,i=o.Class,n=o.ui,s=n.Widget,r=o.isFunction,a=o.keys,l=o._outerWidth,d=".kendoToolBar",p="k-button",h="k-overflow-button",u="k-toggle-button",f="k-button-group",c="k-split-button",b="k-menu-button",m="k-separator",g="k-spacer",v="k-selected",w="k-disabled",k="k-hidden",C="k-force-hidden",x="k-overflow-hidden",y="k-overflow-anchor",_="k-overflow-container",B="k-toolbar-first-visible",A="k-toolbar-last-visible",I="k-split-button-arrow",T="k-toolbar-item",O="k-dropdownlist",D="k-colorpicker",E="k-input-button",U="k-focus",H="aria-disabled",z="aria-label",G="click",M="toggle",S="open",R="close",N="focus",W="keydown",P="spacer",F="both",j="primary",q="role",Q="button",K="splitButton",V="dropDownButton",L="separator",J="overflow",X="next",Y="tabindex",Z="template",$="input",tt="hidden",et="group",ot=":kendoFocusable",it="overflowOpen",nt="overflowClose",st="never",rt="auto",at="_optionlist",lt=o.attr("uid"),dt=" ",pt="",ht="textItem",ut=".",ft=",";o.toolbar={};var ct={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};o.toolbar.registerComponent=function(t,e,o){ct[t]={toolbar:e,overflow:o}};var bt=o.Class.extend({addOverflowAttr:function(){this.element.attr(o.attr(J),this.options.overflow||rt)},addUidAttr:function(){this.element.attr(lt,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){var t,e=this.options.attributes;e&&(e.class&&(t=e.class,this.element.addClass(t),delete e.class),this.element.attr(e),e.class=t)},show:function(){this.element.removeClass(k),this.element.removeClass(C),this.options.hidden=!1},hide:function(){this.element.addClass(k),this.element.addClass(C),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(t){t===e&&(t=!0),this.element.toggleClass(w,!t),this.element.attr(H,!t),this.options.enable=t},twin:function(){var e=this.element.attr(lt);return this.overflow&&this.options.splitContainerId?t("#"+this.options.splitContainerId).find("["+lt+"='"+e+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+lt+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+lt+"='"+e+"']").data(this.options.type):void 0}});o.toolbar.Item=bt;var mt=bt.extend({init:function(e,o){this.options=t.extend({},this.options,e),this.toolbar=o}});o.toolbar.BareItem=mt;var gt=bt.extend({init:function(i,n){var s=i.useButtonTag?t("<button></button>"):t('<a role="button" href></a>');this.element=s,this.options=t.extend({},this.options,i),this.toolbar=n,this.attributes(),i.primary&&(this.options.themeColor=j),i.togglable&&(s.addClass(u),this.toggle(i.selected)),i.url===e||i.useButtonTag||(s.attr("href",i.url),i.mobile&&s.attr(o.attr(q),Q)),i.group&&(s.attr(o.attr(et),i.group),this.group=this.toolbar.addToGroup(this,i.group)),!i.togglable&&i.click&&r(i.click)&&(this.clickHandler=i.click),i.togglable&&i.toggle&&r(i.toggle)&&(this.toggleHandler=i.toggle)},options:{showIcon:F,showText:F},toggle:function(t,e){t=!!t,this.group&&t?this.group.select(this):this.group||this.select(t),e&&this.twin()&&this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(ut+f).data("buttonGroup")}});o.toolbar.Button=gt;var vt=gt.extend({init:function(t,e){gt.fn.init.call(this,t,e);var i=this.element;t=this.options,i.addClass(p),this.addIdAttr(),t.align&&i.addClass("k-align-"+t.align),!t.text||"toolbar"!=t.showText&&t.showText!=F?t.text&&i.attr(z,t.text):t.mobile?i.html('<span class="km-text">'+t.text+"</span>"):i.html(t.text),(t.icon||t.spriteCssClass||t.imageUrl)&&"toolbar"!==t.showIcon&&t.showIcon!==F&&(t.icon=null,t.spriteCssClass=null,t.imageUrl=null),o.html.renderButton(i,t),this.addUidAttr(),this.addOverflowAttr(),this.enable(t.enable),t.hidden&&this.hide(),this.element.data({type:Q,button:this})},select:function(t){t===e&&(t=!1),this.options.togglable&&this.element.attr("aria-pressed",t),this.element.toggleClass(v,t),this.options.selected=t}});o.toolbar.ToolBarButton=vt;var wt=gt.extend({init:function(e,i){this.overflow=!0,gt.fn.init.call(this,t.extend({},e),i);var n=this.element;!(e=this.options).text||e.showText!=J&&e.showText!=F?e.text&&n.attr(z,e.text):e.mobile?n.html('<span class="km-text">'+e.text+"</span>"):n.html(e.text),(e.icon||e.spriteCssClass||e.imageUrl)&&e.showIcon!==J&&e.showIcon!==F&&(e.icon=null,e.spriteCssClass=null,e.imageUrl=null),o.html.renderButton(n,e),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),n.addClass("k-overflow-button "+p),e.hidden&&this.hide(),e.togglable&&this.toggle(e.selected),this.element.data({type:Q,button:this})},_wrap:function(){this.element=this.element.wrap('<li class="k-menu-item k-item">').parent()},overflowHidden:function(){this.element.addClass(x)},select:function(t){t===e&&(t=!1),this.options.isChild?this.element.toggleClass(v,t):this.element.find(ut+p).toggleClass(v,t),this.options.selected=t}});o.toolbar.OverflowButton=wt,o.toolbar.registerComponent(Q,vt,wt);var kt=bt.extend({createButtons:function(e){for(var i=this.options,n=i.buttons||[],s=0;s<n.length;s++)n[s].uid||(n[s].uid=o.guid()),new e(t.extend({mobile:i.mobile,isChild:!0,type:Q},n[s]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('.k-hidden')").first().addClass("k-group-start"),this.element.children().filter(":not('.k-hidden')").last().addClass("k-group-end")}});o.toolbar.ButtonGroup=kt;var Ct=kt.extend({init:function(e,o){var i=this.element=t("<div></div>");this.options=e,this.toolbar=o,this.addIdAttr(),e.align&&i.addClass("k-align-"+e.align),this.createButtons(vt),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass(f),e.hidden&&this.hide(),this.element.data({type:"buttonGroup",buttonGroup:this})}});o.toolbar.ToolBarButtonGroup=Ct;var xt=kt.extend({init:function(e,o){var i=this.element=t("<li></li>");this.options=e,this.toolbar=o,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(wt),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass((e.mobile?pt:f)+dt+"k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(x)}});o.toolbar.OverflowButtonGroup=xt,o.toolbar.registerComponent("buttonGroup",Ct,xt);var yt=vt.extend({init:function(i,n){var s;s=(i=this.options=t.extend({},this.options,i)).url!==e?t(o.template('<a href="#:href#" class="k-link k-menu-link"><span class="k-menu-link-text">#:text#</span></a>')({href:i.url,text:i.text})):t(o.template('<span tabindex="0" class="k-link k-menu-link"><span class="k-menu-link-text">#:text#</span></span>')({text:i.text})),this.element=s,this.toolbar=n,i.click&&r(i.click)&&(this.clickHandler=i.click),i.togglable&&i.toggle&&r(i.toggle)&&(this.toggleHandler=i.toggle),i.imageUrl?t('<img alt="icon" class="k-image" />').prependTo(s).attr("src",i.imageUrl):i.icon?t("<span></span>").prependTo(s).attr("class","k-icon k-i-"+i.icon):i.spriteCssClass&&t('<span class="k-sprite"></span>').prependTo(s).addClass(i.spriteCssClass),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),this.attributes(),this.enable(i.enable),i.group&&(s.attr(o.attr(et),i.group),this.group=this.toolbar.addToGroup(this,i.group)),i.hidden&&this.hide(),this.element.data({type:Q,button:this})}});o.toolbar.ToolBarMenuButton=yt;var _t=bt.extend({init:function(e,o){var i=this;i.options=t.extend({id:e.id||e.uid,enable:!0},e,{togglable:!1}),e.primary&&(i.options.themeColor=j),e.showIcon===J&&(i.options.icon=null),e.showText===J&&(i.options.text=""),i.toolbar=o,i.splitButton=new n.SplitButton(t("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),t.extend({},i.options,{items:i._extend(e.menuButtons)}),o.options),i.element=i.splitButton.wrapper,i.splitButton.bind(G,o._buttonClick.bind(o)),i.splitButton.bind(R,i._close.bind(i)),i.splitButton.bind(S,i._open.bind(i)),i.splitButton.element.data({type:K,button:i,splitButton:i}),i.splitButton.wrapper.data({type:K,button:i,splitButton:i}),i.addOverflowAttr(),i.addUidAttr(),i.attributes(),i.addMenuAttributes(),!1===i.options.enable&&i.enable(this.options.enable),i.options.hidden&&i.hide()},_open:function(t){this.toolbar.trigger(S,{target:this.element})&&t.preventDefault()},_close:function(t){var e=this;e.toolbar.trigger(R,{target:e.element})&&t.preventDefault(),e.splitButton.element.trigger(N)},_extend:function(e){var o=this;return e.map((function(e){var i=new mt(e,o.toolbar);return t.extend({},e,{togglable:!1,data:function(){return{type:Q,button:i,splitButton:o}}})}))},addMenuAttributes:function(){var e;this.splitButton.items().each((function(o,i){i=t(i),(e=i.data(Q)).element=i,e.options=t.extend({type:Q,enable:!0},e.options),e.addOverflowAttr(),e.addUidAttr()}))},remove:function(){var t=this.splitButton.wrapper;this.splitButton.destroy(),t.remove()},enable:function(t,e){this.splitButton.enable(t,e,!0),this.twin()&&this.twin().enable(t)},attributes:function(){var t,e=this.splitButton.element,o=this.options.attributes;o&&(o.class&&(t=o.class,e.addClass(t),delete o.class),e.attr(o),o.class=t)}});o.toolbar.ToolBarSplitButton=_t;var Bt=bt.extend({init:function(e,o){var i,n=this.element=t('<li class="k-split-button"></li>'),s=e.menuButtons;this.options=t.extend({},e,{togglable:!1}),this.toolbar=o,this.overflow=!0,i=(e.id||e.uid)+at,this.mainButton=new wt(t.extend({isChild:!0},e,{togglable:!1})),this.mainButton.element.appendTo(n);for(var r=0;r<s.length;r++)new wt(t.extend({mobile:e.mobile,type:Q,splitContainerId:i,isChild:!0},s[r],{click:e.click}),this.toolbar).element.appendTo(n);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,!1===this.options.enable&&this.enable(this.options.enable),n.data({type:K,splitButton:this})},enable:function(t){var o=this.element.add(this.element.find(ut+h));t===e&&(t=!0),o.toggleClass(w,!t),o.attr(H,!t),this.options.enable=t},overflowHidden:function(){this.element.addClass(x)}});o.toolbar.OverflowSplitButton=Bt,o.toolbar.registerComponent(K,_t,Bt);var At=bt.extend({init:function(e,o){var i=this;i.options=t.extend({id:e.id||e.uid,enable:!0},e,{togglable:!1}),e.primary&&(i.options.themeColor=j),e.showIcon===J&&(i.options.icon=null),e.showText===J&&(i.options.text=""),i.toolbar=o,i.dropDownButton=new n.DropDownButton(t("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),t.extend({},i.options,{items:i._extend(e.menuButtons)}),o.options),i.element=i.dropDownButton.element,i.dropDownButton.bind(G,o._buttonClick.bind(o)),i.dropDownButton.bind(R,i._close.bind(i)),i.dropDownButton.bind(S,i._open.bind(i)),i.dropDownButton.element.data({type:V,button:i,dropDownButton:i}),i.addOverflowAttr(),i.addUidAttr(),i.attributes(),i.addMenuAttributes(),!1===i.options.enable&&i.enable(this.options.enable),i.options.hidden&&i.hide()},_open:function(t){this.toolbar.trigger(S,{target:this.element})&&t.preventDefault()},_close:function(t){var e=this;e.toolbar.trigger(R,{target:e.element})&&t.preventDefault(),e.dropDownButton.element.trigger(N)},_extend:function(e){var o=this;return e.map((function(e){var i=new mt(e,o.toolbar);return t.extend({},e,{data:function(){return{type:Q,button:i,dropDownButton:o}}})}))},addMenuAttributes:function(){var e;this.dropDownButton.items().each((function(o,i){i=t(i),(e=i.data(Q)).element=i,e.options=t.extend({type:Q,enable:!0},e.options),e.addOverflowAttr(),e.addUidAttr()}))},remove:function(){var t=this.dropDownButton.element;this.dropDownButton.destroy(),t.remove()},enable:function(t,e){this.dropDownButton.enable(t,e,!0),this.twin()&&this.twin().enable(t)},attributes:function(){var t,e=this.element,o=this.options.attributes;o&&(o.class&&(t=o.class,e.addClass(t),delete o.class),e.attr(o),o.class=t)}});o.toolbar.ToolBarSplitButton=_t;var It=bt.extend({init:function(e,o){var i=this.element=t("<span></span>");this.element=i,this.options=e,this.toolbar=o,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),!e.icon||e.showIcon&&"toolbar"===e.showIcon||i.append('<span class="k-icon k-i-'+e.icon+'"></span>'),"toolbar"!==e.showText&&i.append("<span>"+this.options.text+"</span>"),i.data({type:ht,textItem:this})},overflowHidden:function(){this.element.addClass(x)}}),Tt=bt.extend({init:function(e,o){var i,n=this.element=t('<li class="k-split-button k-menu-button"></li>'),s=e.menuButtons;this.options=t.extend({},e,{togglable:!1}),this.toolbar=o,this.overflow=!0,i=(e.id||e.uid)+at,this.mainButton=new It(t.extend({isChild:!0},e,{togglable:!1})),this.mainButton.element.appendTo(n);for(var r=0;r<s.length;r++)new wt(t.extend({mobile:e.mobile,type:Q,splitContainerId:i,isChild:!0},s[r],{click:e.click}),this.toolbar).element.appendTo(n);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,!1===this.options.enable&&this.enable(this.options.enable),n.data({type:V,dropDownButton:this})},enable:function(t){var o=this.element.add(this.element.find(ut+h));t===e&&(t=!0),o.toggleClass(w,!t),o.attr(H,!t),this.options.enable=t},overflowHidden:function(){this.element.addClass(x)}});o.toolbar.OverflowSplitButton=Tt,o.toolbar.registerComponent(V,At,Tt);var Ot=bt.extend({init:function(e,o){var i=this.element=t("<div>&nbsp;</div>");this.element=i,this.options=e,this.toolbar=o,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),i.addClass(m),i.attr(q,L),i.data({type:L,separator:this})}}),Dt=bt.extend({init:function(e,o){var i=this.element=t("<li>&nbsp;</li>");this.element=i,this.options=e,this.toolbar=o,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),i.addClass(m),i.attr(q,L),i.data({type:L,separator:this})},overflowHidden:function(){this.element.addClass(x)}});o.toolbar.registerComponent("separator",Ot,Dt);var Et=bt.extend({init:function(e,o){var i=this.element=t("<div>&nbsp;</div>");this.element=i,this.options=e,this.toolbar=o,i.addClass(g),i.data({type:P}),this.addOverflowAttr()}});o.toolbar.registerComponent(P,Et);var Ut=bt.extend({init:function(e,o,i){var n=r(e)?e(o):e;n=n instanceof jQuery?n.wrap("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").parent():t("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").html(n),this.element=n,this.options=o,this.options.type=o.type||Z,this.toolbar=i,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),o.hidden&&this.hide(),n.data({type:Z,template:this})}});o.toolbar.TemplateItem=Ut;var Ht=bt.extend({init:function(e,o,i){var n=r(e)?t(e(o)):t(e);n=n instanceof jQuery?n.wrap("<li></li>").parent():t("<li></li>").html(n),this.element=n,this.options=o,this.options.type=Z,this.toolbar=i,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),n.data({type:Z,template:this})},overflowHidden:function(){this.element.addClass(x)}});function zt(t){t.target.is(".k-toggle-button")||t.target.toggleClass(v,"press"==t.type)}function Gt(e){t(e.target).closest("a.k-button").length&&e.preventDefault()}function Mt(e,o){var i=o===X?t.fn.next:t.fn.prev,n=o===X?t.fn.first:t.fn.last,s=i.call(e);return!s.length&&e.is(ut+y)?e:s.is(ot)||!s.length?s:s.find(ot).length?n.call(s.find(ot)):Mt(s,o)}o.toolbar.OverflowTemplateItem=Ht;var St=i.extend({init:function(t){this.name=t,this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(e){var o=t.inArray(e,this.buttons);this.buttons.splice(o,1)},select:function(t){for(var e=0;e<this.buttons.length;e++)this.buttons[e].select(!1);t.select(!0),t.twin()&&t.twin().select(!0)}}),Rt=s.extend({init:function(e,i){var n=this;if(s.fn.init.call(n,e,i),i=n.options,(e=n.wrapper=n.element).addClass("k-toolbar k-widget"),e.attr(q,"toolbar"),this.uid=o.guid(),this._isRtl=o.support.isRtl(e),this._groups={},e.attr(lt,this.uid),n.isMobile="boolean"==typeof i.mobile?i.mobile:n.element.closest(".km-root")[0],n.animation=n.isMobile?{open:{effects:"fade"}}:{},n.isMobile&&(e.addClass("km-widget"),p="km-button",f="km-buttongroup",v="km-state-active",w="km-state-disabled"),i.resizable?(n._renderOverflow(),e.addClass("k-toolbar-resizable"),n.overflowUserEvents=new o.UserEvents(n.element,{threshold:5,allowSelection:!0,filter:ut+y,tap:n._toggleOverflow.bind(n)}),n._resizeHandler=o.onResize((function(){n.resize()}))):n.popup={element:t([])},i.items&&i.items.length){for(var r=0;r<i.items.length;r++)n.add(i.items[r]);i.resizable&&n._shrink(n.element.innerWidth())}n.userEvents=new o.UserEvents(document.documentElement,{threshold:5,allowSelection:!0,filter:"["+lt+"="+n.uid+"] a."+p+ft+" ["+lt+"="+n.uid+"] ."+y+ft+" ["+lt+"="+n.uid+"] ."+I+ft+" ["+lt+"="+n.uid+"] ."+T+ft+" ["+lt+"="+n.uid+"] ."+b,tap:n._buttonClick.bind(n),press:zt,release:zt}),n.element.on(G+d,"a.k-button",Gt).on(W+d,n._keydown.bind(n)).on("focusin"+d,n._focusIn.bind(n)).on("focusout"+d,n._focusOut.bind(n)),n.options.resizable&&n.popup.element.on(G+d,NaN,Gt),i.resizable&&(n.overflowAnchor.appendTo(n.wrapper),this._toggleOverflowAnchor()),n._tabIndex(),o.notify(n)},events:[G,M,S,R,it,nt],options:{name:"ToolBar",items:[],resizable:!0,mobile:null,navigateOnTab:!1},addToGroup:function(t,e){var o;return(o=this._groups[e]?this._groups[e]:this._groups[e]=new St).add(t),o},destroy:function(){var t=this;t.destroySplitButtons(),t.destroyDropDownButtons(),t.element.off(d,"a.k-button"),t.userEvents.destroy(),t.options.resizable&&(o.unbindResize(t._resizeHandler),t.overflowUserEvents.destroy(),t.popup.element.off(d,"a.k-button"),t.popup.destroy()),s.fn.destroy.call(t)},destroySplitButtons:function(){var e,o=this;o.element.find(ut+c).each((function(i,n){(e=o._getItem(n))&&e.type===K&&(e=e.toolbar),e&&e.splitButton&&e.splitButton.destroy&&(e.splitButton.destroy(),t(n).remove())}))},destroyDropDownButtons:function(){var e,o=this;o.element.find(ut+b).each((function(i,n){(e=o._getItem(n))&&e.type===V&&(e=e.toolbar),e&&e.dropDownButton&&e.dropDownButton.destroy&&(e.dropDownButton.destroy(),t(n).remove())}))},add:function(e){var i,n,s,r=ct[e.type],a=e.template,l=this,d=l.isMobile?pt:"k-item",p=e.overflowTemplate;if(t.extend(e,{uid:o.guid(),animation:l.animation,mobile:l.isMobile,rootUid:l.uid}),e.menuButtons)for(var h=0;h<e.menuButtons.length;h++)t.extend(e.menuButtons[h],{uid:o.guid()});a&&!p||e.type===P?e.overflow=st:e.overflow||(e.overflow=rt),e.overflow!==st&&l.options.resizable&&(p?n=new Ht(p,e,l):r&&(n=new r.overflow(e,l)).element.addClass(d),n&&(e.overflow===rt&&n.overflowHidden(),n.element.appendTo(l.popup.container),l.angular("compile",(function(){return{elements:n.element.get()}})))),"always"!==e.overflow&&(a?(s=(i=new Ut(a,e,l)).element.find("input,select"),!this.options.navigateOnTab&&s.length>0&&(i.element.attr(Y,0),s.attr(Y,-1))):r&&(i=new r.toolbar(e,l)),i&&(i.element.appendTo(l.element),l.angular("compile",(function(){return{elements:i.element.get()}}))))},_getItem:function(e){var o,i,n,s,r=this.options.resizable;return(o=this.element.find(e)).length||(o=t('[data-role="buttonmenu"]').find(e)),s=o.length?o.data("type"):pt,(i=o.data(s))&&r?n=i.twin():r&&(s=(o=this.popup.element.find(e)).length?o.data("type"):pt,n=o.data(s),s===ht&&(s="dropDownButton",n=(o=o.parent(ut+b)).data(s)),n&&n.main&&s!==ht&&(s="splitButton",n=(o=o.parent(ut+c)).data(s))),{type:s,toolbar:i,overflow:n}},remove:function(t){var e=this._getItem(t);e.toolbar&&e.toolbar.remove(),e.overflow&&e.overflow.remove(),this.resize(!0)},hide:function(t){var e,o=this._getItem(t);o.toolbar&&(o.toolbar.options.type===Q&&o.toolbar.options.isChild?(e=o.toolbar.getParentGroup(),o.toolbar.hide(),e&&e.refresh()):o.toolbar.options.hidden||o.toolbar.hide()),o.overflow&&(o.overflow.options.type===Q&&o.overflow.options.isChild?(e=o.overflow.getParentGroup(),o.overflow.hide(),e&&e.refresh()):o.overflow.options.hidden||o.overflow.hide()),this.resize(!0)},show:function(t){var e,o=this._getItem(t);o.toolbar&&(o.toolbar.options.type===Q&&o.toolbar.options.isChild?(e=o.toolbar.getParentGroup(),o.toolbar.show(),e&&e.refresh()):o.toolbar.options.hidden&&o.toolbar.show()),o.overflow&&(o.overflow.options.type===Q&&o.overflow.options.isChild?(e=o.overflow.getParentGroup(),o.toolbar.show(),e&&e.refresh()):o.overflow.options.hidden&&o.overflow.show()),this.resize(!0)},enable:function(t,e){var o=this._getItem(t);void 0===e&&(e=!0),o.toolbar&&o.toolbar.enable(e,o.element),o.overflow&&o.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(".k-toggle-button[data-group='"+t+"']").filter(ut+v)},toggle:function(o,i){var n=t(o).data(Q);n.options.togglable&&(i===e&&(i=!0),n.toggle(i,!0))},_renderOverflow:function(){var e,i=this,n=ct.overflowContainer,s=i._isRtl,r=s?"left":"right";i.overflowAnchor=t(ct.overflowAnchor).addClass(p),i.element.append(i.overflowAnchor),i.isMobile?(i.overflowAnchor.append('<span class="km-icon km-more"></span>'),n=(e=t(e=n)).hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()):i.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),i.popup=new o.ui.Popup(n,{origin:"bottom "+r,position:"top "+r,anchor:i.overflowAnchor,isRtl:s,animation:i.animation,appendTo:i.isMobile?t(i.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(e){var n=o.wrap(i.popup.element).addClass("k-overflow-wrapper");i.isMobile?i.popup.container.css("max-height",parseFloat(t(".km-content:visible").innerHeight())-15+"px"):n.css("margin-left",(s?-1:1)*((l(n)-n.width())/2+1)),i.trigger(it)&&e.preventDefault()},activate:function(){this.element.find(ot).first().trigger(N)},close:function(t){i.trigger(nt)&&t.preventDefault(),this.element.trigger(N)}}),i.popup.element.on(W+d,ut+p,(function(e){var o=t(e.target),n=o.parent(),s=n.is(ut+f)||n.is(ut+c);e.preventDefault(),e.keyCode===a.ESC||e.keyCode===a.TAB||e.altKey&&e.keyCode===a.UP?(i._toggleOverflow(),i.overflowAnchor.trigger(N)):e.keyCode===a.DOWN?Mt(!s||s&&o.is(":last-child")||s&&!o.next().is(ot)?n:o,X).trigger(N):e.keyCode===a.UP?Mt(!s||s&&o.is(":first-child")||s&&!o.prev().is(ot)?n:o,"prev").trigger(N):e.keyCode!==a.SPACEBAR&&e.keyCode!==a.ENTER||t(e.target).is(ut+w)?e.keyCode===a.HOME?n.parent().find(ot).first().trigger(N):e.keyCode===a.END&&n.parent().find(ot).last().trigger(N):(i.userEvents.trigger("tap",{target:t(e.target)}),i.overflowAnchor.trigger(N))})),i.isMobile?i.popup.container=i.popup.element.find(ut+_):i.popup.container=i.popup.element,i.popup.container.attr(lt,this.uid)},_toggleOverflowAnchor:function(){var t=this._isRtl?"padding-left":"padding-right";(this.options.mobile?this.popup.element.find(ut+_).children(":not(.k-overflow-hidden, .k-popup)").length>0:this.popup.element.children(":not(.k-overflow-hidden, .k-popup)").length>0)?(this.overflowAnchor.css({visibility:"visible",width:pt}),this.wrapper.css(t,this.overflowAnchor.outerWidth(!0))):(this.overflowAnchor.css({visibility:tt,width:"1px"}),this.wrapper.css(t,pt))},_buttonClick:function(e){var o,i,n,s,a,l=this,d=t(e.target);0===d.closest(".k-toolbar-item").length&&e.preventDefault(),d.hasClass(b)||d.hasClass(y)?l._resetTabIndex(d):d.hasClass(I)?l._resetTabIndex(d.prev()):d.hasClass(T)?(a=d.find("input,select,."+O)).length>0&&l._resetTabIndex(a.first()):(d.data(K)||(d=t(e.target).closest(ut+p+ft+ut+"k-menu-link",l.element)),(o=d.data(Q))&&!d.hasClass("k-menu-item")&&l._resetTabIndex(d),!o&&l.popup&&(o=(d=t(e.target).closest(ut+h,l.popup.container)).parent("li").data(Q)),o&&o.options.enable&&(o.options.togglable?(i=r(o.toggleHandler)?o.toggleHandler:null,o.toggle(!o.options.selected,!0),n={target:d,group:o.options.group,checked:o.options.selected,id:o.options.id,item:o},i&&i.call(l,n),l.trigger(M,n)):(i=r(o.clickHandler)?o.clickHandler:null,n={sender:l,target:d,id:o.options.id,item:o},i&&i.call(l,n),l.trigger(G,n)),o.options.url&&(o.options.attributes&&o.options.attributes.target&&(s=o.options.attributes.target),window.open(o.options.url,s||"_self")),d.hasClass(h)&&l.popup.close()))},_focusOut:function(t){this.wrapper.find(ut+p+ut+U).removeClass(U)},_focusIn:function(e){var o=t(e.target);o.closest(ut+p).length>0&&o.closest(ut+p).addClass(U)},_keydown:function(e){var i,n,s,r,l,d=t(e.target),p=e.keyCode,h=this._getItems(),u=this._isRtl?-1:1,f=d.closest(".k-toolbar-item");if(e.altKey&&p===a.DOWN)t(document.activeElement).is(ut+y)&&this._toggleOverflow();else if(this.options.navigateOnTab||p!==a.ENTER||!d.hasClass(T))if(!this.options.navigateOnTab&&p===a.ESC&&f.length>0){if(r=f.find("[data-role]"),s=f.find(":kendoFocusable:not('.k-input-button'),."+O),r.length>0&&(l=o.widgetInstance(r))){if(l.popup&&l.popup.visible())return;f.attr(Y,0),f.trigger(N),f.find(ot).attr(Y,-1)}s.length>0&&(f.attr(Y,0),f.trigger(N),s.attr(Y,-1))}else if(p!==a.SPACEBAR&&p!==a.ENTER||d.is("input,checkbox,button"))if(p===a.HOME){if(d.is(ut+O)||d.is($))return;this._resetTabIndex(h.first()),h.first().trigger(N),e.preventDefault()}else if(p===a.END){if(d.is(ut+O)||d.is($))return;0===(i=h.last()).width()&&(i=h.eq(h.length-2)),this._resetTabIndex(i),i.trigger(N),e.preventDefault()}else this.options.navigateOnTab||p!==a.RIGHT||d.is("input:not([type=file]),select,.k-dropdownlist,."+D)||!this._getNextElement(e.target,1*u)?this.options.navigateOnTab||p!==a.LEFT||d.is("input:not([type=file]),select, .k-dropdownlist,."+D)||!this._getNextElement(e.target,-1*u)||(n=t(this._getNextElement(e.target,-1*u)),this._resetTabIndex(n),n.trigger(N),e.preventDefault()):(n=t(this._getNextElement(e.target,1*u)),this._resetTabIndex(n),n.trigger(N),e.preventDefault());else p===a.SPACEBAR&&(e.preventDefault(),this.userEvents.trigger("tap",{target:d}));else(s=d.find(":kendoFocusable:not('.k-input-button'),."+O)).length>0&&(d.attr(Y,-1),s.attr(Y,0),s.first().trigger(N))},_getNextElement:function(t,e){var o=this._getItems(),i=-1===o.index(t)?o.index(t.parentElement):o.index(t),n=o[i+e];return n||(n=-1===e?o.last():o.first()),n},_getItems:function(){return this.wrapper.find(":kendoFocusable,.k-toolbar-item,.k-overflow-anchor,.k-switch").filter((function(){var e=t(this);return!e.hasClass("k-hidden")&&((!e.hasClass(y)||e.css("visibility")!==tt)&&((!e.hasClass(T)||0!==e.find("input:visible,.k-picker,.k-input").length)&&(!(!e.hasClass(T)&&e.closest(".k-toolbar-item").length>0)&&(!e.hasClass(E)&&!e.hasClass(I)))))}))},_toggle:function(e){var o=t(e.target).closest(ut+c).data("splitButton");e.preventDefault(),o.options.enable&&o.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;this.options.resizable&&(this.popup.close(),this._shrink(e),this._stretch(e),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var e=0,o=parseInt(this.element.css("gap"),10)||0;return this.element.children(":visible:not(.k-spacer)").each((function(){e+=l(t(this),!0)+o})),Math.ceil(e)},_shrink:function(t){var e,o,i;if(t<this._childrenWidth())for(var n=(o=this.element.children(":visible:not([data-overflow='never'], .k-overflow-anchor)")).length-1;n>=0&&(e=o.eq(n),!(t>this._childrenWidth()));n--)(i=e.find("[tabindex=0]")).length>0&&(i.attr(Y,-1),this.element.children(ut+y).attr(Y,0)),this._hideItem(e)},_stretch:function(t){var e,o;if(t>this._childrenWidth()){o=this.element.children(".k-hidden:not(.k-force-hidden)");for(var i=0;i<o.length&&(e=o.eq(i),!(t<this._childrenWidth())&&this._showItem(e,t));i++);}},_hideItem:function(t){t.addClass(k),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").removeClass(x)},_showItem:function(t,e){var o=parseInt(this.element.css("gap"),10)||0;t.removeClass(k);var i=l(t,!0)+o;return t.addClass(k),!!(t.length&&e>this._childrenWidth()+i)&&(t.removeClass(k),!0!==this.options.navigateOnTab&&t.find(ot).attr(Y,-1),this.popup&&this.popup.container.find(">li[data-uid='"+t.data("uid")+"']").addClass(x),!0)},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not(.k-overflow-anchor)"),o=t.filter(":not(.k-overflow-hidden)"),i=e.filter(":visible");t.add(e).removeClass("k-toolbar-first-visible "+A),o.first().add(i.first()).addClass(B),o.last().add(i.last()).addClass(A)},_resetTabIndex:function(t){!0!==this.options.navigateOnTab&&(this.wrapper.find(ot).attr(Y,-1),t.attr(Y,0))},_tabIndex:function(){var t=this.wrapper.find(":kendoFocusable:not('[tabindex=-1]')"),e=t.first();!0!==this.options.navigateOnTab&&(t.attr(Y,-1),e.attr(Y,0))}});o.ui.plugin(Rt)}(window.kendo.jQuery)}));
//# sourceMappingURL=kendo.toolbar.min.js.map
