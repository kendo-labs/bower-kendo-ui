/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.toolbar.min",["kendo.core.min","kendo.userevents.min","kendo.popup.min","kendo.html.button.min","kendo.splitbutton.min","kendo.dropdownbutton.min"],function(){var e={id:"toolbar",name:"ToolBar",category:"web",description:"The ToolBar widget displays one or more command buttons divided into groups.",depends:["core","html.button","splitbutton","dropdownbutton"]},h=window.kendo.jQuery,s=void 0,u=window.kendo,i=u.Class,o=u.ui,n=o.Widget,a=u.isFunction,c=u.keys,r=u._outerWidth,l=".kendoToolBar",d="k-toolbar",f="k-button",p="k-overflow-button",C="k-toggle-button",x="k-button-group",y="k-split-button",B="k-menu-button",_="k-separator",A="k-spacer",I="k-popup",T="k-toolbar-resizable",O="k-selected",D="k-disabled",E="k-hidden",U="k-force-hidden",H="k-group-start",z="k-group-end",G="k-menu-link",M="k-menu-item",S="k-overflow-group",R="k-overflow-hidden",N="k-overflow-anchor",W="k-overflow-container",P="k-overflow-wrapper",F="k-toolbar-first-visible",j="k-toolbar-last-visible",q="k-split-button-arrow",Q="k-toolbar-item",K="k-dropdownlist",V="k-colorpicker",L="k-input-button",J="k-focus",X="aria-disabled",Y="aria-pressed",Z="aria-label",$="click",tt="toggle",et="open",it="close",b="focus",ot="keydown",nt="tap",st="spacer",rt="both",lt="primary",at="href",dt="role",g="button",ft="splitButton",pt="dropDownButton",ht="separator",ut="overflow",ct="next",bt="prev",m="tabindex",gt="template",mt="input",vt="select",wt="checkbox",kt="hidden",Ct="group",v=":kendoFocusable",xt="overflowOpen",yt="overflowClose",Bt="never",_t="auto",At="always",It="_optionlist",Tt=u.attr("uid"),Ot='<li class="k-menu-item k-item">',Dt='<span tabindex="0" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</span>",Et='<a href="#:href#" class="k-link k-menu-link">'+'<span class="k-menu-link-text">#:text#</span>'+"</a>",Ut=" ",Ht="",zt="textItem",w=".",k=",",Gt="id",Mt="uid",St=(u.toolbar={},{overflowAnchor:'<div tabindex="0" class="k-overflow-anchor k-button k-button-md k-rounded-md k-button-flat k-button-flat-base" title="More tools" role="button"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'}),t=(u.toolbar.registerComponent=function(t,e,i){St[t]={toolbar:e,overflow:i}},u.Class.extend({addOverflowAttr:function(){this.element.attr(u.attr(ut),this.options.overflow||_t)},addUidAttr:function(){this.element.attr(Tt,this.options.uid)},addIdAttr:function(){if(this.options.id)this.element.attr(Gt,this.options.id)},addOverflowIdAttr:function(){if(this.options.id)this.element.attr(Gt,this.options.id+"_overflow")},attributes:function(){var t=this.options.attributes,e;if(t){if(t.class){e=t.class;this.element.addClass(e);delete t.class}this.element.attr(t);t.class=e}},show:function(){this.element.removeClass(E);this.element.removeClass(U);this.options.hidden=false},hide:function(){this.element.addClass(E);this.element.addClass(U);if(this.overflow&&this.overflowHidden)this.overflowHidden();this.options.hidden=true},remove:function(){this.element.remove()},enable:function(t){if(t===s)t=true;this.element.toggleClass(D,!t);this.element.attr(X,!t);this.options.enable=t},twin:function(){var t=this.element.attr(Tt);if(this.overflow&&this.options.splitContainerId)return h("#"+this.options.splitContainerId).find("["+Tt+"='"+t+"']").data(this.options.type);else if(this.overflow)return this.toolbar.element.find("["+Tt+"='"+t+"']").data(this.options.type);else if(this.toolbar.options.resizable)return this.toolbar.popup.element.find("["+Tt+"='"+t+"']").data(this.options.type)}})),Rt=(u.toolbar.Item=t).extend({init:function(t,e){this.options=h.extend({},this.options,t);this.toolbar=e}}),Nt=(u.toolbar.BareItem=Rt,t.extend({init:function(t,e){var i=t.useButtonTag?h("<button></button>"):h('<a role="button" href></a>');this.element=i;this.options=h.extend({},this.options,t);this.toolbar=e;this.attributes();if(t.primary)this.options.themeColor=lt;if(t.togglable){i.addClass(C);this.toggle(t.selected)}if(t.url!==s&&!t.useButtonTag){i.attr(at,t.url);if(t.mobile)i.attr(u.attr(dt),g)}if(t.group){i.attr(u.attr(Ct),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(!t.togglable&&t.click&&a(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&a(t.toggle))this.toggleHandler=t.toggle},options:{showIcon:rt,showText:rt},toggle:function(t,e){t=!!t;if(this.group&&t)this.group.select(this);else if(!this.group)this.select(t);if(e&&this.twin())this.twin().toggle(t)},getParentGroup:function(){if(this.options.isChild)return this.element.closest(w+x).data("buttonGroup")}})),Wt=(u.toolbar.Button=Nt).extend({init:function(t,e){Nt.fn.init.call(this,t,e);var i=this.element;t=this.options;i.addClass(f);this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);if(!!t.text&&(t.showText=="toolbar"||t.showText==rt))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr(Z,t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!=="toolbar"&&t.showIcon!==rt){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}u.html.renderButton(i,t);this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);if(t.hidden)this.hide();this.element.data({type:g,button:this})},select:function(t){if(t===s)t=false;if(this.options.togglable)this.element.attr(Y,t);this.element.toggleClass(O,t);this.options.selected=t}}),Pt=(u.toolbar.ToolBarButton=Wt,Nt.extend({init:function(t,e){this.overflow=true;Nt.fn.init.call(this,h.extend({},t),e);var i=this.element;t=this.options;if(!!t.text&&(t.showText==ut||t.showText==rt))if(t.mobile)i.html('<span class="km-text">'+t.text+"</span>");else i.html(t.text);else if(!!t.text)i.attr(Z,t.text);if(t.icon||t.spriteCssClass||t.imageUrl)if(t.showIcon!==ut&&t.showIcon!==rt){t.icon=null;t.spriteCssClass=null;t.imageUrl=null}u.html.renderButton(i,t);if(!t.isChild)this._wrap();this.addOverflowIdAttr();this.attributes();this.addUidAttr();this.addOverflowAttr();this.enable(t.enable);i.addClass(p+Ut+f);if(t.hidden)this.hide();if(t.togglable)this.toggle(t.selected);this.element.data({type:g,button:this})},_wrap:function(){this.element=this.element.wrap(Ot).parent()},overflowHidden:function(){this.element.addClass(R)},select:function(t){if(t===s)t=false;if(this.options.isChild)this.element.toggleClass(O,t);else this.element.find(w+f).toggleClass(O,t);this.options.selected=t}})),Ft=(u.toolbar.OverflowButton=Pt,u.toolbar.registerComponent(g,Wt,Pt),t.extend({createButtons:function(t){var e=this.options;var i=e.buttons||[];var o;for(var n=0;n<i.length;n++){if(!i[n].uid)i[n].uid=u.guid();o=new t(h.extend({mobile:e.mobile,isChild:true,type:g},i[n]),this.toolbar);o.element.appendTo(this.element)}},refresh:function(){this.element.children().filter(":not('."+E+"')").first().addClass(H);this.element.children().filter(":not('."+E+"')").last().addClass(z)}})),jt=(u.toolbar.ButtonGroup=Ft).extend({init:function(t,e){var i=this.element=h("<div></div>");this.options=t;this.toolbar=e;this.addIdAttr();if(t.align)i.addClass("k-align-"+t.align);this.createButtons(Wt);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass(x);if(t.hidden)this.hide();this.element.data({type:"buttonGroup",buttonGroup:this})}}),qt=(u.toolbar.ToolBarButtonGroup=jt,Ft.extend({init:function(t,e){var i=this.element=h("<li></li>");this.options=t;this.toolbar=e;this.overflow=true;this.addOverflowIdAttr();this.createButtons(Pt);this.attributes();this.addUidAttr();this.addOverflowAttr();this.refresh();i.addClass((t.mobile?Ht:x)+Ut+S);this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(R)}})),Qt=(u.toolbar.OverflowButtonGroup=qt,u.toolbar.registerComponent("buttonGroup",jt,qt),Wt.extend({init:function(t,e){var i,o,n;t=this.options=h.extend({},this.options,t);if(t.url!==s)i=h(u.template(Et)({href:t.url,text:t.text}));else i=h(u.template(Dt)({text:t.text}));this.element=i;this.toolbar=e;if(t.click&&a(t.click))this.clickHandler=t.click;if(t.togglable&&t.toggle&&a(t.toggle))this.toggleHandler=t.toggle;if(t.imageUrl){o=h('<img alt="icon" class="k-image" />').prependTo(i);o.attr("src",t.imageUrl)}else if(t.icon){n=h("<span></span>").prependTo(i);n.attr("class","k-icon k-i-"+t.icon)}else if(t.spriteCssClass){n=h('<span class="k-sprite"></span>').prependTo(i);n.addClass(t.spriteCssClass)}this.addIdAttr();this.addUidAttr();this.addOverflowAttr();this.attributes();this.enable(t.enable);if(t.group){i.attr(u.attr(Ct),t.group);this.group=this.toolbar.addToGroup(this,t.group)}if(t.hidden)this.hide();this.element.data({type:g,button:this})}})),Kt=(u.toolbar.ToolBarMenuButton=Qt,t.extend({init:function(t,e){var i=this;i.options=h.extend({id:t.id||t.uid,enable:true},t,{togglable:false});if(t.primary)i.options.themeColor=lt;if(t.showIcon===ut)i.options.icon=null;if(t.showText===ut)i.options.text="";i.toolbar=e;i.splitButton=new o.SplitButton(h("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),h.extend({},i.options,{items:i._extend(t.menuButtons)}),e.options);i.element=i.splitButton.wrapper;i.splitButton.bind($,e._buttonClick.bind(e));i.splitButton.bind(it,i._close.bind(i));i.splitButton.bind(et,i._open.bind(i));i.splitButton.element.data({type:ft,button:i,splitButton:i});i.splitButton.wrapper.data({type:ft,button:i,splitButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(t){var e=this;var i=e.toolbar.trigger(et,{target:e.element});if(i)t.preventDefault()},_close:function(t){var e=this;var i=e.toolbar.trigger(it,{target:e.element});if(i)t.preventDefault();e.splitButton.element.trigger(b)},_extend:function(t){var i=this;return t.map(function(t){var e=new Rt(t,i.toolbar);return h.extend({},t,{togglable:false,data:function(){return{type:g,button:e,splitButton:i}}})})},addMenuAttributes:function(){var t=this,e=t.splitButton.items(),i;e.each(function(t,e){e=h(e);i=e.data(g);i.element=e;i.options=h.extend({type:g,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var t=this.splitButton.wrapper;this.splitButton.destroy();t.remove()},enable:function(t,e){this.splitButton.enable(t,e,true);if(this.twin())this.twin().enable(t)},attributes:function(){var t=this,e=t.splitButton.element,i=this.options.attributes,o;if(i){if(i.class){o=i.class;e.addClass(o);delete i.class}e.attr(i);i.class=o}}})),Vt=(u.toolbar.ToolBarSplitButton=Kt,t.extend({init:function(t,e){var i=this.element=h('<li class="'+y+'"></li>'),o=t.menuButtons,n,s;this.options=h.extend({},t,{togglable:false});this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+It;this.mainButton=new Pt(h.extend({isChild:true},t,{togglable:false}));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new Pt(h.extend({mobile:t.mobile,type:g,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:ft,splitButton:this})},enable:function(t){var e=this.element.add(this.element.find(w+p));if(t===s)t=true;e.toggleClass(D,!t);e.attr(X,!t);this.options.enable=t},overflowHidden:function(){this.element.addClass(R)}})),Lt=(u.toolbar.OverflowSplitButton=Vt,u.toolbar.registerComponent(ft,Kt,Vt),t.extend({init:function(t,e){var i=this;i.options=h.extend({id:t.id||t.uid,enable:true},t,{togglable:false});if(t.primary)i.options.themeColor=lt;if(t.showIcon===ut)i.options.icon=null;if(t.showText===ut)i.options.text="";i.toolbar=e;i.dropDownButton=new o.DropDownButton(h("<button id='"+i.options.id+"'>"+i.options.text+"</button>"),h.extend({},i.options,{items:i._extend(t.menuButtons)}),e.options);i.element=i.dropDownButton.element;i.dropDownButton.bind($,e._buttonClick.bind(e));i.dropDownButton.bind(it,i._close.bind(i));i.dropDownButton.bind(et,i._open.bind(i));i.dropDownButton.element.data({type:pt,button:i,dropDownButton:i});i.addOverflowAttr();i.addUidAttr();i.attributes();i.addMenuAttributes();if(i.options.enable===false)i.enable(this.options.enable);if(i.options.hidden)i.hide()},_open:function(t){var e=this;var i=e.toolbar.trigger(et,{target:e.element});if(i)t.preventDefault()},_close:function(t){var e=this;var i=e.toolbar.trigger(it,{target:e.element});if(i)t.preventDefault();e.dropDownButton.element.trigger(b)},_extend:function(t){var i=this;return t.map(function(t){var e=new Rt(t,i.toolbar);return h.extend({},t,{data:function(){return{type:g,button:e,dropDownButton:i}}})})},addMenuAttributes:function(){var t=this,e=t.dropDownButton.items(),i;e.each(function(t,e){e=h(e);i=e.data(g);i.element=e;i.options=h.extend({type:g,enable:true},i.options);i.addOverflowAttr();i.addUidAttr()})},remove:function(){var t=this.dropDownButton.element;this.dropDownButton.destroy();t.remove()},enable:function(t,e){this.dropDownButton.enable(t,e,true);if(this.twin())this.twin().enable(t)},attributes:function(){var t=this,e=t.element,i=this.options.attributes,o;if(i){if(i.class){o=i.class;e.addClass(o);delete i.class}e.attr(i);i.class=o}}})),Jt=(u.toolbar.ToolBarSplitButton=Kt,t.extend({init:function(t,e){var i=this.element=h("<span></span>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();if(t.icon&&(!t.showIcon||t.showIcon!=="toolbar"))i.append('<span class="k-icon k-i-'+t.icon+'"></span>');if(t.showText!=="toolbar")i.append("<span>"+this.options.text+"</span>");i.data({type:zt,textItem:this})},overflowHidden:function(){this.element.addClass(R)}})),Xt=t.extend({init:function(t,e){var i=this.element=h('<li class="'+y+" "+B+'"></li>'),o=t.menuButtons,n,s;this.options=h.extend({},t,{togglable:false});this.toolbar=e;this.overflow=true;s=(t.id||t.uid)+It;this.mainButton=new Jt(h.extend({isChild:true},t,{togglable:false}));this.mainButton.element.appendTo(i);for(var r=0;r<o.length;r++){n=new Pt(h.extend({mobile:t.mobile,type:g,splitContainerId:s,isChild:true},o[r],{click:t.click}),this.toolbar);n.element.appendTo(i)}this.addUidAttr();this.addOverflowAttr();this.mainButton.main=true;if(this.options.enable===false)this.enable(this.options.enable);i.data({type:pt,dropDownButton:this})},enable:function(t){var e=this.element.add(this.element.find(w+p));if(t===s)t=true;e.toggleClass(D,!t);e.attr(X,!t);this.options.enable=t},overflowHidden:function(){this.element.addClass(R)}}),Yt=(u.toolbar.OverflowSplitButton=Xt,u.toolbar.registerComponent(pt,Lt,Xt),t.extend({init:function(t,e){var i=this.element=h("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;this.attributes();this.addIdAttr();this.addUidAttr();this.addOverflowAttr();i.addClass(_);i.attr(dt,ht);i.data({type:ht,separator:this})}})),Zt=t.extend({init:function(t,e){var i=this.element=h("<li>&nbsp;</li>");this.element=i;this.options=t;this.toolbar=e;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();i.addClass(_);i.attr(dt,ht);i.data({type:ht,separator:this})},overflowHidden:function(){this.element.addClass(R)}}),$t=(u.toolbar.registerComponent("separator",Yt,Zt),t.extend({init:function(t,e){var i=this.element=h("<div>&nbsp;</div>");this.element=i;this.options=t;this.toolbar=e;i.addClass(A);i.data({type:st});this.addOverflowAttr()}})),te=(u.toolbar.registerComponent(st,$t),t.extend({init:function(t,e,i){var o=a(t)?t(e):t;if(!(o instanceof jQuery))o=h("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").html(o);else o=o.wrap("<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>").parent();this.element=o;this.options=e;this.options.type=e.type||gt;this.toolbar=i;this.attributes();this.addUidAttr();this.addIdAttr();this.addOverflowAttr();if(e.hidden)this.hide();o.data({type:gt,template:this})}})),ee=(u.toolbar.TemplateItem=te,t.extend({init:function(t,e,i){var o=a(t)?h(t(e)):h(t);if(!(o instanceof jQuery))o=h("<li></li>").html(o);else o=o.wrap("<li></li>").parent();this.element=o;this.options=e;this.options.type=gt;this.toolbar=i;this.overflow=true;this.attributes();this.addUidAttr();this.addOverflowIdAttr();this.addOverflowAttr();o.data({type:gt,template:this})},overflowHidden:function(){this.element.addClass(R)}}));function ie(t){if(!t.target.is(".k-toggle-button"))t.target.toggleClass(O,t.type=="press")}function oe(t){t=h(t);return t.hasClass("km-actionsheet")?t.closest(".km-popup-wrapper"):t.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function ne(t){if(h(t.target).closest("a.k-button").length)t.preventDefault()}function se(t,e){var i=e===ct?h.fn.next:h.fn.prev;var o=e===ct?h.fn.first:h.fn.last;var n=i.call(t);if(!n.length&&t.is(w+N))return t;if(n.is(v)||!n.length)return n;if(n.find(v).length)return o.call(n.find(v));return se(n,e)}u.toolbar.OverflowTemplateItem=ee;var re=i.extend({init:function(t){this.name=t;this.buttons=[]},add:function(t){this.buttons[this.buttons.length]=t},remove:function(t){var e=h.inArray(t,this.buttons);this.buttons.splice(e,1)},select:function(t){var e;for(var i=0;i<this.buttons.length;i++){e=this.buttons[i];e.select(false)}t.select(true);if(t.twin())t.twin().select(true)}}),le=n.extend({init:function(t,e){var i=this;n.fn.init.call(i,t,e);e=i.options;t=i.wrapper=i.element;t.addClass(d+" k-widget");t.attr(dt,"toolbar");this.uid=u.guid();this._isRtl=u.support.isRtl(t);this._groups={};t.attr(Tt,this.uid);i.isMobile=typeof e.mobile==="boolean"?e.mobile:i.element.closest(".km-root")[0];i.animation=i.isMobile?{open:{effects:"fade"}}:{};if(i.isMobile){t.addClass("km-widget");f="km-button";x="km-buttongroup";O="km-state-active";D="km-state-disabled"}if(e.resizable){i._renderOverflow();t.addClass(T);i.overflowUserEvents=new u.UserEvents(i.element,{threshold:5,allowSelection:true,filter:w+N,tap:i._toggleOverflow.bind(i)});i._resizeHandler=u.onResize(function(){i.resize()})}else i.popup={element:h([])};if(e.items&&e.items.length){for(var o=0;o<e.items.length;o++)i.add(e.items[o]);if(e.resizable)i._shrink(i.element.innerWidth())}i.userEvents=new u.UserEvents(document.documentElement,{threshold:5,allowSelection:true,filter:"["+Tt+"="+i.uid+"] a."+f+k+Ut+"["+Tt+"="+i.uid+"] ."+N+k+Ut+"["+Tt+"="+i.uid+"] ."+q+k+Ut+"["+Tt+"="+i.uid+"] ."+Q+k+Ut+"["+Tt+"="+i.uid+"] ."+B,tap:i._buttonClick.bind(i),press:ie,release:ie});i.element.on($+l,"a.k-button",ne).on(ot+l,i._keydown.bind(i)).on("focusin"+l,i._focusIn.bind(i)).on("focusout"+l,i._focusOut.bind(i));if(i.options.resizable)i.popup.element.on($+l,+"a.k-button",ne);if(e.resizable){i.overflowAnchor.appendTo(i.wrapper);this._toggleOverflowAnchor()}i._tabIndex();u.notify(i)},events:[$,tt,et,it,xt,yt],options:{name:"ToolBar",items:[],resizable:true,mobile:null,navigateOnTab:false},addToGroup:function(t,e){var i;if(!this._groups[e])i=this._groups[e]=new re;else i=this._groups[e];i.add(t);return i},destroy:function(){var t=this;t.destroySplitButtons();t.destroyDropDownButtons();t.element.off(l,"a.k-button");t.userEvents.destroy();if(t.options.resizable){u.unbindResize(t._resizeHandler);t.overflowUserEvents.destroy();t.popup.element.off(l,"a.k-button");t.popup.destroy()}n.fn.destroy.call(t)},destroySplitButtons:function(){var i=this,t=i.element.find(w+y),o;t.each(function(t,e){o=i._getItem(e);if(o&&o.type===ft)o=o.toolbar;if(o&&o.splitButton&&o.splitButton.destroy){o.splitButton.destroy();h(e).remove()}})},destroyDropDownButtons:function(){var i=this,t=i.element.find(w+B),o;t.each(function(t,e){o=i._getItem(e);if(o&&o.type===pt)o=o.toolbar;if(o&&o.dropDownButton&&o.dropDownButton.destroy){o.dropDownButton.destroy();h(e).remove()}})},add:function(t){var e=St[t.type],i=t.template,o,n=this,s=n.isMobile?Ht:"k-item",r=t.overflowTemplate,l,a;h.extend(t,{uid:u.guid(),animation:n.animation,mobile:n.isMobile,rootUid:n.uid});if(t.menuButtons)for(var d=0;d<t.menuButtons.length;d++)h.extend(t.menuButtons[d],{uid:u.guid()});if(i&&!r||t.type===st)t.overflow=Bt;else if(!t.overflow)t.overflow=_t;if(t.overflow!==Bt&&n.options.resizable){if(r)l=new ee(r,t,n);else if(e){l=new e.overflow(t,n);l.element.addClass(s)}if(l){if(t.overflow===_t)l.overflowHidden();l.element.appendTo(n.popup.container);n.angular("compile",function(){return{elements:l.element.get()}})}}if(t.overflow!==At){if(i){o=new te(i,t,n);a=o.element.find(mt+k+vt);if(!this.options.navigateOnTab&&a.length>0){o.element.attr(m,0);a.attr(m,-1)}}else if(e)o=new e.toolbar(t,n);if(o){o.element.appendTo(n.element);n.angular("compile",function(){return{elements:o.element.get()}})}}},_getItem:function(t){var e,i,o,n=this.options.resizable,s;e=this.element.find(t);if(!e.length)e=h('[data-role="buttonmenu"]').find(t);s=e.length?e.data("type"):Ht;i=e.data(s);if(i&&n)o=i.twin();else if(n){e=this.popup.element.find(t);s=e.length?e.data("type"):Ht;o=e.data(s);if(s===zt){e=e.parent(w+B);s="dropDownButton";o=e.data(s)}if(o&&o.main&&s!==zt){e=e.parent(w+y);s="splitButton";o=e.data(s)}}return{type:s,toolbar:i,overflow:o}},remove:function(t){var e=this._getItem(t);if(e.toolbar)e.toolbar.remove();if(e.overflow)e.overflow.remove();this.resize(true)},hide:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===g&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.hide();if(i)i.refresh()}else if(!e.toolbar.options.hidden)e.toolbar.hide();if(e.overflow)if(e.overflow.options.type===g&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.overflow.hide();if(i)i.refresh()}else if(!e.overflow.options.hidden)e.overflow.hide();this.resize(true)},show:function(t){var e=this._getItem(t);var i;if(e.toolbar)if(e.toolbar.options.type===g&&e.toolbar.options.isChild){i=e.toolbar.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.toolbar.options.hidden)e.toolbar.show();if(e.overflow)if(e.overflow.options.type===g&&e.overflow.options.isChild){i=e.overflow.getParentGroup();e.toolbar.show();if(i)i.refresh()}else if(e.overflow.options.hidden)e.overflow.show();this.resize(true)},enable:function(t,e){var i=this._getItem(t);if(typeof e=="undefined")e=true;if(i.toolbar)i.toolbar.enable(e,i.element);if(i.overflow)i.overflow.enable(e)},getSelectedFromGroup:function(t){return this.element.find(w+C+"[data-group='"+t+"']").filter(w+O)},toggle:function(t,e){var i=h(t),o=i.data(g);if(o.options.togglable){if(e===s)e=true;o.toggle(e,true)}},_renderOverflow:function(){var s=this,t=St.overflowContainer,i=s._isRtl,e=i?"left":"right";s.overflowAnchor=h(St.overflowAnchor).addClass(f);s.element.append(s.overflowAnchor);if(s.isMobile){s.overflowAnchor.append('<span class="km-icon km-more"></span>');t=oe(t)}else s.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>');s.popup=new u.ui.Popup(t,{origin:"bottom "+e,position:"top "+e,anchor:s.overflowAnchor,isRtl:i,animation:s.animation,appendTo:s.isMobile?h(s.isMobile).children(".km-pane"):null,copyAnchorStyles:false,open:function(t){var e=u.wrap(s.popup.element).addClass(P);if(!s.isMobile)e.css("margin-left",(i?-1:1)*((r(e)-e.width())/2+1));else s.popup.container.css("max-height",parseFloat(h(".km-content:visible").innerHeight())-15+"px");if(s.trigger(xt))t.preventDefault()},activate:function(){this.element.find(v).first().trigger(b)},close:function(t){if(s.trigger(yt))t.preventDefault();this.element.trigger(b)}});s.popup.element.on(ot+l,w+f,function(t){var e=h(t.target),i=e.parent(),o=i.is(w+x)||i.is(w+y),n;t.preventDefault();if(t.keyCode===c.ESC||t.keyCode===c.TAB||t.altKey&&t.keyCode===c.UP){s._toggleOverflow();s.overflowAnchor.trigger(b)}else if(t.keyCode===c.DOWN){n=!o||o&&e.is(":last-child")||o&&!e.next().is(v)?i:e;se(n,ct).trigger(b)}else if(t.keyCode===c.UP){n=!o||o&&e.is(":first-child")||o&&!e.prev().is(v)?i:e;se(n,bt).trigger(b)}else if((t.keyCode===c.SPACEBAR||t.keyCode===c.ENTER)&&!h(t.target).is(w+D)){s.userEvents.trigger(nt,{target:h(t.target)});s.overflowAnchor.trigger(b)}else if(t.keyCode===c.HOME)i.parent().find(v).first().trigger(b);else if(t.keyCode===c.END)i.parent().find(v).last().trigger(b)});if(s.isMobile)s.popup.container=s.popup.element.find(w+W);else s.popup.container=s.popup.element;s.popup.container.attr(Tt,this.uid)},_toggleOverflowAnchor:function(){var t=false;var e=this._isRtl?"padding-left":"padding-right";if(this.options.mobile)t=this.popup.element.find(w+W).children(":not(."+R+", ."+I+")").length>0;else t=this.popup.element.children(":not(."+R+", ."+I+")").length>0;if(t){this.overflowAnchor.css({visibility:"visible",width:Ht});this.wrapper.css(e,this.overflowAnchor.outerWidth(true))}else{this.overflowAnchor.css({visibility:kt,width:"1px"});this.wrapper.css(e,Ht)}},_buttonClick:function(t){var e=this,i=h(t.target),o,n,s,r,l;t.preventDefault();if(i.hasClass(B)||i.hasClass(N)){e._resetTabIndex(i);return}else if(i.hasClass(q)){e._resetTabIndex(i.prev());return}else if(i.hasClass(Q)){l=i.find(mt+k+vt+k+w+K);if(l.length>0)e._resetTabIndex(l.first());return}if(!i.data(ft))i=h(t.target).closest(w+f+k+w+G,e.element);o=i.data(g);if(o&&!i.hasClass(M))e._resetTabIndex(i);if(!o&&e.popup){i=h(t.target).closest(w+p,e.popup.container);o=i.parent("li").data(g)}if(!o||!o.options.enable)return;if(o.options.togglable){n=a(o.toggleHandler)?o.toggleHandler:null;o.toggle(!o.options.selected,true);s={target:i,group:o.options.group,checked:o.options.selected,id:o.options.id,item:o};if(n)n.call(e,s);e.trigger(tt,s)}else{n=a(o.clickHandler)?o.clickHandler:null;s={sender:e,target:i,id:o.options.id,item:o};if(n)n.call(e,s);e.trigger($,s)}if(o.options.url){if(o.options.attributes&&o.options.attributes.target)r=o.options.attributes.target;window.open(o.options.url,r||"_self")}if(i.hasClass(p))e.popup.close()},_focusOut:function(t){this.wrapper.find(w+f+w+J).removeClass(J)},_focusIn:function(t){var e=h(t.target);if(e.closest(w+f).length>0)e.closest(w+f).addClass(J)},_keydown:function(t){var e=h(t.target),i=t.keyCode,o=this._getItems(),n=this._isRtl?-1:1,s=e.closest(w+Q),r,l,a,f,d;if(t.altKey&&i===c.DOWN){var p=h(document.activeElement).is(w+N);if(p)this._toggleOverflow();return}if(!this.options.navigateOnTab&&i===c.ENTER&&e.hasClass(Q)){a=e.find(v+":not('"+w+L+"')"+k+w+K);if(a.length>0){e.attr(m,-1);a.attr(m,0);a.first().trigger(b)}return}else if(!this.options.navigateOnTab&&i===c.ESC&&s.length>0){f=s.find("[data-role]");a=s.find(v+":not('"+w+L+"')"+k+w+K);if(f.length>0){d=u.widgetInstance(f);if(d)if(d.popup&&d.popup.visible())return;else{s.attr(m,0);s.trigger(b);s.find(v).attr(m,-1)}}if(a.length>0){s.attr(m,0);s.trigger(b);a.attr(m,-1)}return}else if((i===c.SPACEBAR||i===c.ENTER)&&!e.is(mt+k+wt+k+g)){if(i===c.SPACEBAR){t.preventDefault();this.userEvents.trigger(nt,{target:e})}return}if(i===c.HOME){if(e.is(w+K)||e.is(mt))return;this._resetTabIndex(o.first());o.first().trigger(b);t.preventDefault()}else if(i===c.END){if(e.is(w+K)||e.is(mt))return;r=o.last();if(r.width()===0)r=o.eq(o.length-2);this._resetTabIndex(r);r.trigger(b);t.preventDefault()}else if(!this.options.navigateOnTab&&i===c.RIGHT&&!e.is(mt+":not([type=file])"+k+vt+k+w+K+k+w+V)&&this._getNextElement(t.target,1*n)){l=h(this._getNextElement(t.target,1*n));this._resetTabIndex(l);l.trigger(b);t.preventDefault()}else if(!this.options.navigateOnTab&&i===c.LEFT&&!e.is(mt+":not([type=file])"+k+vt+k+Ut+w+K+k+w+V)&&this._getNextElement(t.target,-1*n)){l=h(this._getNextElement(t.target,-1*n));this._resetTabIndex(l);l.trigger(b);t.preventDefault()}},_getNextElement:function(t,e){var i=this._getItems(),o=i.index(t)===-1?i.index(t.parentElement):i.index(t),n=i[o+e];if(!n)if(e===-1)n=i.last();else n=i.first();return n},_getItems:function(){return this.wrapper.find(v+k+w+Q+k+w+N+k+w+"k-switch").filter(function(){var t=h(this);if(t.hasClass("k-hidden"))return false;else if(t.hasClass(N)&&t.css("visibility")===kt)return false;else if(t.hasClass(Q)&&t.find(w+"k-picker"+k+w+"k-input").length===0)return false;else if(!t.hasClass(Q)&&t.closest(w+Q).length>0)return false;else if(t.hasClass(L)||t.hasClass(q))return false;return true})},_toggle:function(t){var e=h(t.target).closest(w+y).data("splitButton");t.preventDefault();if(!e.options.enable)return;e.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(t){var e=t.width;if(!this.options.resizable)return;this.popup.close();this._shrink(e);this._stretch(e);this._markVisibles();this._toggleOverflowAnchor()},_childrenWidth:function(){var t=0;var e=parseInt(this.element.css("gap"),10)||0;this.element.children(":visible:not("+w+A+")").each(function(){t+=r(h(this),true)+e});return Math.ceil(t)},_shrink:function(t){var e,i,o;if(t<this._childrenWidth()){i=this.element.children(":visible:not([data-overflow='never'], ."+N+")");for(var n=i.length-1;n>=0;n--){e=i.eq(n);if(t>this._childrenWidth())break;else{o=e.find("[tabindex=0]");if(o.length>0){o.attr(m,-1);this.element.children(w+N).attr(m,0)}this._hideItem(e)}}}},_stretch:function(t){var e,i;if(t>this._childrenWidth()){i=this.element.children(w+E+":not("+w+U+")");for(var o=0;o<i.length;o++){e=i.eq(o);if(t<this._childrenWidth()||!this._showItem(e,t))break}}},_hideItem:function(t){t.addClass(E);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data(Mt)+"']").removeClass(R)},_showItem:function(t,e){var i=parseInt(this.element.css("gap"),10)||0;t.removeClass(E);var o=r(t,true)+i;t.addClass(E);if(t.length&&e>this._childrenWidth()+o){t.removeClass(E);if(this.options.navigateOnTab!==true)t.find(v).attr(m,-1);if(this.popup)this.popup.container.find(">li[data-uid='"+t.data(Mt)+"']").addClass(R);return true}return false},_markVisibles:function(){var t=this.popup.container.children(),e=this.element.children(":not("+w+N+")"),i=t.filter(":not("+w+R+")"),o=e.filter(":visible");t.add(e).removeClass(F+Ut+j);i.first().add(o.first()).addClass(F);i.last().add(o.last()).addClass(j)},_resetTabIndex:function(t){if(this.options.navigateOnTab!==true){this.wrapper.find(v).attr(m,-1);t.attr(m,0)}},_tabIndex:function(){var t=this.wrapper.find(v+":not('[tabindex=-1]')"),e=t.first();if(this.options.navigateOnTab!==true){t.attr(m,-1);e.attr(m,0)}}});return u.ui.plugin(le),window.kendo})}("function"==typeof define&&define.amd?define:function(t,e,i){(i||e)()});
//# sourceMappingURL=kendo.toolbar.min.js.map
