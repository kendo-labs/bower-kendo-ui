{"version":3,"file":"kendo.mobile.tabstrip.min.js","sources":["kendo.mobile.tabstrip.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.mobile.tabstrip',[ \"kendo.core\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.tabstrip\",\n    name: \"TabStrip\",\n    category: \"mobile\",\n    description: \"The mobile TabStrip widget is used inside a mobile view or layout footer element to display an application-wide group of navigation buttons.\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        ui = kendo.mobile.ui,\n        Widget = ui.Widget,\n        ACTIVE_STATE_CLASS = \"km-state-active\",\n        SELECT = \"select\";\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var TabStrip = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            that.container().bind(\"show\", this.refresh.bind(this));\n\n            that.element\n               .addClass(\"km-tabstrip\")\n               .find(\"a\").each(that._buildButton)\n               .eq(that.options.selectedIndex).addClass(ACTIVE_STATE_CLASS);\n\n            that.element.on(\"down\", \"a\", \"_release\");\n        },\n\n        events: [\n            SELECT\n        ],\n\n        switchTo: function(url) {\n            var tabs = this.element.find('a'),\n                tab,\n                path,\n                idx = 0,\n                length = tabs.length;\n\n            if (isNaN(url)) {\n                for (; idx < length; idx ++) {\n                    tab = tabs[idx];\n                    path = tab.href.replace(/(\\#.+)(\\?.+)$/, \"$1\"); // remove the fragment query string - http://www.foo.com?foo#bar**?baz=qux**\n\n                    if (path.indexOf(url, path.length - url.length) !== -1) {\n                        this._setActiveItem($(tab));\n                        return true;\n                    }\n                }\n            } else {\n                this._setActiveItem(tabs.eq(url));\n                return true;\n            }\n\n            return false;\n        },\n\n        switchByFullUrl: function(url) {\n            var tab;\n\n            tab = this.element.find(\"a[href$='\" + url + \"']\");\n            this._setActiveItem(tab);\n        },\n\n        clear: function() {\n            this.currentItem().removeClass(ACTIVE_STATE_CLASS);\n        },\n\n        currentItem: function() {\n            return this.element.children(\".\" + ACTIVE_STATE_CLASS);\n        },\n\n        badge: function(item, value) {\n            var tabstrip = this.element, badge;\n\n            if (!isNaN(item)) {\n                item = tabstrip.children().get(item);\n            }\n\n            item = tabstrip.find(item);\n            badge = $(item.find(\".km-badge\")[0] || createBadge(value).insertAfter(item.children(\".km-icon\")));\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        _release: function(e) {\n            if (e.which > 1) {\n                return;\n            }\n\n            var that = this,\n                item = $(e.currentTarget);\n\n            if (item[0] === that.currentItem()[0]) {\n                return;\n            }\n\n            if (that.trigger(SELECT, { item: item })) {\n                e.preventDefault();\n            } else {\n                that._setActiveItem(item);\n            }\n        },\n\n        _setActiveItem: function(item) {\n            if (!item[0]) {\n                return;\n            }\n            this.clear();\n            item.addClass(ACTIVE_STATE_CLASS);\n        },\n\n        _buildButton: function() {\n            var button = $(this),\n                icon = kendo.attrValue(button, \"icon\"),\n                badge = kendo.attrValue(button, \"badge\"),\n                image = button.find(\"img\"),\n                iconSpan = $('<span class=\"km-icon\"/>');\n\n            button\n                .addClass(\"km-button\")\n                .attr(kendo.attr(\"role\"), \"tab\")\n                    .contents().not(image)\n                    .wrapAll('<span class=\"km-text\"/>');\n\n            if (image[0]) {\n                image.addClass(\"km-image\").prependTo(button);\n            } else {\n                button.prepend(iconSpan);\n                if (icon) {\n                    iconSpan.addClass(\"km-\" + icon);\n                    if (badge || badge === 0) {\n                        createBadge(badge).insertAfter(iconSpan);\n                    }\n                }\n            }\n        },\n\n        refresh: function(e) {\n            var url = e.view.id;\n\n            if (url && !this.switchTo(e.view.id)) {\n                this.switchTo(url);\n            }\n        },\n\n        options: {\n            name: \"TabStrip\",\n            selectedIndex: 0,\n            enable: true\n        }\n    });\n\n    ui.plugin(TabStrip);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","ui","mobile","Widget","ACTIVE_STATE_CLASS","SELECT","createBadge","value","TabStrip","extend","init","element","options","that","this","fn","call","container","bind","refresh","addClass","find","each","_buildButton","eq","selectedIndex","on","events","switchTo","url","tabs","tab","path","idx","length","isNaN","href","replace","indexOf","_setActiveItem","switchByFullUrl","clear","currentItem","removeClass","children","badge","item","tabstrip","get","insertAfter","html","empty","remove","_release","e","which","currentTarget","trigger","preventDefault","button","icon","attrValue","image","iconSpan","attr","contents","not","wrapAll","prependTo","prepend","view","enable","plugin","amd","a1","a2","a3"],"mappings":"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"}