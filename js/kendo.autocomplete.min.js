/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.autocomplete.min",["kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min"],function(){var e={id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},o=window.kendo.jQuery,f=void 0,r=window.kendo,i,p=r.caret,_=r._activeElement,u=r.support.placeholder,s=r.ui,h=s.List,v=r.keys,a=r.data.DataSource,c="aria-disabled",d="aria-readonly",l="change",g="disabled",m="readonly",y="k-focus",w="k-selected",t="k-hidden",C="k-disabled",b="off",k="k-hover",n=".kendoAutoComplete",V="mouseenter"+n+" mouseleave"+n;function x(e,t,i){return i?t.substring(0,e).split(i).length-1:0}function S(e,t,i){return t.split(i)[x(e,t,i)]}function T(e,t,i,s,a){var o=t.split(s);o.splice(x(e,t,s),1,i);if(s&&o[o.length-1]!=="")o.push("");return o.join(a)}var L=h.extend({init:function(e,t){var i=this,s,a;i.ns=n;t=Array.isArray(t)?{dataSource:t}:t;h.fn.init.call(i,e,t);e=i.element;t=i.options;t.placeholder=t.placeholder||e.attr("placeholder");if(u)e.attr("placeholder",t.placeholder);i._wrapper();i._loader();i._clearButton();i._dataSource();i._ignoreCase();e[0].type="text";s=i.wrapper;i._popup();e.addClass("k-input-inner").on("keydown"+n,i._keydown.bind(i)).on("keypress"+n,i._keypress.bind(i)).on("input"+n,i._search.bind(i)).on("paste"+n,i._search.bind(i)).on("focus"+n,function(){i._prev=i._accessor();i._oldText=i._prev;i._placeholder(false);s.addClass(y)}).on("focusout"+n,function(){i._change();i._placeholder();i.close();s.removeClass(y)}).attr({autocomplete:b,role:"combobox","aria-expanded":false});i._clear.on("click"+n+" touchend"+n,i._clearValue.bind(i));i._enable();i._old=i._accessor();i._aria();i._placeholder();i._initList();a=o(i.element).parents("fieldset").is(":disabled");if(a)i.enable(false);i.listView.bind("click",function(e){e.preventDefault()});i._resetFocusItemHandler=i._resetFocusItem.bind(i);r.notify(i);i._toggleCloseVisibility();i._applyCssClasses()},options:{name:"AutoComplete",enabled:true,suggest:false,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:false,delay:200,height:200,filter:"startswith",ignoreCase:true,highlightFirst:false,separator:null,placeholder:"",animation:{},virtual:false,value:null,clearButton:true,autoWidth:false,popup:null,size:"medium",fillMode:"solid",rounded:"medium"},_dataSource:function(){var e=this;if(e.dataSource&&e._refreshHandler)e._unbindDataSource();else{e._progressHandler=e._showBusy.bind(e);e._errorHandler=e._hideBusy.bind(e)}e.dataSource=a.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e;this._dataSource();this.listView.setDataSource(this.dataSource)},events:["open","close",l,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);h.fn.setOptions.call(this,e);this.listView.setOptions(t);this._accessors();this._aria();this._clearButton()},_listOptions:function(e){var t=h.fn._listOptions.call(this,o.extend(e,{skipUpdateOnBind:true}));t.dataValueField=t.dataTextField;t.selectedItemChange=null;return t},_editable:function(e){var t=this,i=t.element,s=t.wrapper.off(n),a=e.readonly,o=e.disable;if(!a&&!o){s.removeClass(C).on(V,t._toggleHover);i.prop(g,false).prop(m,false).attr(c,false).attr(d,false)}else{s.addClass(o?C:"").removeClass(o?"":C);i.attr(g,o).attr(m,a).attr(c,o).attr(d,a)}},close:function(){var e=this;var t=e.listView.focus();if(t)t.removeClass(w);e.popup.close();e._deactivateItem()},destroy:function(){var e=this;e.element.off(n);e._clear.off(n);e.wrapper.off(n);h.fn.destroy.call(e)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){var t=this,i=t.options,s=i.ignoreCase,a=t._separator(),o,r=t.dataSource.options.accentFoldingFiltering;e=e||t._accessor();clearTimeout(t._typingTimeout);if(a)e=S(p(t.element)[0],e,a);o=e.length;if(!i.enforceMinLength&&!o||o>=i.minLength){t._open=true;t._mute(function(){this.listView.value([])});t._filterSource({value:s?r?e.toLocaleLowerCase(r):e.toLowerCase():e,operator:i.filter,field:i.dataTextField,ignoreCase:s});t.one("close",t._unifySeparators.bind(t))}t._toggleCloseVisibility()},suggest:function(e){var t=this,i=t._last,s=t._accessor(),a=t.element[0],o=p(a)[0],r=t._separator(),l=s.split(r),c=x(o,s,r),d=o,n,u=t.dataSource.options.accentFoldingFiltering;if(i==v.BACKSPACE||i==v.DELETE){t._last=f;return}e=e||"";if(typeof e!=="string"){if(e[0])e=t.dataSource.view()[h.inArray(e[0],t.ul[0])];e=e?t._text(e):""}if(o<=0)o=(u?s.toLocaleLowerCase(u):s.toLowerCase()).indexOf(u?e.toLocaleLowerCase(u):e.toLowerCase())+1;n=s.substring(0,o).lastIndexOf(r);n=n>-1?o-(n+r.length):o;s=l[c].substring(0,n);if(e){e=e.toString();n=(u?e.toLocaleLowerCase(u):e.toLowerCase()).indexOf(u?s.toLocaleLowerCase(u):s.toLowerCase());if(n>-1){e=e.substring(n+s.length);d=o+e.length;s+=e}if(r&&l[l.length-1]!=="")l.push("")}l[c]=s;t._accessor(l.join(r||""));if(a===_())p(a,o,d)},value:function(e){if(e!==f){this.listView.value(e);this._accessor(e);this._old=this._accessor();this._oldText=this._accessor()}else return this._accessor();this._toggleCloseVisibility()},_click:function(e){var t=e.item;var i=this;var s=i.element;var a=i.listView.dataItemByIndex(i.listView.getElementIndex(t));e.preventDefault();i._active=true;if(i.trigger("select",{dataItem:a,item:t})){i.close();return}i._oldText=s.val();i._select(t).done(function(){i._blur();p(s,s.val().length)})},_clearText:o.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;if(this.options.virtual)this.listView.scrollTo(0);this.listView.focus(e)},_listBound:function(){var e=this;var t=e.popup;var i=e.options;var s=e.dataSource.flatView();var a=s.length;var o=e.dataSource._group?e.dataSource._group.length:0;var r=e.element[0]===_();var l;e._renderFooter();e._renderNoData();e._toggleNoData(!a);e._toggleHeader(!!o&&!!a);e._resizePopup();t.position();if(a)if(i.suggest&&r&&e._inputValue())e.suggest(s[0]);if(e._open){e._open=false;l=e._allowOpening()?"open":"close";if(e._typingTimeout&&!r)l="close";if(a){e._resetFocusItem();if(i.virtual)e.popup.unbind("activate",e._resetFocusItemHandler).one("activate",e._resetFocusItemHandler)}t[l]();e._typingTimeout=f}if(e._touchScroller)e._touchScroller.reset();e._hideBusy();e.trigger("dataBound")},_mute:function(e){this._muted=true;e.call(this);this._muted=false},_listChange:function(){var e=this._active||this.element[0]===_();if(e&&!this._muted)this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this._separator();var i="";if(e)i=this._text(e);if(i===null)i="";if(t)i=T(p(this.element)[0],this._accessor(),i,t,this._defaultSeparator());this._prev=i;this._accessor(i);this._placeholder()},_unifySeparators:function(){this._accessor(this.value().split(this._separator()).join(this._defaultSeparator()));return this},_preselect:function(e,t){this._inputValue(t);this._accessor(e);this._old=this.oldText=this._accessor();this.listView.setValue(e);this._placeholder()},_change:function(){var e=this;var t=e._unifySeparators().value();var i=t!==h.unifyType(e._old,typeof t);var s=i&&!e._typing;var a=e._oldText!==t;e._old=t;e._oldText=t;if(s||a)e.element.trigger(l);if(i)e.trigger(l);e.typing=false;e._toggleCloseVisibility()},_accessor:function(e){var t=this,i=t.element[0];if(e!==f){i.value=e===null?"":e;t._placeholder()}else{e=i.value;if(i.className.indexOf("k-readonly")>-1)if(e===t.options.placeholder)return"";else return e;return e}},_keydown:function(e){var t=this;var i=e.keyCode;var s=t.listView;var a=t.popup.visible();var o=s.focus();t._last=i;if(i===v.DOWN){if(a)this._move(o?"focusNext":"focusFirst");else if(t.value())t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done(function(){if(t._allowOpening()){t._resetFocusItem();t.popup.open()}});e.preventDefault()}else if(i===v.ESC)if(a){e.preventDefault();t.close()}else t._clearValue();else if(e.altKey&&i===v.UP&&a){e.preventDefault();t.close()}else if(i===v.UP){if(a)this._move(o?"focusPrev":"focusLast");e.preventDefault()}else if(i===v.HOME)this._move("focusFirst");else if(i===v.END)this._move("focusLast");else if(i===v.ENTER||i===v.TAB){if(i===v.ENTER&&a)e.preventDefault();if(a&&o){var r=s.dataItemByIndex(s.getElementIndex(o));if(t.trigger("select",{dataItem:r,item:o}))return;this._select(o)}this._blur()}else if(t.popup.visible()&&(i===v.PAGEDOWN||i===v.PAGEUP)){e.preventDefault();var l=i===v.PAGEDOWN?1:-1;s.scrollWith(l*s.screenHeight())}else{t.popup._hovered=true;t._search()}},_keypress:function(){this._oldText=this.element.val();this._typing=true},_move:function(e){this.listView[e]();if(this.options.suggest)this.suggest(this.listView.focus())},_hideBusy:function(){var e=this;clearTimeout(e._busy);e._loading.addClass(t);e.element.attr("aria-busy",false);e._busy=null;e._showClear()},_showBusy:function(){var e=this;if(e._busy)return;e._busy=setTimeout(function(){e.element.attr("aria-busy",true);e._loading.removeClass(t);e._hideClear()},100)},_placeholder:function(e){if(u)return;var t=this,i=t.element,s=t.options.placeholder,a;if(s){a=i.val();if(e===f)e=!a;if(!e)if(a!==s)s=a;else s="";if(a===t._old&&!e)return;i.toggleClass("k-readonly",e).val(s);if(!s&&i[0]===document.activeElement)p(i[0],0,0)}},_separator:function(){var e=this.options.separator;if(e instanceof Array)return new RegExp(e.join("|"),"gi");return e},_defaultSeparator:function(){var e=this.options.separator;if(e instanceof Array)return e[0];return e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout);e._typingTimeout=setTimeout(function(){if(e._prev!==e._accessor()){e._prev=e._accessor();e.search()}},e.options.delay)},_select:function(e){var t=this;t._active=true;return t.listView.select(e).done(function(){t._active=false})},_loader:function(){this._loading=o('<span class="k-icon k-i-loading k-input-loading-icon '+t+'"></span>').insertAfter(this.element)},_clearButton:function(){h.fn._clearButton.call(this);if(this.options.clearButton){this._clear.insertAfter(this.element);this.wrapper.addClass("k-autocomplete-clearable")}},_toggleHover:function(e){o(e.currentTarget).toggleClass(k,e.type==="mouseenter")},_toggleCloseVisibility:function(){if(this.value())this._showClear();else this._hideClear()},_wrapper:function(){var e=this,t=e.element,i=t[0],s;s=t.parent();if(!s.is("span.k-autocomplete"))s=t.wrap("<span />").parent();s.attr("tabindex",-1);s[0].style.cssText=i.style.cssText;t.css({width:"",height:i.style.height});e._focused=e.element;e.wrapper=s.addClass("k-autocomplete k-input").addClass(i.className).removeClass("input-validation-error")},_clearValue:function(){h.fn._clearValue.call(this);this.element.focus()}});return s.plugin(L),r.cssProperties.registerPrefix("AutoComplete","k-input-"),r.cssProperties.registerValues("AutoComplete",[{prop:"rounded",values:r.cssProperties.roundedValues.concat([["full","full"]])}]),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.autocomplete.min.js.map
