/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("kendo.list.js"),require("kendo.mobile.scroller.js"),require("kendo.virtuallist.js"),require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.list.min","kendo.mobile.scroller.min","kendo.virtuallist.min","kendo.core.min"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).kendoautocomplete=e.kendoautocomplete||{},e.kendoautocomplete.js={}))}(this,(function(e){let t=kendo.jQuery;function i({widget:e,wrapper:i,options:o,prefixInsertBefore:s,suffixInsertAfter:r}){var n,a,l=o.prefixOptions,u=o.suffixOptions,c=l.template||l.icon,p=u.template||u.icon,d=(r=r||s,o.layoutFlow),f=d?"vertical"==d?"horizontal":"vertical":"horizontal",h=`<span class="k-input-separator k-input-separator-${"vertical"==d?"horizontal":"vertical"}"></span>`;l&&c&&((n=i.children(".k-input-prefix"))[0]||(o._isInInlineAIPrompt&&(f=d||"horizontal"),n=t(`<span class="k-input-prefix k-input-prefix-${f}" />`),s?n.insertBefore(s):n.prependTo(i)),l.icon&&n.html(kendo.html.renderIcon({icon:l.icon})),l.template&&n.html(kendo.template(l.template)({})),l.separator&&t(h).insertAfter(n)),u&&p&&((a=i.children(".k-input-suffix"))[0]||(a=t(`<span class="k-input-suffix k-input-suffix-${f}" />`).appendTo(i),r?a.insertAfter(r):a.appendTo(i)),u.icon&&a.html(kendo.html.renderIcon({icon:u.icon})),u.template&&a.html(kendo.template(u.template)({})),u.separator&&t(h).insertBefore(a)),e._prefixContainer=n,e._suffixContainer=a}!function(e,t){var o=window.kendo,s=o.htmlEncode,r=o.support,n=o.caret,a=o._activeElement,l=r.placeholder,u=o.ui,c=u.List,p=o.keys,d=o.data.DataSource,f="aria-disabled",h="aria-readonly",_="change",g="disabled",v="readonly",m="k-focus",w="k-disabled",y=".kendoAutoComplete",b="mouseenter"+y+" mouseleave"+y;function k(e,t,i){return i?t.substring(0,e).split(i).length-1:0}var C=c.extend({init:function(t,s){var r,n=this;n.ns=y,s=Array.isArray(s)?{dataSource:s}:s,c.fn.init.call(n,t,s),t=n.element,(s=n.options).placeholder=s.placeholder||t.attr("placeholder"),s.inputMode=s.inputMode||t.attr("inputmode")||"text",l&&t.attr("placeholder",s.placeholder),n._wrapper(),n._clearButton(),n._dataSource(),n._ignoreCase(),t[0].type="text",r=n.wrapper,n._popup(),t.addClass("k-input-inner").on("keydown"+y,n._keydown.bind(n)).on("keypress"+y,n._keypress.bind(n)).on("input"+y,n._search.bind(n)).on("paste"+y,n._search.bind(n)).on("focus"+y,(function(e){n._hasActionSheet()?n.element.attr("readonly",!0):n.options.readonly||n.element.removeAttr("readonly"),n._prev=n._accessor(),n._oldText=n._prev,n._placeholder(!1),r.addClass(m)})).on("focusout"+y,(function(e){n.filterInput&&e.relatedTarget===n.filterInput[0]||(n._change(),n._placeholder(),n.close(),r.removeClass(m))})).attr({autocomplete:"off",role:"combobox","aria-expanded":!1,inputmode:s.inputMode}),n._clear.on("click"+y+" touchend"+y,n._clearValue.bind(n)),n._clear.on("mousedown"+y,n._clearValueMouseDownHandler.bind(n)),n._enable(),n._old=n._accessor(),n._placeholder(),n._initList(),e(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),n.listView.bind("click",(function(e){e.preventDefault()})),n._resetFocusItemHandler=n._resetFocusItem.bind(n),i({widget:n,wrapper:n.wrapper,options:n.options,prefixInsertBefore:n._inputValuesContainer,suffixInsertAfter:s.clearButton?n._clear:n.element}),o.notify(n),n._toggleCloseVisibility(),n._applyCssClasses(),s.label&&n._label(),n._aria()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:e=>s(e),fixedGroupTemplate:e=>s(e),prefixOptions:{separator:!0},suffixOptions:{separator:!0},dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1,popup:null,size:"medium",fillMode:"solid",rounded:"medium",label:null,adaptiveTitle:null,adaptiveTitleSubtitle:null},_clearValueMouseDownHandler:function(e){e&&e.currentTarget&&e.currentTarget.classList.contains("k-clear-value")?this._clearValueTrigger=!0:this._clearValueTrigger=!1},_onActionSheetCreate:function(){var e=this;e._unboundClick=!0,e.element.on("click",(function(){e.popup.toggle()})),e.filterInput&&(e.filterInput.on("keydown"+y,e._keydown.bind(e)).on("keypress"+y,e._keypress.bind(e)).on("input"+y,e._search.bind(e)).on("paste"+y,e._search.bind(e)).attr({autocomplete:"off",role:"combobox","aria-expanded":!1}),e.popup.bind("activate",(()=>{e.filterInput.val(e.element.val()),e.filterInput.trigger("focus")})),e.popup.bind("deactivate",(()=>{e.element.trigger("focus")})))},_onCloseButtonPressed:function(){var e=this;e.filterInput&&a()===e.filterInput[0]&&e.element.val(e.filterInput.val())},_popup:function(){c.fn._popup.call(this),this.popup.element.addClass("k-autocomplete-popup")},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=e._showBusy,e._errorHandler=e._hideBusy),e.dataSource=d.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",_,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);c.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(t){var i=c.fn._listOptions.call(this,e.extend(t,{skipUpdateOnBind:!0}));return i.dataValueField=i.dataTextField,i.selectedItemChange=null,i},_editable:function(e){var t=this,i=t.element,o=t.wrapper.off(y),s=e.readonly,r=e.disable;s||r?(o.addClass(r?w:"").removeClass(r?"":w),i.attr(g,r).attr(v,s).attr(f,r).attr(h,s)):(o.removeClass(w).on(b,t._toggleHover),i.prop(g,!1).prop(v,!1).attr(f,!1).attr(h,!1)),t._toggleCloseVisibility()},close:function(){var e=this;var t=e.listView.focus();t&&t.removeClass("k-selected"),e.popup.close(),e._deactivateItem()},destroy:function(){var e=this;e.element.off(y),e._clear.off(y),e.wrapper.off(y),e.filterInput&&e.filterInput.off(y),c.fn.destroy.call(e)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){let t,i,o=this,s=o.options,r=s.ignoreCase,l=o._separator(),u=o.dataSource.options.accentFoldingFiltering,c=o.filterInput&&a()===o.filterInput[0]?o.filterInput:o.element;e=e||o._accessor(),clearTimeout(o._typingTimeout),l&&(e=function(e,t,i){return t.split(i)[k(e,t,i)]}(n(c)[0],e,l)),t=e.length,(!s.enforceMinLength&&!t||t>=s.minLength)&&(o._open=!0,o._mute((function(){this.listView.value([])})),i=u?e.toLocaleLowerCase(u):e.toLowerCase(),o._filterSource({value:r?i:e,operator:s.filter,field:s.dataTextField,ignoreCase:r}),o.one("close",o._unifySeparators.bind(o))),o._toggleCloseVisibility()},suggest:function(e){var i,o=this,s=o._last,r=o._accessor(),l=o.value(),u=o.element[0],d=n(u)[0],f=o._separator(),h=r.split(f),_=k(d,r,f),g=d,v=o.dataSource.options.accentFoldingFiltering;if(s!=p.BACKSPACE&&s!=p.DELETE){if("string"!=typeof(e=e||"")&&(e[0]&&(e=o.dataSource.view()[c.inArray(e[0],o.ul[0])]),e=e?o._text(e):""),d<=0&&(d=(v?r.toLocaleLowerCase(v):r.toLowerCase()).indexOf(v?e.toLocaleLowerCase(v):e.toLowerCase())+1),i=(i=r.substring(0,d).lastIndexOf(o._defaultSeparator()))>-1?d-(i+o._defaultSeparator().length):d,r=h[_].substring(0,i),e&&(e=e.toString(),(i=(v?e.toLocaleLowerCase(v):e.toLowerCase()).indexOf(v?r.toLocaleLowerCase(v):r.toLowerCase()))>-1&&(g=d+(e=e.substring(i+r.length)).length,r+=e),f&&""!==h[h.length-1]&&h.push("")),h[_]=r,"object"==typeof o.options.separator&&null!=o.options.separator)if(l.length>1){let e=[...l.matchAll(f.source)].pop();e?o._accessor(h.slice(0,-1).join(o._defaultSeparator()||"")+e+h[h.length-1]):o._accessor(h.slice(0,-1).join(o._defaultSeparator()||""))}else o._accessor(h.join(this._defaultSeparator()||""));else o._accessor(h.join(f||""));u===a()&&n(u,d,g)}else o._last=t},value:function(e){if(e===t)return this._accessor();this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility(),this._refreshFloatingLabel()},_click:function(e){var t=e.item;var i=this;var o=i.element;var s=i.listView.dataItemByIndex(i.listView.getElementIndex(t));e.preventDefault(),i._active=!0,i.trigger("select",{dataItem:s,item:t})?i.close():(i._oldText=o.val(),i._select(t).done((function(){i._blur(),n(o,o.val().length)})))},_clearText:e.noop,_highlightFirst:function(){var e=this.options.highlightFirst?0:-1;this.listView.focus(e)},_resetFocusItem:function(){this.options.virtual&&this.listView.scrollTo(0),this._highlightFirst()},_listBound:function(){var e=this;var i=e.popup;var o=e.options;var s=e.dataSource.flatView();var r=s.length;var n=e.dataSource._group?e.dataSource._group.length:0;var l=e.element[0]===a()||e.filterInput&&e.filterInput[0]===a();var u;e._renderFooter(),e._renderNoData(),e._toggleNoData(!r),e._toggleHeader(!!n&&!!r),e._resizePopup(),i.position(),r&&(o.suggest&&l&&e._inputValue()&&e.suggest(s[0]),e._highlightFirst()),e._open&&(e._open=!1,u=e._allowOpening()?"open":"close",e._typingTimeout&&!l&&(u="close"),r&&(e._resetFocusItem(),o.virtual&&e.popup.unbind("activate",e._resetFocusItemHandler).one("activate",e._resetFocusItemHandler)),i[u](),e._typingTimeout=t),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e.trigger("dataBound")},_mute:function(e){this._muted=!0,e.call(this),this._muted=!1},_listChange:function(){(this._active||this.element[0]===a())&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t=this._separator();var i="";e&&(i=this._text(e)),null===i&&(i=""),t&&(i=function(e,t,i,o,s){var r=t.split(o);return r.splice(k(e,t,o),1,i),o&&""!==r[r.length-1]&&r.push(""),r.join(s)}(n(this.element)[0],this._accessor(),i,t,this._defaultSeparator())),this._prev=i,this._accessor(i),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(e,t){this._inputValue(t),this._accessor(e),this._old=this.oldText=this._accessor(),this.listView.setValue(e),this._placeholder()},_change:function(){var e=this;var t=e._unifySeparators().value();var i=t!==c.unifyType(e._old,typeof t);var o=i&&!e._typing;var s=e._oldText!==t;var r=e._clearValueTrigger;e._old=t,e._oldText=t,e.filterInput&&a()===e.filterInput[0]&&e.element.val(e.filterInput.val()),!o&&!s||r||e.element.trigger(_),i&&!r&&e.trigger(_),e.typing=!1,e._toggleCloseVisibility()},_accessor:function(e){var i=this,o=i.filterInput&&a()===i.filterInput[0]?i.filterInput[0]:i.element[0];if(e===t)return e=o.value,o.className.indexOf("k-readonly")>-1&&e===i.options.placeholder?"":e;o.value=null===e?"":e,i._placeholder()},_keydown:function(e){var t=this;var i=e.keyCode;var o=t.listView;var s=t.popup.visible();var r=o.focus();if(t._last=i,i===p.DOWN)s?this._move(r?"focusNext":"focusFirst"):t.value()&&t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done((function(){t._allowOpening()&&(t._resetFocusItem(),t.popup.open())})),e.preventDefault();else if(i===p.ESC)s?(e.preventDefault(),t.close()):t._clearValue();else if(e.altKey&&i===p.UP&&s)e.preventDefault(),t.close();else if(i===p.UP)s&&this._move(r?"focusPrev":"focusLast"),e.preventDefault();else if(i===p.HOME)this._move("focusFirst");else if(i===p.END)this._move("focusLast");else if(i===p.ENTER||i===p.TAB){if(i===p.ENTER&&s&&e.preventDefault(),s&&r){var n=o.dataItemByIndex(o.getElementIndex(r));if(t.trigger("select",{dataItem:n,item:r}))return;this._select(r)}this._blur()}else if(!t.popup.visible()||i!==p.PAGEDOWN&&i!==p.PAGEUP)t.popup._hovered=!0,t._search();else{e.preventDefault();var a=i===p.PAGEDOWN?1:-1;o.scrollWith(a*o.screenHeight())}},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(e){if(this.listView[e](),this.options.suggest&&null==this.listView.focus()&&"focusNext"==e)this.listView.focus(0),this.suggest(this.listView._view[0].item);else if(this.options.suggest&&null==this.listView.focus()&&"focusPrev"==e){let e=this.listView._view.length-1;this.listView.focus(e),this.suggest(this.listView._view[e].item)}else!this.options.suggest||"focusFirst"!=e&&"focusLast"!=e?this.options.suggest&&null!=this.listView.focus()&&this.suggest(this.listView.focus()):n(this.element)},_placeholder:function(e){if(!l){var i,o=this,s=o.element,r=o.options.placeholder;if(r){if(i=s.val(),e===t&&(e=!i),e||(r=i!==r?i:""),i===o._old&&!e)return;s.toggleClass("k-readonly",e).val(r),r||s[0]!==document.activeElement||n(s[0],0,0)}}},_separator:function(){var e=this.options.separator;return e instanceof Array?new RegExp(e.join("|"),"gi"):e},_defaultSeparator:function(){var e=this.options.separator;return e instanceof Array?e[0]:e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())}),e.options.delay)},_select:function(e){var t=this;return t._active=!0,t.listView.select(e).done((function(){t._active=!1}))},_clearButton:function(){c.fn._clearButton.call(this),this.options.clearButton&&this._clear.insertAfter(this.element)},_toggleHover:function(t){e(t.currentTarget).toggleClass("k-hover","mouseenter"===t.type)},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");this.value()&&!e?this._showClear():this._hideClear()},_wrapper:function(){var e,t=this,i=t.element,o=i[0];(e=i.parent()).is("span.k-autocomplete")||(e=i.wrap("<span />").parent()),e.attr("tabindex",-1),e[0].style.cssText=o.style.cssText,i.css({width:"",height:o.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-autocomplete k-input").addClass(o.className).removeClass("input-validation-error")},_clearValue:function(){this._clearValueTrigger=!1,c.fn._clearValue.call(this),this.element.trigger("focus")}});u.plugin(C),o.cssProperties.registerPrefix("AutoComplete","k-input-"),o.cssProperties.registerValues("AutoComplete",[{prop:"rounded",values:o.cssProperties.roundedValues.concat([["full","full"]])}])}(window.kendo.jQuery);var o=kendo;e.__meta__={id:"autocomplete",name:"AutoComplete",category:"web",description:"The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",depends:["list"],features:[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}]},e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.autocomplete.min.js.map
