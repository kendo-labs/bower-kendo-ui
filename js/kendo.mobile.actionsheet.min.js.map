{"version":3,"file":"kendo.mobile.actionsheet.min.js","names":["factory","define","amd","$","kendo","support","ui","Shim","Popup","Widget","OPEN","CLOSE","COMMAND","BUTTONS","cancelTemplate","ActionSheet","window","jQuery","mobile","template","ref","cancel","htmlEncode","extend","init","element","options","ShimClass","tablet","type","that","this","os","mobileOS","fn","call","addClass","append","wrap","on","preventDefault","view","bind","destroy","wrapper","parent","shim","modal","ios","majorVersion","className","popup","_closeProxy","_close","_shimHideProxy","_shimHide","onResize","notify","events","name","height","open","target","context","show","close","hide","openFor","data","trigger","unbindResize","_click","e","isDefaultPrevented","currentTarget","action","actionData","$angular","injector","get","getter","plugin"],"sources":["kendo.mobile.actionsheet.js"],"mappings":"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","sourcesContent":["(function (factory) {\n    typeof define === 'function' && define.amd ? define(['kendo.mobile.popover', 'kendo.mobile.shim'], factory) :\n    factory();\n})((function () {\n    var __meta__ = {\n        id: \"mobile.actionsheet\",\n        name: \"ActionSheet\",\n        category: \"mobile\",\n        description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n        depends: [ \"mobile.popover\", \"mobile.shim\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            support = kendo.support,\n            ui = kendo.mobile.ui,\n            Shim = ui.Shim,\n            Popup = ui.Popup,\n            Widget = ui.Widget,\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            COMMAND = \"command\",\n            BUTTONS = \"li>a\",\n            CONTEXT_DATA = \"actionsheetContext\",\n            WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n            cancelTemplate = kendo.template(function (ref) {\n                var cancel = ref.cancel;\n\n                return (\"<li class=\\\"km-actionsheet-cancel\\\"><a href=\\\"#\\\">\" + (kendo.htmlEncode(cancel)) + \"</a></li>\");\n        });\n\n        var ActionSheet = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    ShimClass,\n                    tablet,\n                    type,\n                    os = support.mobileOS;\n\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                type = options.type;\n                element = that.element;\n\n                if (type === \"auto\") {\n                    tablet = os && os.tablet;\n                } else {\n                    tablet = type === \"tablet\";\n                }\n\n                ShimClass = tablet ? Popup : Shim;\n\n                if (options.cancelTemplate) {\n                    cancelTemplate = kendo.template(options.cancelTemplate);\n                }\n\n                element\n                    .addClass(\"km-actionsheet\")\n                    .append(cancelTemplate({ cancel: that.options.cancel }))\n                    .wrap(WRAP)\n                    .on(\"up\", BUTTONS, \"_click\")\n                    .on(\"click\", BUTTONS, kendo.preventDefault);\n\n                that.view().bind(\"destroy\", function() {\n                    that.destroy();\n                });\n\n                that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n                that.shim = new ShimClass(that.wrapper, $.extend({ modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\" }, that.options.popup) );\n\n                that._closeProxy = that._close.bind(that);\n                that._shimHideProxy = that._shimHide.bind(that);\n                that.shim.bind(\"hide\", that._shimHideProxy);\n\n                if (tablet) {\n                    kendo.onResize(that._closeProxy);\n                }\n\n                kendo.notify(that, ui);\n            },\n\n            events: [\n                OPEN,\n                CLOSE,\n                COMMAND\n            ],\n\n            options: {\n                name: \"ActionSheet\",\n                cancel: \"Cancel\",\n                type: \"auto\",\n                popup: { height: \"auto\" }\n            },\n\n            open: function(target, context) {\n                var that = this;\n                that.target = $(target);\n                that.context = context;\n                that.shim.show(target);\n            },\n\n            close: function() {\n                this.context = this.target = null;\n                this.shim.hide();\n            },\n\n            openFor: function(target) {\n                var that = this,\n                    context = target.data(CONTEXT_DATA);\n\n                that.open(target, context);\n                that.trigger(OPEN, { target: target, context: context });\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                kendo.unbindResize(this._closeProxy);\n                this.shim.destroy();\n            },\n\n            _click: function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                var currentTarget = $(e.currentTarget);\n                var action = currentTarget.data(\"action\");\n\n                if (action) {\n                    var actionData = {\n                        target: this.target,\n                        context: this.context\n                    },\n                    $angular = this.options.$angular;\n\n                    if ($angular) {\n                        this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                    } else {\n                        kendo.getter(action)(window)(actionData);\n                    }\n                }\n\n                this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n                e.preventDefault();\n                this._close();\n            },\n\n            _shimHide: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.context = this.target = null;\n                } else {\n                    e.preventDefault();\n                }\n            },\n\n            _close: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.close();\n                } else {\n                    e.preventDefault();\n                }\n            }\n        });\n\n        ui.plugin(ActionSheet);\n    })(window.kendo.jQuery);\n\n}));\n"]}