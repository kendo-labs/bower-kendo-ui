{"version":3,"file":"kendo.mobile.actionsheet.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendomobile","actionsheet","js","this","$","undefined$1","kendo","window","support","ui","mobile","Shim","Popup","Widget","OPEN","CLOSE","COMMAND","BUTTONS","cancelTemplate","template","ref","cancel","htmlEncode","ActionSheet","extend","init","element","options","ShimClass","tablet","type","that","os","mobileOS","fn","call","addClass","append","wrap","on","preventDefault","view","bind","destroy","wrapper","parent","shim","modal","ios","majorVersion","className","popup","_closeProxy","_close","_shimHideProxy","_shimHide","onResize","notify","events","name","height","open","target","context","show","close","hide","openFor","data","trigger","unbindResize","_click","e","isDefaultPrevented","currentTarget","action","actionData","$angular","injector","get","getter","plugin","jQuery"],"sources":["kendo.mobile.actionsheet.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.mobile.popover.js'), require('kendo.mobile.shim.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.mobile.popover', 'kendo.mobile.shim'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendomobile = global.kendomobile || {}, global.kendomobile.actionsheet = global.kendomobile.actionsheet || {}, global.kendomobile.actionsheet.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"mobile.actionsheet\",\n        name: \"ActionSheet\",\n        category: \"mobile\",\n        description: \"The mobile ActionSheet widget displays a set of choices related to a task the user initiates.\",\n        depends: [ \"mobile.popover\", \"mobile.shim\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            support = kendo.support,\n            ui = kendo.mobile.ui,\n            Shim = ui.Shim,\n            Popup = ui.Popup,\n            Widget = ui.Widget,\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            COMMAND = \"command\",\n            BUTTONS = \"li>a\",\n            CONTEXT_DATA = \"actionsheetContext\",\n            WRAP = '<div class=\"km-actionsheet-wrapper\"></div>',\n            cancelTemplate = kendo.template(function (ref) {\n                var cancel = ref.cancel;\n\n                return (\"<li class=\\\"km-actionsheet-cancel\\\"><a href=\\\"#\\\">\" + (kendo.htmlEncode(cancel)) + \"</a></li>\");\n        });\n\n        var ActionSheet = Widget.extend({\n            init: function(element, options) {\n                var that = this,\n                    ShimClass,\n                    tablet,\n                    type,\n                    os = support.mobileOS;\n\n                Widget.fn.init.call(that, element, options);\n\n                options = that.options;\n                type = options.type;\n                element = that.element;\n\n                if (type === \"auto\") {\n                    tablet = os && os.tablet;\n                } else {\n                    tablet = type === \"tablet\";\n                }\n\n                ShimClass = tablet ? Popup : Shim;\n\n                if (options.cancelTemplate) {\n                    cancelTemplate = kendo.template(options.cancelTemplate);\n                }\n\n                element\n                    .addClass(\"km-actionsheet\")\n                    .append(cancelTemplate({ cancel: that.options.cancel }))\n                    .wrap(WRAP)\n                    .on(\"up\", BUTTONS, \"_click\")\n                    .on(\"click\", BUTTONS, kendo.preventDefault);\n\n                that.view().bind(\"destroy\", function() {\n                    that.destroy();\n                });\n\n                that.wrapper = element.parent().addClass(type ? \" km-actionsheet-\" + type : \"\");\n\n                that.shim = new ShimClass(that.wrapper, $.extend({ modal: os.ios && os.majorVersion < 7, className: \"km-actionsheet-root\" }, that.options.popup) );\n\n                that._closeProxy = that._close.bind(that);\n                that._shimHideProxy = that._shimHide.bind(that);\n                that.shim.bind(\"hide\", that._shimHideProxy);\n\n                if (tablet) {\n                    kendo.onResize(that._closeProxy);\n                }\n\n                kendo.notify(that, ui);\n            },\n\n            events: [\n                OPEN,\n                CLOSE,\n                COMMAND\n            ],\n\n            options: {\n                name: \"ActionSheet\",\n                cancel: \"Cancel\",\n                type: \"auto\",\n                popup: { height: \"auto\" }\n            },\n\n            open: function(target, context) {\n                var that = this;\n                that.target = $(target);\n                that.context = context;\n                that.shim.show(target);\n            },\n\n            close: function() {\n                this.context = this.target = null;\n                this.shim.hide();\n            },\n\n            openFor: function(target) {\n                var that = this,\n                    context = target.data(CONTEXT_DATA);\n\n                that.open(target, context);\n                that.trigger(OPEN, { target: target, context: context });\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                kendo.unbindResize(this._closeProxy);\n                this.shim.destroy();\n            },\n\n            _click: function(e) {\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n\n                var currentTarget = $(e.currentTarget);\n                var action = currentTarget.data(\"action\");\n\n                if (action) {\n                    var actionData = {\n                        target: this.target,\n                        context: this.context\n                    },\n                    $angular = this.options.$angular;\n\n                    if ($angular) {\n                        this.element.injector().get(\"$parse\")(action)($angular[0])(actionData);\n                    } else {\n                        kendo.getter(action)(window)(actionData);\n                    }\n                }\n\n                this.trigger(COMMAND, { target: this.target, context: this.context, currentTarget: currentTarget });\n\n                e.preventDefault();\n                this._close();\n            },\n\n            _shimHide: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.context = this.target = null;\n                } else {\n                    e.preventDefault();\n                }\n            },\n\n            _close: function(e) {\n                if (!this.trigger(CLOSE)) {\n                    this.close();\n                } else {\n                    e.preventDefault();\n                }\n            }\n        });\n\n        ui.plugin(ActionSheet);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}