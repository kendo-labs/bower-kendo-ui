/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.selectable.min",["kendo.core.min","kendo.userevents.min"],function(){var e={id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:true},f=window.kendo.jQuery,t=void 0,u=window.kendo,l=u.ui.Widget,i=Math.abs,a="aria-selected",d="k-selected",c="k-selecting",v="k-selectable",h="change",n=".kendoSelectable",s="unselect",p="k-unselecting",r="input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up,label.k-checkbox-label.k-no-text,.k-icon.k-i-collapse,.k-icon.k-i-expand,span.k-numeric-wrap,.k-focusable",o=u.support.browser.msie,g=false,m=f.extend,_,y=(f('<div class="parent"><span></span></div>').on("click",">*",function(){g=true}).find("span").trigger("click").end().off(),l.extend({init:function(e,t){var n=this,i,s;l.fn.init.call(n,e,t);n._marquee=f("<div class='k-marquee'><div class='k-marquee-color'></div></div>");n._lastActive=null;n.element.addClass(v);n.relatedTarget=n.options.relatedTarget;i=n.options.multiple;s=n.options.dragToSelect;n.userEvents=new u.UserEvents(n.element,{global:true,allowSelection:true,filter:(!g?"."+v+" ":"")+n.options.filter,tap:n._tap.bind(n),touchAction:i?"none":"pan-x pan-y"});if(i){if(s)n.userEvents.bind("start",n._start.bind(n)).bind("move",n._move.bind(n)).bind("end",n._end.bind(n));n.userEvents.bind("select",n._select.bind(n))}},events:[h,s],options:{name:"Selectable",filter:">*",inputSelectors:r,multiple:false,dragToSelect:true,relatedTarget:f.noop,ignoreOverlapped:false,addIdToRanges:false},_isElement:function(e){var t=this.element;var n,i=t.length,s=false;e=e[0];for(n=0;n<i;n++)if(t[n]===e){s=true;break}return s},_tap:function(e){var t=f(e.target),n=this,i=e.event.ctrlKey||e.event.metaKey,s=n.options.multiple,l=s&&e.event.shiftKey,a=n.options.selectedClass||d,r,o=e.event.which,c=e.event.button;if(!n._isElement(t.closest("."+v))||o&&o==3||c&&c==2)return;if(!this._allowSelection(e.event.target))return;r=t.hasClass(a);t=t.add(n.relatedTarget(t));if(!s){if(r&&i){n._unselect(t);n._notify(h,e)}else if(!r){n.clear();n.value(t,e);n._notify(h,e)}}else if(l){if(!n._lastRange||!b(n._lastRange,t)){n.selectRange(n._firstSelectee(),t,e);n._notify(h,e)}n._lastRange=t}else{n._lastRange=null;if(r&&i){n._unselect(t);n._notify(h,e)}else if(i){n.value(t,e);n._notify(h,e)}else if(!r||n.value().length>1){n.clear();n.value(t,e);n._notify(h,e)}n._lastActive=n._downTarget=t}},_start:function(e){var t=this,n=f(e.target),i=t.options.selectedClass||d,s=n.hasClass(i),l,a=e.event.ctrlKey||e.event.metaKey;if(!this._allowSelection(e.event.target))return;t._downTarget=n;if(!t._isElement(n.closest("."+v))){t.userEvents.cancel();return}if(t.options.useAllItems)t._items=t.element.find(t.options.filter);else{l=n.closest(t.element);t._items=l.find(t.options.filter)}e.sender.capture();t._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0});if(!a)t.clear();n=n.add(t.relatedTarget(n));if(s){t._selectElement(n,true);if(a)n.addClass(p)}},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:i(e.x.initialDelta),height:i(e.y.initialDelta)};t._marquee.css(n);t._invalidateSelectables(n,e.event.ctrlKey||e.event.metaKey);e.preventDefault()},_end:function(e){var t=this,n=u.attr("range-selected"),i=u.guid();t._marquee.remove();t._unselect(t.element.find(t.options.filter+"."+p)).removeClass(p);var s=t.element.find(t.options.filter+"."+c);s=s.add(t.relatedTarget(s));if(t.options.addIdToRanges)for(var l=0;l<t._currentlyActive.length;l++)f(t._currentlyActive[l]).attr(n,i);if(!t._lastRange||!b(t._lastRange,s)){t.value(s,e);t._notify(h,e)}t._lastRange=s;t._lastActive=t._downTarget;t._items=null},_invalidateSelectables:function(e,t){var n,i,s=this._downTarget[0],l=this._items,a=this.options.selectedClass||d,r,o;this._currentlyActive=[];for(n=0,i=l.length;n<i;n++){o=l.eq(n);r=o.add(this.relatedTarget(o));if(k(o,e)){if(o.hasClass(a)){if(t&&s!==o[0])r.removeClass(a).addClass(p)}else if(!o.hasClass(c)&&!o.hasClass(p)&&!this._collidesWithActiveElement(r,e))r.addClass(c);this._currentlyActive.push(r[0])}else if(o.hasClass(c))r.removeClass(c);else if(t&&o.hasClass(p))r.removeClass(p).addClass(a)}},_collidesWithActiveElement:function(e,t){if(!this.options.ignoreOverlapped)return false;var n=this._currentlyActive;var i=e[0].getBoundingClientRect();var s;var l=false;var a=u.support.isRtl(e);var r=a?"right":"left";var o={};t.right=t.left+t.width;t.bottom=t.top+t.height;for(var c=0;c<n.length;c++){s=n[c].getBoundingClientRect();if(w(i,s)){o[r]=r==="left"?s.right:s.left;i=m({},i,o);if(i.left>i.right)return true;l=!w(i,t)}}return l},value:function(e){var t=this,n=t._selectElement.bind(t);if(e){e.each(function(){n(this)});return}return t.element.find(t.options.filter+"."+(t.options.selectedClass||d))},selectedRanges:function(){var e=this;var s=u.attr("range-selected");var l={};e.element.find("["+s+"]").each(function(e,t){var n=f(t).attr(s);var i=l[n];if(!i)i=l[n]=[];i.push(f(t))});return l},selectedSingleItems:function(){var e=this;var t=u.attr("range-selected");return e.element.find(e.options.filter+"."+(e.options.selectedClass||d)+":not(["+t+"])").toArray().map(function(e){return f(e)})},_firstSelectee:function(){var e=this,t;if(e._lastActive!==null)return e._lastActive;t=e.value();return t.length>0?t[0]:e.element.find(e.options.filter)[0]},_selectElement:function(e,t){var n=f(e),i=this.options.selectedClass||d,s=!t&&this._notify("select",{element:e});n.removeClass(c);if(!s){n.addClass(i);if(this.options.aria)n.attr(a,true)}},_notify:function(e,t){t=t||{};return this.trigger(e,t)},_unselect:function(e){if(this.trigger(s,{element:e}))return;var t=u.attr("range-selected");e.removeClass(this.options.selectedClass||d).removeAttr(t);if(this.options.aria)e.attr(a,false);return e},_select:function(e){if(this._allowSelection(e.event.target))if(!o||o&&!f(u._activeElement()).is(this.options.inputSelectors))e.preventDefault()},_allowSelection:function(e){if(f(e).is(this.options.inputSelectors)){this.userEvents.cancel();this._downTarget=null;return false}return true},resetTouchEvents:function(){this.userEvents.cancel()},clear:function(){var e=this.element.find(this.options.filter+"."+(this.options.selectedClass||d));this._unselect(e)},selectRange:function(e,t){var n=this,i,s,l;n.clear();if(n.element.length>1)l=n.options.continuousItems();if(!l||!l.length)l=n.element.find(n.options.filter);e=f.inArray(f(e)[0],l);t=f.inArray(f(t)[0],l);if(e>t){s=e;e=t;t=s}if(!n.options.useAllItems)t+=n.element.length-1;for(i=e;i<=t;i++)n._selectElement(l[i],true)},destroy:function(){var e=this;l.fn.destroy.call(e);e.element.off(n);e.userEvents.destroy();e._marquee=e._lastActive=e.element=e.userEvents=null}}));function b(e,t){if(e.length!==t.length)return false;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return false;return true}function k(e,t){if(!e.is(":visible"))return false;var n=u.getOffset(e),i=t.left+t.width,s=t.top+t.height;n.right=n.left+u._outerWidth(e);n.bottom=n.top+u._outerHeight(e);return!(n.left>i||n.right<t.left||n.top>s||n.bottom<t.top)}function w(e,t){return!(e.right<=t.left||e.left>=t.right||e.bottom<=t.top||e.top>=t.bottom)}return y.parseOptions=function(e){var t=e.mode||e;var n=typeof t==="string"&&t.toLowerCase();return{multiple:n&&n.indexOf("multiple")>-1,cell:n&&n.indexOf("cell")>-1}},u.ui.plugin(y),window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.selectable.min.js.map
