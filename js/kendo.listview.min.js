/** 
 * Copyright 2021 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Licensed under the Apache License, Version 2.0 (the "License");                                                                                                                                      
 * you may not use this file except in compliance with the License.                                                                                                                                     
 * You may obtain a copy of the License at                                                                                                                                                              
 *                                                                                                                                                                                                      
 *     http://www.apache.org/licenses/LICENSE-2.0                                                                                                                                                       
 *                                                                                                                                                                                                      
 * Unless required by applicable law or agreed to in writing, software                                                                                                                                  
 * distributed under the License is distributed on an "AS IS" BASIS,                                                                                                                                    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                                                                                                             
 * See the License for the specific language governing permissions and                                                                                                                                  
 * limitations under the License.                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.listview.min",["kendo.data.min","kendo.editable.min","kendo.selectable.min","kendo.pager.min"],e)}(function(){return function(e,t){var n=window.kendo,a="change",i="kendoKeydown",r="cancel",o="dataBound",l="dataBinding",s=n.ui.Widget,c=n.keys,d="",u=".",p="> *:not(.k-loading-mask)",m="progress",g="error",f="k-state-focused",h="k-state-selected",b="k-edit-item",v="k-listview-pager",_="k-listview-item",w="tabindex",S="aria-setsize",y="aria-posinset",k="role",E="aria-label",x="edit",C="remove",T="save",H="mousedown",P="click",I="touchstart",D=".kendoListView",F=e.proxy,z=n._activeElement,B=n.ui.progress,A=n.data.DataSource,O=n.ui.DataBoundWidget.extend({init:function(e,t){var a=this;t=Array.isArray(t)?{dataSource:t}:t,s.fn.init.call(a,e,t),t=a.options,a.wrapper=e=a.element,e[0].id&&(a._itemId=e[0].id+"_lv_active"),a._element(),a._layout(),a._dataSource(),a._setContentHeight(),a._templates(),a._navigatable(),a._selectable(),a._pageable(),a._crudHandlers(),a._scrollable(),a.options.autoBind&&a.dataSource.fetch(),n.notify(a)},events:[a,r,l,o,x,C,T,i],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,pageable:!1,height:null,template:d,altTemplate:d,editTemplate:d,contentTemplate:"<div data-content='true' />",contentElement:"div",bordered:!0,borders:"",layout:"",flex:{direction:"row",wrap:"nowrap"},grid:{},scrollable:!1},setOptions:function(e){s.fn.setOptions.call(this,e),this._layout(),this._templates(),this.selectable&&(this.selectable.destroy(),this.selectable=null),this._selectable()},_templates:function(){var e=this.options;this.template=n.template(e.template||d),this.altTemplate=n.template(e.altTemplate||e.template),this.editTemplate=n.template(e.editTemplate||d)},_item:function(e){return this.content.children()[e]()},items:function(){return this.content.children(":not(.k-loading-mask)")},dataItem:function(t){var a=n.attr("uid"),i=e(t).closest("["+a+"]").attr(a);return this.dataSource.getByUid(i)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch(),"endless"===this.options.scrollable&&this._bindScrollable()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(a,e._refreshHandler).unbind(m,e._progressHandler).unbind(g,e._errorHandler)},_dataSource:function(){var n=this,i=n.options.pageable,r=n.options.dataSource;e.isPlainObject(i)&&i.pageSize!==t&&(r.pageSize=i.pageSize),n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=F(n.refresh,n),n._progressHandler=F(n._progress,n),n._errorHandler=F(n._error,n)),n.dataSource=A.create(r).bind(a,n._refreshHandler).bind(m,n._progressHandler).bind(g,n._errorHandler)},_progress:function(e){var t=this.content;B(t,e,{opacity:!0})},_error:function(){B(this.content,!1)},_element:function(){var t=this.options,n=t.height;this.element.addClass("k-widget k-listview"),t.navigatable||t.selectable?this.element.attr(k,"listbox"):this.element.attr(k,"list"),this.content=t.contentElement?e(document.createElement(t.contentElement)).appendTo(this.element):this.element,this.content.attr(w,-1),n&&this.element.css("height",n)},_layout:function(){var e=this,n=e.options,a=n.flex,i=n.grid,r=e.element,o=["k-widget","k-listview"],l=e.content,s=["k-listview-content"];r.add(l).removeClass(function(e,t){if(t.indexOf("k-")>=0)return!0}),n.bordered===!0&&o.push("k-listview-bordered"),"string"==typeof n.borders&&n.borders!==d&&o.push("k-listview-borders-"+n.borders),"string"==typeof n.contentPadding&&n.contentPadding!==d&&s.push("k-listview-content-padding-"+n.contentPadding),"string"==typeof n.layout&&n.layout!==d&&s.push("k-d-"+n.layout),"flex"===n.layout&&"object"==typeof a&&("string"==typeof a.direction&&""!==a.direction&&s.push("k-flex-"+a.direction),"string"==typeof a.wrap&&""!==a.wrap&&s.push("k-flex-"+a.wrap)),"grid"===n.layout&&"object"==typeof i&&("number"==typeof i.cols?l.css("grid-template-columns","repeat("+i.cols+", 1fr)"):"string"==typeof i.cols&&l.css("grid-template-columns",i.cols),"number"==typeof i.rows?l.css("grid-template-rows","repeat("+i.rows+", "+(i.rowHeight!==t?i.rowHeight:"1fr")+")"):"string"==typeof i.rows&&l.css("grid-template-rows",i.rows),"number"==typeof i.gutter?l.css("grid-gap",i.gutter):"string"==typeof i.gutter&&l.css("grid-gap",i.gutter)),e.element.addClass(o.join(" ")),e.content.addClass(s.join(" "))},_setContentHeight:function(){var e,t=this,n=t.options;n.scrollable&&t.wrapper.is(":visible")&&(e=t.wrapper.innerHeight(),t.content.height(e))},refresh:function(e){var a,i,r,s,c,d=this,u=d.dataSource.view(),p="",m=d.template,g=d.altTemplate,f=d.options,h=f.selectable||f.navigatable?"option":"listitem",b=z(),v=d._endlessFetchInProgress,w=v?d._skipRerenderItemsCount:0,x=d.options.scrollable;if(e=e||{},"itemchange"===e.action)return d._hasBindingTarget()||d.editable||(a=e.items[0],r=d.items().filter("["+n.attr("uid")+"="+a.uid+"]"),r.length>0&&(s=r.index(),d.angular("cleanup",function(){return{elements:[r]}}),r.replaceWith(m(a)),r=d.items().eq(s),r.attr(n.attr("uid"),a.uid),d.angular("compile",function(){return{elements:[r],data:[{dataItem:a}]}}),d.trigger("itemChange",{item:r,data:a}))),t;if(!d.trigger(l,{action:e.action||"rebind",items:e.items,index:e.index})){for(d._angularItems("cleanup"),v||d._destroyEditable(),s=w,c=u.length;s<c;s++)p+=s%2?g(u[s]):m(u[s]);for(v?d.content.append(p):d.content.html(p),i=d.items().not(".k-loading-mask"),u.length||(d.element.removeAttr(k),d.element.removeAttr(E)),s=w,c=u.length;s<c;s++)r=i.eq(s),r.addClass(_),r.attr(n.attr("uid"),u[s].uid).attr("role",h),d.options.selectable&&r.attr("aria-selected","false"),d.options.pageable&&(r.attr(S,d.dataSource.total()),r.attr(y,d.dataSource.indexOf(d.dataItem(r))+1));d.content[0]===b&&d.options.navigatable&&(d._focusNext?d.current(d.current().next()):x||d.current(i.eq(0))),d._setContentHeight(),d._angularItems("compile"),d._progress(!1),d._endlessFetchInProgress=null,d.trigger(o,{action:e.action||"rebind",items:e.items,index:e.index})}},_pageable:function(){var t,a,i=this,r=i.options.pageable,o=i.options.navigatable;r&&(t=i.wrapper.find(u+v),t.length||(t=e("<div />").addClass(v)),"top"===r.position?t.addClass(n.format("{0}-{1}",v,r.position)).prependTo(i.wrapper):t.appendTo(i.wrapper),i.pager&&i.pager.destroy(),"object"==typeof r&&r instanceof n.ui.Pager?i.pager=r:(t=r.pagerId?e("#"+r.pagerId):t,a=e.extend({},r,{dataSource:i.dataSource,navigatable:o,pagerId:null}),i.pager=new n.ui.Pager(t,a)))},_selectable:function(){var i,r,o=this,l=o.options.selectable,s=o.options.navigatable;l&&(i=n.ui.Selectable.parseOptions(l).multiple,o.selectable=new n.ui.Selectable(o.element,{aria:!0,multiple:i,filter:o.options.contentElement?".k-listview-content "+p:p,change:function(){o.trigger(a)}}),i&&o.element.attr("aria-multiselectable",!0),s&&o.element.on("keydown"+D,function(n){if(e(n.target).is(o.element)&&n.keyCode===c.SPACEBAR){if(r=o.current(),n.target==n.currentTarget&&n.preventDefault(),i)if(n.ctrlKey){if(r&&r.hasClass(h))return r.removeClass(h),o.trigger(a),t}else o.selectable.clear();else o.selectable.clear();o.selectable.value(r)}}))},_scrollable:function(){var e=this,t=e.options.scrollable;t&&(e.content.css({"overflow-y":"scroll",position:"relative","-webkit-overflow-scrolling":"touch"}),"endless"===t&&e._bindScrollable())},_bindScrollable:function(){var e=this,t=e._endlessPageSize=e.dataSource.options.pageSize;e.content.off("scroll"+D).on("scroll"+D,function(){this.scrollTop+this.clientHeight-this.scrollHeight>=-15&&!e._endlessFetchInProgress&&e._endlessPageSize<e.dataSource.total()&&(e._skipRerenderItemsCount=e._endlessPageSize,e._endlessPageSize=e._skipRerenderItemsCount+t,e.dataSource.options.endless=!0,e._endlessFetchInProgress=!0,e.dataSource.pageSize(e._endlessPageSize))})},current:function(e){var n=this,a=n.element,i=n._current,r=n._itemId;return e===t?i:(i&&i[0]&&(i[0].id===r&&i.removeAttr("id"),i.removeClass(f),a.removeAttr("aria-activedescendant")),e&&e[0]&&(r=e[0].id||r,n._scrollTo(e[0]),a.attr("aria-activedescendant",r),e.addClass(f).attr("id",r)),n._current=e,t)},_scrollTo:function(t){var n,a,i=this,r=i.content,o=!1,l="scroll";"auto"===r.css("overflow")||r.css("overflow")===l||r.css("overflow-y")===l?n=r[0]:(n=window,o=!0),a=function(a,i){var r=o?e(t).offset()[a.toLowerCase()]:t["offset"+a],s=t["client"+i],c=e(n)[l+a](),d=e(n)[i.toLowerCase()]();r+s>c+d?e(n)[l+a](r+s-d):r<c&&e(n)[l+a](r)},a("Top","Height"),a("Left","Width")},_navigatable:function(){var t=this,a=t.options.navigatable,i=t.element,r=t.content,o=function(a){t.current(e(a.currentTarget)),e(a.target).is(":button, a, :input, a > .k-icon, textarea")||n.focusElement(i)};a&&(t._tabindex(),i.on("focus"+D,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)}).on("focusout"+D,function(){t._current&&t._current.removeClass(f)}).on("keydown"+D,t,function(a){var i,o,l=a.keyCode,s=t.current(),d=e(a.target),u=!d.is(":button, textarea, a, a > .t-icon, input"),p=d.is(":text, :password"),m=n.preventDefault,g=r.find("."+b),f=z(),h=t.options.scrollable;if(d.is(t.element)&&(u||p||l===c.ESC)&&(!p||l===c.ESC||l===c.ENTER)&&(l!==c.UP&&l!==c.LEFT||(s&&s[0]&&(s=s.prev()),s&&s[0]?t.current(s):h||t.current(t._item("last")),m(a)),l!==c.DOWN&&l!==c.RIGHT||(h?"endless"!==t.options.scrollable||s.next().length?(s=s.next(),s&&s[0]&&t.current(s)):(t.content[0].scrollTop=t.content[0].scrollHeight,t._focusNext=!0):(s=s.next(),t.current(s&&s[0]?s:t._item("first"))),m(a)),l===c.PAGEUP&&(t.current(null),t.dataSource.page(t.dataSource.page()-1),m(a)),l===c.PAGEDOWN&&(t.current(null),t.dataSource.page(t.dataSource.page()+1),m(a)),l===c.HOME&&(t.current(t._item("first")),m(a)),l===c.END&&(t.current(t._item("last")),m(a)),l===c.ENTER&&(0!==g.length&&(u||p)?(i=t.items().index(g),f&&f.blur(),t.save(),o=function(){t.element.trigger("focus"),t.current(t.items().eq(i))},t.one("dataBound",o)):""!==t.options.editTemplate&&t.edit(s)),l===c.ESC)){if(g=r.find("."+b),0===g.length)return;i=t.items().index(g),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(i))}}),i.on(H+D+" "+I+D,t.options.contentElement?".k-listview-content "+p:p,F(o,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(a)},select:function(n){var a=this,i=a.selectable;return n=e(n),n.length?(i.options.multiple||(i.clear(),n=n.first()),i.value(n),t):i.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(n.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(){var e,t,a,i=this,r=i.editable,o=i.options,l=o.selectable||o.navigatable?"option":"listitem",s=i.template;return r&&(r.element.index()%2&&(s=i.altTemplate),i.angular("cleanup",function(){return{elements:[r.element]}}),e=i._modelFromElement(r.element),i._destroyEditable(),a=r.element.index(),r.element.replaceWith(s(e)),t=i.items().eq(a),t.attr(n.attr("uid"),e.uid),t.attr("role",l),i._hasBindingTarget()&&n.bind(t,e),i.angular("compile",function(){return{elements:[t],data:[{dataItem:e}]}})),!0},edit:function(e){var t,a,i=this,r=i._modelFromElement(e),o=r.uid;i.cancel(),e=i.items().filter("["+n.attr("uid")+"="+o+"]"),a=e.index(),e.replaceWith(i.editTemplate(r)),t=i.items().eq(a).addClass(b).attr(n.attr("uid"),r.uid),i.editable=t.kendoEditable({model:r,clearContainer:!1,errorTemplate:!1,target:i}).data("kendoEditable"),i.trigger(x,{model:r,item:t})},save:function(){var e,t,n=this,a=n.editable;a&&(t=a.element,e=n._modelFromElement(t),a.end()&&!n.trigger(T,{model:e,item:t})&&(n._closeEditable(),n.dataSource.sync()))},remove:function(e){var t=this,n=t.dataSource,a=t._modelFromElement(e);t.editable&&(n.cancelChanges(t._modelFromElement(t.editable.element)),t._closeEditable()),t.trigger(C,{model:a,item:e})||(e.hide(),n.remove(a),n.sync())},add:function(){var e,t=this,n=t.dataSource,a=n.indexOf((n.view()||[])[0]);a<0&&(a=0),t.cancel(),e=n.insert(a,{}),t.edit(t.element.find("[data-uid='"+e.uid+"']"))},cancel:function(){var e,t,n=this,a=n.dataSource;n.editable&&(e=n.editable.element,t=n._modelFromElement(e),n.trigger(r,{model:t,container:e})||(a.cancelChanges(t),n._closeEditable()))},_crudHandlers:function(){var t=this,a=H+D,i=I+D,r=P+D;t.content.on(a+" "+i,".k-edit-button",function(a){a.preventDefault();var i=e(this).closest("["+n.attr("uid")+"]");setTimeout(function(){t.edit(i)})}),t.content.on(a+" "+i,".k-delete-button",function(a){a.preventDefault();var i=e(this).closest("["+n.attr("uid")+"]");setTimeout(function(){t.remove(i)})}),t.content.on(r,".k-update-button",function(e){t.save(),e.preventDefault()}),t.content.on(r,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;s.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(D),e.content.off(D),e._endlessFetchInProgress=e._endlessPageSize=e._skipRerenderItemsCount=e._focusNext=null,e.pager&&e.pager.destroy(),n.destroy(e.element)}});n.ui.plugin(O)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,n){(n||t)()});
//# sourceMappingURL=kendo.listview.min.js.map
