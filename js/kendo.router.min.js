/**
 * Copyright 2025 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.core.js")):"function"==typeof define&&define.amd?define(["exports","kendo.core.min"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendorouter=t.kendorouter||{},t.kendorouter.js={}))}(this,(function(t){!function(t){var e=window.kendo,n="change",r="same",i=e.support,o=window.location,a=window.history,s=e.support.browser.msie,h=/^#*/,c=window.document;function u(t,e){return e?(t+"/"===e&&(t=e),new RegExp("^"+e,"i").test(t)||(t=e+"/"+t),o.protocol+"//"+(o.host+"/"+t).replace(/\/\/+/g,"/")):t}function l(t){return t?"#!":"#"}function d(t){var e=o.href;return"#!"===t&&e.indexOf("#")>-1&&e.indexOf("#!")<0?null:e.split(t)[1]||""}function f(t,e){return 0===e.indexOf(t)?e.substr(t.length).replace(/\/\//g,"/"):e}var p=e.Class.extend({back:function(){s?setTimeout((function(){a.back()})):a.back()},forward:function(){s?setTimeout((function(){a.forward()})):a.forward()},length:function(){return a.length},replaceLocation:function(t){o.replace(t)}});var g=p.extend({init:function(t){this.root=t},navigate:function(t){a.pushState({},c.title,u(t,this.root))},replace:function(t){a.replaceState({},c.title,u(t,this.root))},normalize:function(t){return f(this.root,t)},current:function(){var t=o.pathname;return o.search&&(t+=o.search),f(this.root,t)},change:function(e){t(window).bind("popstate.kendo",e)},stop:function(){t(window).unbind("popstate.kendo")},normalizeCurrent:function(t){var e,n=t.root,r=o.pathname,i=d(l(t.hashBang));n===r+"/"&&(e=n),n===r&&i&&(e=u(i.replace(h,""),n)),e&&a.pushState({},c.title,e)}});function b(t){return t.replace(/^(#)?/,"#")}function v(t){return t.replace(/^(#(!)?)?/,"#!")}var k=p.extend({init:function(t){this._id=e.guid(),this.prefix=l(t),this.fix=t?v:b},navigate:function(t){o.hash=this.fix(t)},replace:function(t){this.replaceLocation(this.fix(t))},normalize:function(t){return t.indexOf(this.prefix)<0?t:t.split(this.prefix)[1]},change:function(e){i.hashChange?t(window).on("hashchange."+this._id,e):this._interval=setInterval(e,50)},stop:function(){t(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return d(this.prefix)},normalizeCurrent:function(t){var e=o.pathname,n=t.root;return!(!t.pushState||n===e)&&(this.replaceLocation(n+this.prefix+f(n,e)),!0)}});var w=e.Observable.extend({start:function(e){if(e=e||{},this.bind([n,"back",r],e),!this._started){this._started=!0,e.root=e.root||"/";var i,o=this.createAdapter(e);o.normalizeCurrent(e)||(i=o.current(),t.extend(this,{adapter:o,root:e.root,historyLength:o.length(),current:i,locations:[i]}),o.change(this._checkUrl.bind(this)))}},createAdapter:function(t){return i.pushState&&t.pushState?new g(t.root):new k(t.hashBang)},stop:function(){this._started&&(this.adapter.stop(),this.unbind(n),this._started=!1)},change:function(t){this.bind(n,t)},replace:function(t,e){this._navigate(t,e,(function(e){e.replace(t),this.locations[this.locations.length-1]=this.current}))},navigate:function(t,e){if("#:back"===t)return this.backCalled=!0,void this.adapter.back();this._navigate(t,e,(function(e){e.navigate(t),this.locations.push(this.current)}))},_navigate:function(t,e,i){var o=this.adapter;t=o.normalize(t),this.current!==t&&this.current!==decodeURIComponent(t)?!e&&this.trigger(n,{url:t,decode:!1})||(this.current=t,i.call(this,o),this.historyLength=o.length()):this.trigger(r)},_checkUrl:function(){var t=this.adapter,e=t.current(),r=t.length(),i=this.historyLength===r,o=e===this.locations[this.locations.length-2]&&i,a=this.backCalled,s=this.current;return null===e||this.current===e||this.current===decodeURIComponent(e)||(this.historyLength=r,this.backCalled=!1,this.current=e,o&&this.trigger("back",{url:s,to:e})?(t.forward(),void(this.current=s)):this.trigger(n,{url:e,backButtonPressed:!a})?(o?t.forward():(t.back(),this.historyLength--),void(this.current=s)):void(o?this.locations.pop():this.locations.push(e)))}});e.History=w,e.History.HistoryAdapter=p,e.History.HashAdapter=k,e.History.PushStateAdapter=g,e.absoluteURL=u,e.history=new w}(window.kendo.jQuery);var e=kendo;!function(){var t=window.kendo,e=t.history,n=t.Observable,r="init",i="routeMissing",o="change",a="back",s="same",h=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,u=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g;function d(t,e){return e?t:"([^/]+)"}function f(t){return t.replace(/(\?.*)|(#.*)/g,"")}var p=t.Class.extend({init:function(t,e,n){t instanceof RegExp||(t=function(t,e){return new RegExp("^"+t.replace(l,"\\$&").replace(h,"(?:$1)?").replace(c,d).replace(u,"(.*?)")+"$",e?"i":"")}(t,n)),this.route=t,this._callback=e},callback:function(e,n,r){var i,o,a=0,s=t.parseQueryStringParams(e);if(s._back=n,e=f(e),o=(i=this.route.exec(e).slice(1)).length,r)for(;a<o;a++)void 0!==i[a]&&(i[a]=decodeURIComponent(i[a]));i.push(s),this._callback.apply(null,i)},worksWith:function(t,e,n){return!!this.route.test(f(t))&&(this.callback(t,e,n),!0)}});var g=n.extend({init:function(t){t||(t={}),n.fn.init.call(this),this.routes=[],this.pushState=t.pushState,this.hashBang=t.hashBang,this.root=t.root,this.ignoreCase=!1!==t.ignoreCase,this.bind([r,i,o,s,a],t)},destroy:function(){e.unbind(o,this._urlChangedProxy),e.unbind(s,this._sameProxy),e.unbind(a,this._backProxy),this.unbind()},start:function(){var t=this,n=function(e){t._back(e)},i=function(e){t._urlChanged(e)};e.start({same:function(){t._same()},change:i,back:n,pushState:t.pushState,hashBang:t.hashBang,root:t.root});var o={url:e.current||"/",preventDefault:$.noop};t.trigger(r,o)||t._urlChanged(o),this._urlChangedProxy=i,this._backProxy=n},route:function(t,e){this.routes.push(new p(t,e,this.ignoreCase))},navigate:function(e,n){t.history.navigate(e,n)},replace:function(e,n){t.history.replace(e,n)},_back:function(t){this.trigger(a,{url:t.url,to:t.to})&&t.preventDefault()},_same:function(){this.trigger(s)},_urlChanged:function(e){var n=e.url;var r=!!e.decode;var a=e.backButtonPressed;if(n||(n="/"),this.trigger(o,{url:e.url,params:t.parseQueryStringParams(e.url),backButtonPressed:a}))e.preventDefault();else{var s=0,h=this.routes,c=h.length;for(;s<c;s++)if(h[s].worksWith(n,a,r))return;this.trigger(i,{url:n,params:t.parseQueryStringParams(n),backButtonPressed:a})&&e.preventDefault()}}});t.Router=g}(),t.__meta__={id:"router",name:"Router",category:"framework",description:"The Router class is responsible for tracking the application state and navigating between the application states.",depends:["core"],hidden:!1},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.router.min.js.map
