{"version":3,"file":"kendo.dropdownbutton.min.js","sources":["kendo.dropdownbutton.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.dropdownbutton',[\"kendo.html.button\", \"kendo.button.menu\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"dropdownbutton\",\n    name: \"DropDownButton\",\n    category: \"web\",\n    description: \"The DropDownButton allows the user to execute an action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoDropDownButton\",\n        ui = kendo.ui,\n        keys = kendo.keys,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\";\n\n    var cssClasses = {\n        menuButton: \"k-menu-button\"\n    };\n\n    var DropDownButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that.wrapper = that.element;\n\n            that._mainButton();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"DropDownButton\",\n            enabled: true,\n            items: [],\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            icon: null,\n            popup: null,\n            messages: {\n                labelSuffix: \"dropdownbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            that.element.addClass(cssClasses.menuButton);\n\n            html.renderButton(that.element, options);\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            if (!options.items.length) {\n                return;\n            }\n\n            that.menu = menu.appendTo(document.body).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.element,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.element);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n        },\n\n        _click: function(ev) {\n            var that = this,\n                id = ev.id,\n                target = ev.target,\n                originalEvent = ev.originalEvent;\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu._popup.open();\n        },\n\n        close: function() {\n            this.menu._popup.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._mainButton();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.menu.destroy();\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    ui.plugin(DropDownButton);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","NS","keys","extend","html","outerWidth","_outerWidth","DOT","ID","ARIA_HASPOPUP","ARIA_DISABLED","ARIA_CONTROLS","ARIA_LABEL","ARIA_EXPANDED","DISABLED","DISABLEDSTATE","CLICK","KEYDOWN","OPEN","CLOSE","FOCUS","cssClasses","menuButton","DropDownButton","init","element","options","that","this","enabled","prop","fn","call","wrapper","_mainButton","_renderMenu","_enable","_aria","_attachEvents","notify","_applyCssClasses","items","rounded","size","fillMode","themeColor","icon","popup","messages","labelSuffix","events","type","attr","click","addClass","renderButton","menu","list","text","length","appendTo","document","body","kendoButtonMenu","mainButton","toggleTarget","menuOpen","menuOpenHandler","bind","menuClose","menuCloseHandler","menuClick","_click","data","ev","computedWidth","isDefaultPrevented","trigger","target","preventDefault","sender","adjustPopupWidth","on","_keydown","originalEvent","close","is","keyCode","ENTER","SPACEBAR","focus","enable","soft","toggleClass","removeAttr","menuItem","hide","show","open","_popup","setOptions","destroy","off","plugin","amd","a1","a2","a3"],"mappings":"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"}