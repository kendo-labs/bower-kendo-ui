/**
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){"function"==typeof define&&define.amd?define(["kendo.core.min","kendo.binder.min","kendo.fx.min"],e):e()}((function(){var e,t,n,i,r,o,a,s,d,c,h,l,f,u,w,p,v,g,m,_,y,V,C,S,b,x,E,k,T,I,O,B,W,H;e=window.kendo.jQuery,t=window.kendo,n=t.attr,i=t.ui,r=t.attrValue,o=t.directiveSelector,a=t.Observable,s=t.ui.Widget,d=t.roleSelector,c="init",h="transitionStart",l="transitionEnd",f="show",u="hide",w=/unrecognized expression/,p=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,v="showStart",g="sameViewRequested",m="viewShow",_="viewTypeDetermined",y="after",V="k-content",C="k-view",S="k-stretched-view",b="k-widget",x="k-header",E="k-footer",k=t.ui.Widget.extend({init:function(n,i){var r=this;i=i||{},r.id=t.guid(),a.fn.init.call(r),this.options=e.extend({},this.options,i),r.content=n,r.options.renderOnInit&&s.fn.init.call(r,r._createElement(),i),r.options.wrapInSections&&r._renderSections(),r.tagName=i.tagName||"div",r.model=i.model,r._wrap=!1!==i.wrap,this._evalTemplate=i.evalTemplate||!1,this._useWithBlock=i.useWithBlock,r._fragments={},r.bind([c,f,u,h,l],i)},options:{name:"View",renderOnInit:!1,wrapInSections:!1,detachOnHide:!0,detachOnDestroy:!0},render:function(n){var i=this,r=!i.element;return r&&(i.element=i._createElement()),n&&e(n).append(i.element),r&&(t.bind(i.element,i.model),i.trigger(c)),n&&(i._eachFragment("attach"),i.trigger(f)),i.element},clone:function(){return new T(this)},triggerBeforeShow:function(){return!0},triggerBeforeHide:function(){return!0},showStart:function(){var e=this.render();e&&e.css("display",""),this.trigger(v,{view:this})},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(h,{type:e})},afterTransition:function(e){this.trigger(l,{type:e})},hide:function(){this.options.detachOnHide&&(this._eachFragment("detach"),e(this.element).detach()),this.trigger(u)},destroy:function(){var e=this,n=e.element;n&&(s.fn.destroy.call(e),t.unbind(n),t.destroy(n),e.options.detachOnDestroy&&n.remove())},purge:function(){var t=this;t.destroy(),e(t.element).add(t.content).add(t.wrapper).off().remove()},fragments:function(t){e.extend(this._fragments,t)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var n,i,r=this,o="<"+r.tagName+">";try{"SCRIPT"===(i=e(document.getElementById(r.content)||r.content))[0].tagName&&(i=i.html())}catch(e){w.test(e.message)&&(i=r.content)}if("string"==typeof i)i=i.replace(/^\s+|\s+$/g,""),r._evalTemplate&&(i=t.template(i,{useWithBlock:r._useWithBlock})(r.model||{})),n=e(o).append(i),r._wrap||(n=n.contents());else{if(n=i,r._evalTemplate){var a=e(t.template(e("<div />").append(n.clone(!0)).html(),{useWithBlock:r._useWithBlock})(r.model||{}));e.contains(document,n[0])&&n.replaceWith(a),n=a}r._wrap&&(n=n.wrapAll(o).parent())}return n},_renderSections:function(){var e=this;e.options.wrapInSections&&(e._wrapper(),e._createContent(),e._createHeader(),e._createFooter())},_wrapper:function(){var e=this,n=e.content;n.is(d("view"))?e.wrapper=e.content:e.wrapper=n.wrap("<div data-"+t.ns+'stretch="true" data-'+t.ns+'role="view" data-'+t.ns+'init-widgets="false"></div>').parent();var i=e.wrapper;i.attr("id",e.id),i.addClass(C),i.addClass(b),i.attr("role","view")},_createContent:function(){var t=e(this.wrapper),i=d("content");t.children(i)[0]||t.children().filter((function(){var t=e(this);if(!t.is(d("header"))&&!t.is(d("footer")))return t})).wrap("<div "+n("role")+'="content"></div>'),this.contentElement=t.children(d("content")),this.contentElement.addClass(S).addClass(V)},_createHeader:function(){var e=this.wrapper;this.header=e.children(d("header")).addClass(x)},_createFooter:function(){var e=this.wrapper;this.footer=e.children(d("footer")).addClass(E)}}),T=t.Class.extend({init:function(t){e.extend(this,{element:t.element.clone(!0),transition:t.transition,id:t.id}),t.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:e.noop,afterTransition:e.noop}),I=k.extend({init:function(e,t){k.fn.init.call(this,e,t),this.containers={}},container:function(e){var t=this.containers[e];return t||(t=this._createContainer(e),this.containers[e]=t),t},showIn:function(e,t,n){this.container(e).show(t,n)},_createContainer:function(e){var t,n=this.render(),i=n.find(e);if(!i.length&&n.is(e)){if(!n.is(e))throw new Error("can't find a container with the specified "+e+" selector");i=n}return(t=new W(i)).bind("accepted",(function(e){e.view.render(i)})),t}}),O=k.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),B=/^(\w+)(:(\w+))?( (\w+))?$/,W=a.extend({init:function(e){a.fn.init.call(this),this.container=e,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(e,n,i){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide())return this.trigger("after"),!1;i=i||e.id;var r=this,o=e===r.view?e.clone():r.view,a=r.history,s=(a[a.length-2]||{}).id===i,d=n||(s?a[a.length-1].transition:e.transition),c=function(e){if(!e)return{};var t=e.match(B)||[];return{type:t[1],direction:t[3],reverse:"reverse"===t[5]}}(d);return r.running&&r.effect.stop(),"none"===d&&(d=null),r.trigger("accepted",{view:e}),r.view=e,r.previous=o,r.running=!0,s?a.pop():a.push({id:i,transition:d}),o?(d&&t.effects.enabled?(e.element.addClass("k-fx-hidden"),e.showStart(),s&&!n&&(c.reverse=!c.reverse),r.effect=t.fx(e.element).replace(o.element,c.type).beforeTransition((function(){e.beforeTransition("show"),o.beforeTransition("hide")})).afterTransition((function(){e.afterTransition("show"),o.afterTransition("hide")})).direction(c.direction).setReverse(c.reverse),r.effect.run().then((function(){r.end()}))):(e.showStart(),r.end()),!0):(e.showStart(),e.showEnd(),r.after(),!0)},destroy:function(){var e=this.view;e&&e.destroy&&e.destroy()}}),H=a.extend({init:function(n){var i,r,o=this;a.fn.init.call(o),o.options=n,e.extend(o,n),o.sandbox=e("<div />"),r=o.container,i=o._hideViews(r),o.rootView=i.first(),o.layouts={},o.viewContainer=new t.ViewContainer(o.container),o.viewContainer.bind("accepted",(function(e){e.view.params=o.params})),o.viewContainer.bind("complete",(function(e){o.trigger(m,{view:e.view})})),o.viewContainer.bind(y,(function(){o.trigger(y)})),this.bind(this.events,n)},events:[v,y,m,"loadStart","loadComplete",g,_],destroy:function(){var e=this,n=e.viewContainer;for(var i in t.destroy(e.container),e.layouts)this.layouts[i].destroy();n&&n.destroy()},view:function(){return this.viewContainer.view},showView:function(e,n,i){if(""===(e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),""))&&this.remoteViewURLPrefix&&(e="/"),e.replace(/^#/,"")===this.url)return this.trigger(g),!1;this.trigger(v);var r=this,o=r._findViewElement(e),a=t.widgetInstance(o);return r.url=e.replace(/^#/,""),r.params=i,a&&a.reload&&(a.purge(),o=[]),this.trigger(_,{remote:0===o.length,url:e}),!o[0]||(a||(a=r._createView(o)),r.viewContainer.show(a,n,e))},append:function(e,t){var i,r,o=this.sandbox,a=(t||"").split("?")[0],s=this.container;return p.test(e)&&(e=RegExp.$1),o[0].innerHTML=e,s.append(o.children("script, style")),(r=(i=this._hideViews(o)).first()).length||(i=r=o.wrapInner("<div data-role=view />").children()),a&&r.hide().attr(n("url"),a),s.append(i),this._createView(r)},_locate:function(e){return this.$angular?o(e):d(e)},_findViewElement:function(e){var t,i=e.split("?")[0];return i?((t=this.container.children("["+n("url")+"='"+i+"']"))[0]||-1!==i.indexOf("/")||(t=this.container.children("#"===i.charAt(0)?i:"#"+i)),t[0]||(t=this._findViewElementById(e)),t):this.rootView},_findViewElementById:function(e){return this.container.children("[id='"+e+"']")},_createView:function(e){return this._createSpaView(e)},_createMobileView:function(e){return t.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:r(e,"reload")},i.roles)},_createSpaView:function(e){var n=(this.options||{}).viewOptions||{};return new t.View(e,{renderOnInit:n.renderOnInit,wrap:n.wrap||!1,wrapInSections:n.wrapInSections,detachOnHide:n.detachOnHide,detachOnDestroy:n.detachOnDestroy})},_hideViews:function(e){return e.children(this._locate("view")).hide()}}),t.ViewEngine=H,t.ViewContainer=W,t.Fragment=O,t.Layout=I,t.View=k,t.ViewClone=T}));
//# sourceMappingURL=kendo.view.min.js.map
