/**
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(define){define("kendo.view.min",["kendo.core.min","kendo.binder.min","kendo.fx.min"],function(){var e={id:"view",name:"View",category:"framework",description:"The View class instantiates and handles the events of a certain screen from the application.",depends:["core","binder","fx"],hidden:false},a=window.kendo.jQuery,t=void 0,h=window.kendo,s=h.attr,l=h.ui,u=h.attrValue,w=h.directiveSelector,r=h.Observable,n=h.ui.Widget,o=h.roleSelector,p="SCRIPT",v="init",g="transitionStart",m="transitionEnd",_="show",y="hide",V="attach",C="detach",S=/unrecognized expression/,b=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,x="loadStart",k="loadComplete",d="showStart",E="sameViewRequested",T="viewShow",I="viewTypeDetermined",c="after",f={content:"k-content",view:"k-view",stretchedView:"k-stretched-view",widget:"k-widget",header:"k-header",footer:"k-footer"},i=h.ui.Widget.extend({init:function(e,t){var i=this;t=t||{};i.id=h.guid();r.fn.init.call(i);this.options=a.extend({},this.options,t);i.content=e;if(i.options.renderOnInit)n.fn.init.call(i,i._createElement(),t);if(i.options.wrapInSections)i._renderSections();i.tagName=t.tagName||"div";i.model=t.model;i._wrap=t.wrap!==false;this._evalTemplate=t.evalTemplate||false;this._useWithBlock=t.useWithBlock;i._fragments={};i.bind([v,_,y,g,m],t)},options:{name:"View",renderOnInit:false,wrapInSections:false,detachOnHide:true,detachOnDestroy:true},render:function(e){var t=this,i=!t.element;if(i)t.element=t._createElement();if(e)a(e).append(t.element);if(i){h.bind(t.element,t.model);t.trigger(v)}if(e){t._eachFragment(V);t.trigger(_)}return t.element},clone:function(){return new O(this)},triggerBeforeShow:function(){return true},triggerBeforeHide:function(){return true},showStart:function(){var e=this;var t=e.render();if(t)t.css("display","");this.trigger(d,{view:this})},showEnd:function(){},hideEnd:function(){this.hide()},beforeTransition:function(e){this.trigger(g,{type:e})},afterTransition:function(e){this.trigger(m,{type:e})},hide:function(){if(this.options.detachOnHide){this._eachFragment(C);a(this.element).detach()}this.trigger(y)},destroy:function(){var e=this;var t=e.element;if(t){n.fn.destroy.call(e);h.unbind(t);h.destroy(t);if(e.options.detachOnDestroy)t.remove()}},purge:function(){var e=this;e.destroy();a(e.element).add(e.content).add(e.wrapper).off().remove()},fragments:function(e){a.extend(this._fragments,e)},_eachFragment:function(e){for(var t in this._fragments)this._fragments[t][e](this,t)},_createElement:function(){var t=this,e="<"+t.tagName+">",i,n;try{n=a(document.getElementById(t.content)||t.content);if(n[0].tagName===p)n=n.html()}catch(e){if(S.test(e.message))n=t.content}if(typeof n==="string"){n=n.replace(/^\s+|\s+$/g,"");if(t._evalTemplate)n=h.template(n,{useWithBlock:t._useWithBlock})(t.model||{});i=a(e).append(n);if(!t._wrap)i=i.contents()}else{i=n;if(t._evalTemplate){var r=a(h.template(a("<div />").append(i.clone(true)).html(),{useWithBlock:t._useWithBlock})(t.model||{}));if(a.contains(document,i[0]))i.replaceWith(r);i=r}if(t._wrap)i=i.wrapAll(e).parent()}return i},_renderSections:function(){var e=this;if(e.options.wrapInSections){e._wrapper();e._createContent();e._createHeader();e._createFooter()}},_wrapper:function(){var e=this;var t=e.content;if(t.is(o("view")))e.wrapper=e.content;else e.wrapper=t.wrap("<div data-"+h.ns+'stretch="true" data-'+h.ns+'role="view" data-'+h.ns+'init-widgets="false"></div>').parent();var i=e.wrapper;i.attr("id",e.id);i.addClass(f.view);i.addClass(f.widget);i.attr("role","view")},_createContent:function(){var e=this;var t=a(e.wrapper);var i=o("content");if(!t.children(i)[0]){var n=t.children().filter(function(){var e=a(this);if(!e.is(o("header"))&&!e.is(o("footer")))return e});n.wrap("<div "+s("role")+'="content"></div>')}this.contentElement=t.children(o("content"));this.contentElement.addClass(f.stretchedView).addClass(f.content)},_createHeader:function(){var e=this;var t=e.wrapper;this.header=t.children(o("header")).addClass(f.header)},_createFooter:function(){var e=this;var t=e.wrapper;this.footer=t.children(o("footer")).addClass(f.footer)}}),O=h.Class.extend({init:function(e){a.extend(this,{element:e.element.clone(true),transition:e.transition,id:e.id});e.element.parent().append(this.element)},hideEnd:function(){this.element.remove()},beforeTransition:a.noop,afterTransition:a.noop}),B=i.extend({init:function(e,t){i.fn.init.call(this,e,t);this.containers={}},container:function(e){var t=this.containers[e];if(!t){t=this._createContainer(e);this.containers[e]=t}return t},showIn:function(e,t,i){this.container(e).show(t,i)},_createContainer:function(e){var t=this.render(),i=t.find(e),n;if(!i.length&&t.is(e))if(t.is(e))i=t;else throw new Error("can't find a container with the specified "+e+" selector");n=new F(i);n.bind("accepted",function(e){e.view.render(i)});return n}}),W=i.extend({attach:function(e,t){e.element.find(t).replaceWith(this.render())},detach:function(){}}),H=/^(\w+)(:(\w+))?( (\w+))?$/;function R(e){if(!e)return{};var t=e.match(H)||[];return{type:t[1],direction:t[3],reverse:t[5]==="reverse"}}var F=r.extend({init:function(e){r.fn.init.call(this);this.container=e;this.history=[];this.view=null;this.running=false},after:function(){this.running=false;this.trigger("complete",{view:this.view});this.trigger("after")},end:function(){this.view.showEnd();this.previous.hideEnd();this.after()},show:function(e,t,i){if(!e.triggerBeforeShow()||this.view&&!this.view.triggerBeforeHide()){this.trigger("after");return false}i=i||e.id;var n=this,r=e===n.view?e.clone():n.view,a=n.history,o=a[a.length-2]||{},s=o.id===i,d=t||(s?a[a.length-1].transition:e.transition),c=R(d);if(n.running)n.effect.stop();if(d==="none")d=null;n.trigger("accepted",{view:e});n.view=e;n.previous=r;n.running=true;if(!s)a.push({id:i,transition:d});else a.pop();if(!r){e.showStart();e.showEnd();n.after();return true}if(!d||!h.effects.enabled){e.showStart();n.end()}else{e.element.addClass("k-fx-hidden");e.showStart();if(s&&!t)c.reverse=!c.reverse;n.effect=h.fx(e.element).replace(r.element,c.type).beforeTransition(function(){e.beforeTransition("show");r.beforeTransition("hide")}).afterTransition(function(){e.afterTransition("show");r.afterTransition("hide")}).direction(c.direction).setReverse(c.reverse);n.effect.run().then(function(){n.end()})}return true},destroy:function(){var e=this;var t=e.view;if(t&&t.destroy)t.destroy()}}),L=r.extend({init:function(e){var t=this,i,n;r.fn.init.call(t);t.options=e;a.extend(t,e);t.sandbox=a("<div />");n=t.container;i=t._hideViews(n);t.rootView=i.first();t.layouts={};t.viewContainer=new h.ViewContainer(t.container);t.viewContainer.bind("accepted",function(e){e.view.params=t.params});t.viewContainer.bind("complete",function(e){t.trigger(T,{view:e.view})});t.viewContainer.bind(c,function(){t.trigger(c)});this.bind(this.events,e)},events:[d,c,T,x,k,E,I],destroy:function(){var e=this;var t=e.viewContainer;h.destroy(e.container);for(var i in e.layouts)this.layouts[i].destroy();if(t)t.destroy()},view:function(){return this.viewContainer.view},showView:function(e,t,i){e=e.replace(new RegExp("^"+this.remoteViewURLPrefix),"");if(e===""&&this.remoteViewURLPrefix)e="/";if(e.replace(/^#/,"")===this.url){this.trigger(E);return false}this.trigger(d);var n=this,r=n._findViewElement(e),a=h.widgetInstance(r);n.url=e.replace(/^#/,"");n.params=i;if(a&&a.reload){a.purge();r=[]}this.trigger(I,{remote:r.length===0,url:e});if(r[0]){if(!a)a=n._createView(r);return n.viewContainer.show(a,t,e)}else return true},append:function(e,t){var i=this.sandbox,n=(t||"").split("?")[0],r=this.container,a,o;if(b.test(e))e=RegExp.$1;i[0].innerHTML=e;r.append(i.children("script, style"));a=this._hideViews(i);o=a.first();if(!o.length)a=o=i.wrapInner("<div data-role=view />").children();if(n)o.hide().attr(s("url"),n);r.append(a);return this._createView(o)},_locate:function(e){return this.$angular?w(e):o(e)},_findViewElement:function(e){var t,i=e.split("?")[0];if(!i)return this.rootView;t=this.container.children("["+s("url")+"='"+i+"']");if(!t[0]&&i.indexOf("/")===-1)t=this.container.children(i.charAt(0)==="#"?i:"#"+i);if(!t[0])t=this._findViewElementById(e);return t},_findViewElementById:function(e){var t=this.container.children("[id='"+e+"']");return t},_createView:function(e){return this._createSpaView(e)},_createMobileView:function(e){return h.initWidget(e,{defaultTransition:this.transition,loader:this.loader,container:this.container,getLayout:this.getLayoutProxy,modelScope:this.modelScope,reload:u(e,"reload")},l.roles)},_createSpaView:function(e){var t=(this.options||{}).viewOptions||{};return new h.View(e,{renderOnInit:t.renderOnInit,wrap:t.wrap||false,wrapInSections:t.wrapInSections,detachOnHide:t.detachOnHide,detachOnDestroy:t.detachOnDestroy})},_hideViews:function(e){return e.children(this._locate("view")).hide()}});return h.ViewEngine=L,h.ViewContainer=F,h.Fragment=W,h.Layout=B,h.View=i,h.ViewClone=O,window.kendo})}("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()});
//# sourceMappingURL=kendo.view.min.js.map
