{"version":3,"file":"kendo.mobile.button.min.js","sources":["kendo.mobile.button.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.mobile.button',[ \"kendo.userevents\" ], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"mobile.button\",\n    name: \"Button\",\n    category: \"mobile\",\n    description: \"The Button widget navigates between mobile Application views when pressed.\",\n    depends: [ \"userevents\" ]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        mobile = kendo.mobile,\n        ui = mobile.ui,\n        Widget = ui.Widget,\n        support = kendo.support,\n        os = support.mobileOS,\n        ANDROID3UP = os.android && os.flatVersion >= 300,\n        CLICK = \"click\",\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"km-state-disabled\";\n\n    function highlightButton(widget, event, highlight) {\n        $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n        if (ANDROID3UP && widget.deactivateTimeoutID) {\n            clearTimeout(widget.deactivateTimeoutID);\n            widget.deactivateTimeoutID = 0;\n        }\n    }\n\n    function createBadge(value) {\n        return $('<span class=\"km-badge\">' + value + '</span>');\n    }\n\n    var Button = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            var useTap = that.options.clickOn === \"up\";\n\n            that._wrap();\n            that._style();\n\n            if (!useTap) {\n                that.element.attr(\"data-navigate-on-press\", true);\n            }\n\n            that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n            that.enable(that.options.enable);\n\n            that._userEvents = new kendo.UserEvents(that.element, {\n                allowSelection: !useTap,\n                fastTap: true,\n                press: function(e) {\n                    that._activate(e);\n                },\n                release: function(e) {\n                    highlightButton(that, e, false);\n                    if (!useTap) { e.event.stopPropagation(); }\n                }\n            });\n\n            that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                that._release(e);\n            });\n\n\n            if (ANDROID3UP) {\n                that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n            }\n        },\n\n        destroy: function() {\n            Widget.fn.destroy.call(this);\n            this._userEvents.destroy();\n        },\n\n        events: [\n            CLICK\n        ],\n\n        options: {\n            name: \"Button\",\n            icon: \"\",\n            style: \"\",\n            badge: \"\",\n            clickOn: \"up\",\n            enable: true\n        },\n\n        badge: function(value) {\n            var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n            if (value || value === 0) {\n                badge.html(value);\n                return this;\n            }\n\n            if (value === false) {\n                badge.empty().remove();\n                this.badgeElement = false;\n                return this;\n            }\n\n            return badge.html();\n        },\n\n        enable: function(enable) {\n            var element = this.element;\n\n            if (typeof enable == \"undefined\") {\n                enable = true;\n            }\n\n            this.options.enable = enable;\n\n            if (enable) {\n                element.prop(DISABLED, false);\n            } else {\n                element.attr(DISABLED, DISABLED);\n            }\n\n            element.toggleClass(DISABLEDSTATE, !enable);\n        },\n\n        _timeoutDeactivate: function(e) {\n            if (!this.deactivateTimeoutID) {\n                this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n            }\n        },\n\n        _activate: function(e) {\n            var activeElement = document.activeElement,\n                nodeName = activeElement ? activeElement.nodeName : \"\";\n\n            if (this.options.enable) {\n                highlightButton(this, e, true);\n\n                if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                    activeElement.blur(); // Hide device keyboard\n                }\n            }\n        },\n\n        _release: function(e) {\n            var that = this;\n\n            if (e.which > 1) {\n                return;\n            }\n\n            if (!that.options.enable) {\n                e.preventDefault();\n                return;\n            }\n\n            if (that.trigger(CLICK, { target: $(e.target), button: that.element })) {\n                e.preventDefault();\n            }\n        },\n\n        _style: function() {\n            var style = this.options.style,\n                element = this.element,\n                styles;\n\n            if (style) {\n                styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                badge = that.options.badge,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element.addClass(\"km-button\"),\n                span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!span[0] && element.html()) {\n                span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n            }\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                that.iconElement = element.prepend($(iconSpan + '\" />'));\n            }\n\n            if (badge || badge === 0) {\n                that.badgeElement = createBadge(badge).appendTo(element);\n            }\n        }\n    });\n\n    var BackButton = Button.extend({\n        options: {\n            name: \"BackButton\",\n            style: \"back\"\n        },\n\n        init: function(element, options) {\n            var that = this;\n            Button.fn.init.call(that, element, options);\n\n            if (typeof that.element.attr(\"href\") === \"undefined\") {\n                that.element.attr(\"href\", \"#:back\");\n            }\n        }\n    });\n\n    var DetailButton = Button.extend({\n        options: {\n            name: \"DetailButton\",\n            style: \"\"\n        },\n\n        init: function(element, options) {\n            Button.fn.init.call(this, element, options);\n        },\n\n        _style: function() {\n            var style = this.options.style + \" detail\",\n                element = this.element;\n\n            if (style) {\n                var styles = style.split(\" \");\n                $.each(styles, function() {\n                    element.addClass(\"km-\" + this);\n                });\n            }\n        },\n\n        _wrap: function() {\n            var that = this,\n                icon = that.options.icon,\n                iconSpan = '<span class=\"km-icon km-' + icon,\n                element = that.element,\n                span = element.children(\"span\"),\n                image = element.find(\"img\").addClass(\"km-image\");\n\n            if (!image[0] && icon) {\n                if (!span[0]) {\n                    iconSpan += \" km-notext\";\n                }\n                element.prepend($(iconSpan + '\" />'));\n            }\n        }\n\n    });\n\n    ui.plugin(Button);\n    ui.plugin(BackButton);\n    ui.plugin(DetailButton);\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == 'function' && define.amd ? define : function(a1, a2, a3) { (a3 || a2)(); });\n\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","mobile","ui","Widget","support","os","mobileOS","ANDROID3UP","android","flatVersion","CLICK","DISABLED","DISABLEDSTATE","highlightButton","widget","event","highlight","target","closest","toggleClass","deactivateTimeoutID","clearTimeout","createBadge","value","Button","extend","init","element","options","that","this","fn","call","useTap","clickOn","_wrap","_style","attr","enable","_userEvents","UserEvents","allowSelection","fastTap","press","e","_activate","release","stopPropagation","bind","_release","on","_timeoutDeactivate","destroy","events","icon","style","badge","badgeElement","appendTo","html","empty","remove","prop","setTimeout","activeElement","document","nodeName","blur","which","preventDefault","trigger","button","styles","split","each","addClass","iconSpan","span","children","image","find","wrapInner","iconElement","prepend","BackButton","DetailButton","plugin","amd","a1","a2","a3"],"mappings":"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"}