{"version":3,"file":"kendo.mobile.button.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendomobile","button","js","this","$","undefined$1","kendo","window","ui","mobile","Widget","os","support","mobileOS","ANDROID3UP","android","flatVersion","CLICK","DISABLED","highlightButton","widget","event","highlight","target","closest","toggleClass","deactivateTimeoutID","clearTimeout","createBadge","value","Button","extend","init","element","options","that","fn","call","useTap","clickOn","_wrap","_style","attr","enable","_userEvents","UserEvents","allowSelection","fastTap","press","e","_activate","release","stopPropagation","bind","_release","on","_timeoutDeactivate","destroy","events","name","icon","style","badge","badgeElement","appendTo","html","empty","remove","prop","setTimeout","activeElement","document","nodeName","blur","which","trigger","preventDefault","styles","split","each","addClass","iconSpan","span","children","image","find","wrapInner","iconElement","prepend","BackButton","DetailButton","plugin","jQuery"],"sources":["kendo.mobile.button.js"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('kendo.userevents.js')) :\n    typeof define === 'function' && define.amd ? define(['kendo.userevents'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, (global.kendomobile = global.kendomobile || {}, global.kendomobile.button = global.kendomobile.button || {}, global.kendomobile.button.js = factory()));\n})(this, (function () {\n    var __meta__ = {\n        id: \"mobile.button\",\n        name: \"Button\",\n        category: \"mobile\",\n        description: \"The Button widget navigates between mobile Application views when pressed.\",\n        depends: [ \"userevents\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            mobile = kendo.mobile,\n            ui = mobile.ui,\n            Widget = ui.Widget,\n            support = kendo.support,\n            os = support.mobileOS,\n            ANDROID3UP = os.android && os.flatVersion >= 300,\n            CLICK = \"click\",\n            DISABLED = \"disabled\",\n            DISABLEDSTATE = \"km-state-disabled\";\n\n        function highlightButton(widget, event, highlight) {\n            $(event.target).closest(\".km-button,.km-detail\").toggleClass(\"km-state-active\", highlight);\n\n            if (ANDROID3UP && widget.deactivateTimeoutID) {\n                clearTimeout(widget.deactivateTimeoutID);\n                widget.deactivateTimeoutID = 0;\n            }\n        }\n\n        function createBadge(value) {\n            return $('<span class=\"km-badge\">' + value + '</span>');\n        }\n\n        var Button = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, options);\n                var useTap = that.options.clickOn === \"up\";\n\n                that._wrap();\n                that._style();\n\n                if (!useTap) {\n                    that.element.attr(\"data-navigate-on-press\", true);\n                }\n\n                that.options.enable = that.options.enable && !that.element.attr(DISABLED);\n                that.enable(that.options.enable);\n\n                that._userEvents = new kendo.UserEvents(that.element, {\n                    allowSelection: !useTap,\n                    fastTap: true,\n                    press: function(e) {\n                        that._activate(e);\n                    },\n                    release: function(e) {\n                        highlightButton(that, e, false);\n                        if (!useTap) { e.event.stopPropagation(); }\n                    }\n                });\n\n                that._userEvents.bind(useTap ? \"tap\" : \"press\", function(e) {\n                    that._release(e);\n                });\n\n\n                if (ANDROID3UP) {\n                    that.element.on(\"move\", function(e) { that._timeoutDeactivate(e); });\n                }\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n                this._userEvents.destroy();\n            },\n\n            events: [\n                CLICK\n            ],\n\n            options: {\n                name: \"Button\",\n                icon: \"\",\n                style: \"\",\n                badge: \"\",\n                clickOn: \"up\",\n                enable: true\n            },\n\n            badge: function(value) {\n                var badge = this.badgeElement = this.badgeElement || createBadge(value).appendTo(this.element);\n\n                if (value || value === 0) {\n                    badge.html(value);\n                    return this;\n                }\n\n                if (value === false) {\n                    badge.empty().remove();\n                    this.badgeElement = false;\n                    return this;\n                }\n\n                return badge.html();\n            },\n\n            enable: function(enable) {\n                var element = this.element;\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                this.options.enable = enable;\n\n                if (enable) {\n                    element.prop(DISABLED, false);\n                } else {\n                    element.attr(DISABLED, DISABLED);\n                }\n\n                element.toggleClass(DISABLEDSTATE, !enable);\n            },\n\n            _timeoutDeactivate: function(e) {\n                if (!this.deactivateTimeoutID) {\n                    this.deactivateTimeoutID = setTimeout(highlightButton, 500, this, e, false);\n                }\n            },\n\n            _activate: function(e) {\n                var activeElement = document.activeElement,\n                    nodeName = activeElement ? activeElement.nodeName : \"\";\n\n                if (this.options.enable) {\n                    highlightButton(this, e, true);\n\n                    if (nodeName == \"INPUT\" || nodeName == \"TEXTAREA\") {\n                        activeElement.blur(); // Hide device keyboard\n                    }\n                }\n            },\n\n            _release: function(e) {\n                var that = this;\n\n                if (e.which > 1) {\n                    return;\n                }\n\n                if (!that.options.enable) {\n                    e.preventDefault();\n                    return;\n                }\n\n                if (that.trigger(CLICK, { target: $(e.target), button: that.element })) {\n                    e.preventDefault();\n                }\n            },\n\n            _style: function() {\n                var style = this.options.style,\n                    element = this.element,\n                    styles;\n\n                if (style) {\n                    styles = style.split(\" \");\n                    $.each(styles, function() {\n                        element.addClass(\"km-\" + this);\n                    });\n                }\n            },\n\n            _wrap: function() {\n                var that = this,\n                    icon = that.options.icon,\n                    badge = that.options.badge,\n                    iconSpan = '<span class=\"km-icon km-' + icon,\n                    element = that.element.addClass(\"km-button\"),\n                    span = element.children(\"span:not(.km-icon)\").addClass(\"km-text\"),\n                    image = element.find(\"img\").addClass(\"km-image\");\n\n                if (!span[0] && element.html()) {\n                    span = element.wrapInner('<span class=\"km-text\" />').children(\"span.km-text\");\n                }\n\n                if (!image[0] && icon) {\n                    if (!span[0]) {\n                        iconSpan += \" km-notext\";\n                    }\n                    that.iconElement = element.prepend($(iconSpan + '\" />'));\n                }\n\n                if (badge || badge === 0) {\n                    that.badgeElement = createBadge(badge).appendTo(element);\n                }\n            }\n        });\n\n        var BackButton = Button.extend({\n            options: {\n                name: \"BackButton\",\n                style: \"back\"\n            },\n\n            init: function(element, options) {\n                var that = this;\n                Button.fn.init.call(that, element, options);\n\n                if (typeof that.element.attr(\"href\") === \"undefined\") {\n                    that.element.attr(\"href\", \"#:back\");\n                }\n            }\n        });\n\n        var DetailButton = Button.extend({\n            options: {\n                name: \"DetailButton\",\n                style: \"\"\n            },\n\n            init: function(element, options) {\n                Button.fn.init.call(this, element, options);\n            },\n\n            _style: function() {\n                var style = this.options.style + \" detail\",\n                    element = this.element;\n\n                if (style) {\n                    var styles = style.split(\" \");\n                    $.each(styles, function() {\n                        element.addClass(\"km-\" + this);\n                    });\n                }\n            },\n\n            _wrap: function() {\n                var that = this,\n                    icon = that.options.icon,\n                    iconSpan = '<span class=\"km-icon km-' + icon,\n                    element = that.element,\n                    span = element.children(\"span\"),\n                    image = element.find(\"img\").addClass(\"km-image\");\n\n                if (!image[0] && icon) {\n                    if (!span[0]) {\n                        iconSpan += \" km-notext\";\n                    }\n                    element.prepend($(iconSpan + '\" />'));\n                }\n            }\n\n        });\n\n        ui.plugin(Button);\n        ui.plugin(BackButton);\n        ui.plugin(DetailButton);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    return kendo$1;\n\n}));\n"]}